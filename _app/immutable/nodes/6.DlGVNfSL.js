import{S as Nt,i as St,s as Tt,m as Ke,o as ee,p as N,q as I,r as te,u as le,v as re,w as ft,x as cl,y as ul,z as fl,A as dl,d as u,C as hl,b as ce,E as Ve,F as f,H as We,a as F,e as n,I as Ne,K as Cl,h as v,f as d,g,L as be,c as S,k as b,j as h,t as T,M as El,G as Gt,J as Dl,n as Ze,O as ze,W as Rt,N as Il,Z as Vl}from"../chunks/DnGBHVzR.js";import{P as Nl,T as Sl,C as Ot,L as Tl,g as Ol}from"../chunks/DN0wz6Ud.js";import{I as _l,g as gl,a as pl,C as Lt,e as Qe,u as ml,M as vl,o as bl}from"../chunks/iz_FF9Yn.js";import"../chunks/IHki7fMi.js";import{u as Ll}from"../chunks/BIiD-i7h.js";import{S as Xe,M as $l}from"../chunks/BzUL7Bjw.js";import{U as wl,M as yl}from"../chunks/C1WBOyOW.js";function Pl(c){let e;const t=c[2].default,r=cl(t,c,c[3],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s&8)&&ul(r,t,l,l[3],e?dl(t,l[3],s,null):fl(l[3]),null)},i(l){e||(I(r,l),e=!0)},o(l){N(r,l),e=!1},d(l){r&&r.d(l)}}}function Ml(c){let e,t;const r=[{name:"filter"},c[1],{iconNode:c[0]}];let l={$$slots:{default:[Pl]},$$scope:{ctx:c}};for(let s=0;s<r.length;s+=1)l=Ke(l,r[s]);return e=new _l({props:l}),{c(){re(e.$$.fragment)},l(s){le(e.$$.fragment,s)},m(s,a){te(e,s,a),t=!0},p(s,[a]){const i=a&3?gl(r,[r[0],a&2&&pl(s[1]),a&1&&{iconNode:s[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:s}),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function jl(c,e,t){let{$$slots:r={},$$scope:l}=e;const s=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]];return c.$$set=a=>{t(1,e=Ke(Ke({},e),ft(a))),"$$scope"in a&&t(3,l=a.$$scope)},e=ft(e),[s,e,r,l]}class Bl extends Nt{constructor(e){super(),St(this,e,jl,Ml,Tt,{})}}function Al(c){let e;const t=c[2].default,r=cl(t,c,c[3],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s&8)&&ul(r,t,l,l[3],e?dl(t,l[3],s,null):fl(l[3]),null)},i(l){e||(I(r,l),e=!0)},o(l){N(r,l),e=!1},d(l){r&&r.d(l)}}}function Ul(c){let e,t;const r=[{name:"grid-3x3"},c[1],{iconNode:c[0]}];let l={$$slots:{default:[Al]},$$scope:{ctx:c}};for(let s=0;s<r.length;s+=1)l=Ke(l,r[s]);return e=new _l({props:l}),{c(){re(e.$$.fragment)},l(s){le(e.$$.fragment,s)},m(s,a){te(e,s,a),t=!0},p(s,[a]){const i=a&3?gl(r,[r[0],a&2&&pl(s[1]),a&1&&{iconNode:s[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:s}),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function Fl(c,e,t){let{$$slots:r={},$$scope:l}=e;const s=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];return c.$$set=a=>{t(1,e=Ke(Ke({},e),ft(a))),"$$scope"in a&&t(3,l=a.$$scope)},e=ft(e),[s,e,r,l]}class ql extends Nt{constructor(e){super(),St(this,e,Fl,Ul,Tt,{})}}const{Map:kl}=Ol;function Yt(c,e,t){const r=c.slice();return r[27]=e[t],r}function Jt(c,e,t){const r=c.slice();return r[27]=e[t],r}function Kt(c,e,t){const r=c.slice();return r[30]=e[t],r}function Qt(c){let e,t;return{c(){e=h("span"),t=T(c[12]),this.h()},l(r){e=d(r,"SPAN",{class:!0});var l=g(e);t=S(l,c[12]),l.forEach(u),this.h()},h(){f(e,"class","absolute -top-2 -right-2 bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center")},m(r,l){F(r,e,l),n(e,t)},p(r,l){l[0]&4096&&ce(t,r[12])},d(r){r&&u(e)}}}function Zt(c){let e,t,r,l,s="Type",a,i,o,_="All Types",m,E="Visual",x,M="Audio",V,ae="Multi-modal",w,R="Plant",ie,$,C,y="Species",U,B,ue,Y,H,$e="From Date",Z,W,k,D,fe,O="To Date",L,J,K,A,Q,se=c[13].length+"",Ee,z,j=c[0].length+"",X,oe,De,P,ne,pe,ve,de;return{c(){e=h("div"),t=h("div"),r=h("div"),l=h("label"),l.textContent=s,a=b(),i=h("select"),o=h("option"),o.textContent=_,m=h("option"),m.textContent=E,x=h("option"),x.textContent=M,V=h("option"),V.textContent=ae,w=h("option"),w.textContent=R,ie=b(),$=h("div"),C=h("label"),C.textContent=y,U=b(),B=h("input"),ue=b(),Y=h("div"),H=h("label"),H.textContent=$e,Z=b(),W=h("input"),k=b(),D=h("div"),fe=h("label"),fe.textContent=O,L=b(),J=h("input"),K=b(),A=h("div"),Q=h("span"),Ee=T(se),z=T(" of "),X=T(j),oe=T(" observations"),De=b(),P=h("button"),ne=T("Clear Filters"),this.h()},l(G){e=d(G,"DIV",{class:!0});var q=g(e);t=d(q,"DIV",{class:!0});var me=g(t);r=d(me,"DIV",{});var we=g(r);l=d(we,"LABEL",{class:!0,"data-svelte-h":!0}),be(l)!=="svelte-1raub9i"&&(l.textContent=s),a=v(we),i=d(we,"SELECT",{class:!0});var he=g(i);o=d(he,"OPTION",{"data-svelte-h":!0}),be(o)!=="svelte-7jahaz"&&(o.textContent=_),m=d(he,"OPTION",{"data-svelte-h":!0}),be(m)!=="svelte-1qfmjda"&&(m.textContent=E),x=d(he,"OPTION",{"data-svelte-h":!0}),be(x)!=="svelte-swmyqm"&&(x.textContent=M),V=d(he,"OPTION",{"data-svelte-h":!0}),be(V)!=="svelte-gbud8k"&&(V.textContent=ae),w=d(he,"OPTION",{"data-svelte-h":!0}),be(w)!=="svelte-11bf4ck"&&(w.textContent=R),he.forEach(u),we.forEach(u),ie=v(me),$=d(me,"DIV",{});var Ie=g($);C=d(Ie,"LABEL",{class:!0,"data-svelte-h":!0}),be(C)!=="svelte-1jy3xko"&&(C.textContent=y),U=v(Ie),B=d(Ie,"INPUT",{type:!0,placeholder:!0,class:!0}),Ie.forEach(u),ue=v(me),Y=d(me,"DIV",{});var ge=g(Y);H=d(ge,"LABEL",{class:!0,"data-svelte-h":!0}),be(H)!=="svelte-xejcke"&&(H.textContent=$e),Z=v(ge),W=d(ge,"INPUT",{type:!0,class:!0}),ge.forEach(u),k=v(me),D=d(me,"DIV",{});var Be=g(D);fe=d(Be,"LABEL",{class:!0,"data-svelte-h":!0}),be(fe)!=="svelte-h8knfr"&&(fe.textContent=O),L=v(Be),J=d(Be,"INPUT",{type:!0,class:!0}),Be.forEach(u),me.forEach(u),K=v(q),A=d(q,"DIV",{class:!0});var xe=g(A);Q=d(xe,"SPAN",{class:!0});var Ce=g(Q);Ee=S(Ce,se),z=S(Ce," of "),X=S(Ce,j),oe=S(Ce," observations"),Ce.forEach(u),De=v(xe),P=d(xe,"BUTTON",{class:!0});var Le=g(P);ne=S(Le,"Clear Filters"),Le.forEach(u),xe.forEach(u),q.forEach(u),this.h()},h(){f(l,"class","block text-sm font-medium text-gray-700 mb-2"),o.__value="all",Ve(o,o.__value),m.__value="visual",Ve(m,m.__value),x.__value="audio",Ve(x,x.__value),V.__value="multi-modal",Ve(V,V.__value),w.__value="plant",Ve(w,w.__value),f(i,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"),c[2]===void 0&&Dl(()=>c[21].call(i)),f(C,"class","block text-sm font-medium text-gray-700 mb-2"),f(B,"type","text"),f(B,"placeholder","Filter by species"),f(B,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"),f(H,"class","block text-sm font-medium text-gray-700 mb-2"),f(W,"type","date"),f(W,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"),f(fe,"class","block text-sm font-medium text-gray-700 mb-2"),f(J,"type","date"),f(J,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"),f(t,"class","grid grid-cols-1 md:grid-cols-4 gap-4"),f(Q,"class","text-sm text-gray-600"),f(P,"class","text-sm text-green-600 hover:text-green-700 font-medium"),P.disabled=pe=c[12]===0,f(A,"class","flex justify-between items-center mt-4 pt-4 border-t border-gray-200"),f(e,"class","filters-panel bg-white border border-gray-200 rounded-lg p-6")},m(G,q){F(G,e,q),n(e,t),n(t,r),n(r,l),n(r,a),n(r,i),n(i,o),n(i,m),n(i,x),n(i,V),n(i,w),Gt(i,c[2],!0),n(t,ie),n(t,$),n($,C),n($,U),n($,B),Ve(B,c[3]),n(t,ue),n(t,Y),n(Y,H),n(Y,Z),n(Y,W),Ve(W,c[4].start),n(t,k),n(t,D),n(D,fe),n(D,L),n(D,J),Ve(J,c[4].end),n(e,K),n(e,A),n(A,Q),n(Q,Ee),n(Q,z),n(Q,X),n(Q,oe),n(A,De),n(A,P),n(P,ne),ve||(de=[Ne(i,"change",c[21]),Ne(B,"input",c[22]),Ne(W,"input",c[23]),Ne(J,"input",c[24]),Ne(P,"click",c[15])],ve=!0)},p(G,q){q[0]&4&&Gt(i,G[2]),q[0]&8&&B.value!==G[3]&&Ve(B,G[3]),q[0]&16&&Ve(W,G[4].start),q[0]&16&&Ve(J,G[4].end),q[0]&8192&&se!==(se=G[13].length+"")&&ce(Ee,se),q[0]&1&&j!==(j=G[0].length+"")&&ce(X,j),q[0]&4096&&pe!==(pe=G[12]===0)&&(P.disabled=pe)},d(G){G&&u(e),ve=!1,hl(de)}}}function Hl(c){let e,t,r,l;const s=[Yl,Rl,Gl],a=[];function i(o,_){return o[6]==="map"?0:o[6]==="list"?1:2}return e=i(c),t=a[e]=s[e](c),{c(){t.c(),r=Rt()},l(o){t.l(o),r=Rt()},m(o,_){a[e].m(o,_),F(o,r,_),l=!0},p(o,_){let m=e;e=i(o),e===m?a[e].p(o,_):(ze(),N(a[m],1,1,()=>{a[m]=null}),We(),t=a[e],t?t.p(o,_):(t=a[e]=s[e](o),t.c()),I(t,1),t.m(r.parentNode,r))},i(o){l||(I(t),l=!0)},o(o){N(t),l=!1},d(o){o&&u(r),a[e].d(o)}}}function Wl(c){let e,t,r,l,s=c[12]>0?"No observations match your filters":"No observations found",a,i,o,_=c[12]>0?"Try adjusting your search terms or filters":"Be the first to document wildlife in your area!",m,E,x,M,V,ae,w,R,ie;t=new Xe({props:{class:"w-16 h-16 text-gray-400 mb-4"}});let $=c[12]>0&&ol(c);return V=new Lt({props:{class:"w-5 h-5"}}),{c(){e=h("div"),re(t.$$.fragment),r=b(),l=h("h3"),a=T(s),i=b(),o=h("p"),m=T(_),E=b(),$&&$.c(),x=b(),M=h("button"),re(V.$$.fragment),ae=T(`\r
          Create First Observation`),this.h()},l(C){e=d(C,"DIV",{class:!0});var y=g(e);le(t.$$.fragment,y),r=v(y),l=d(y,"H3",{class:!0});var U=g(l);a=S(U,s),U.forEach(u),i=v(y),o=d(y,"P",{class:!0});var B=g(o);m=S(B,_),B.forEach(u),E=v(y),$&&$.l(y),x=v(y),M=d(y,"BUTTON",{class:!0});var ue=g(M);le(V.$$.fragment,ue),ae=S(ue,`\r
          Create First Observation`),ue.forEach(u),y.forEach(u),this.h()},h(){f(l,"class","text-xl font-semibold text-gray-700 mb-2"),f(o,"class","text-gray-600 mb-6"),f(M,"class","bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2"),f(e,"class","no-results flex flex-col items-center justify-center py-16")},m(C,y){F(C,e,y),te(t,e,null),n(e,r),n(e,l),n(l,a),n(e,i),n(e,o),n(o,m),n(e,E),$&&$.m(e,null),n(e,x),n(e,M),te(V,M,null),n(M,ae),w=!0,R||(ie=Ne(M,"click",xl),R=!0)},p(C,y){(!w||y[0]&4096)&&s!==(s=C[12]>0?"No observations match your filters":"No observations found")&&ce(a,s),(!w||y[0]&4096)&&_!==(_=C[12]>0?"Try adjusting your search terms or filters":"Be the first to document wildlife in your area!")&&ce(m,_),C[12]>0?$?$.p(C,y):($=ol(C),$.c(),$.m(e,x)):$&&($.d(1),$=null)},i(C){w||(I(t.$$.fragment,C),I(V.$$.fragment,C),w=!0)},o(C){N(t.$$.fragment,C),N(V.$$.fragment,C),w=!1},d(C){C&&u(e),ee(t),$&&$.d(),ee(V),R=!1,ie()}}}function zl(c){let e,t='<div class="animate-spin w-8 h-8 border-3 border-green-600 border-t-transparent rounded-full mb-4"></div> <p class="text-gray-600">Loading observations...</p>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-ltuv5x"&&(e.innerHTML=t),this.h()},h(){f(e,"class","loading-state flex flex-col items-center justify-center py-16")},m(r,l){F(r,e,l)},p:Ze,i:Ze,o:Ze,d(r){r&&u(e)}}}function Gl(c){let e,t=[],r=new kl,l,s=Qe(c[13]);const a=i=>i[27].id;for(let i=0;i<s.length;i+=1){let o=Yt(c,s,i),_=a(o);r.set(_,t[i]=tl(_,o))}return{c(){e=h("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=d(i,"DIV",{class:!0});var o=g(e);for(let _=0;_<t.length;_+=1)t[_].l(o);o.forEach(u),this.h()},h(){f(e,"class","grid-view grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6")},m(i,o){F(i,e,o);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);l=!0},p(i,o){o[0]&8192&&(s=Qe(i[13]),ze(),t=ml(t,o,a,1,i,s,r,e,bl,tl,null,Yt),We())},i(i){if(!l){for(let o=0;o<s.length;o+=1)I(t[o]);l=!0}},o(i){for(let o=0;o<t.length;o+=1)N(t[o]);l=!1},d(i){i&&u(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Rl(c){let e,t=[],r=new kl,l,s=Qe(c[13]);const a=i=>i[27].id;for(let i=0;i<s.length;i+=1){let o=Jt(c,s,i),_=a(o);r.set(_,t[i]=il(_,o))}return{c(){e=h("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=d(i,"DIV",{class:!0});var o=g(e);for(let _=0;_<t.length;_+=1)t[_].l(o);o.forEach(u),this.h()},h(){f(e,"class","list-view space-y-4")},m(i,o){F(i,e,o);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);l=!0},p(i,o){o[0]&8192&&(s=Qe(i[13]),ze(),t=ml(t,o,a,1,i,s,r,e,bl,il,null,Jt),We())},i(i){if(!l){for(let o=0;o<s.length;o+=1)I(t[o]);l=!0}},o(i){for(let o=0;o<t.length;o+=1)N(t[o]);l=!1},d(i){i&&u(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Yl(c){let e,t,r,l,s="Interactive Map Coming Soon",a,i,o="The map view will show observation locations with clustering and filtering capabilities.",_;return t=new yl({props:{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}}),{c(){e=h("div"),re(t.$$.fragment),r=b(),l=h("h3"),l.textContent=s,a=b(),i=h("p"),i.textContent=o,this.h()},l(m){e=d(m,"DIV",{class:!0});var E=g(e);le(t.$$.fragment,E),r=v(E),l=d(E,"H3",{class:!0,"data-svelte-h":!0}),be(l)!=="svelte-17wruhg"&&(l.textContent=s),a=v(E),i=d(E,"P",{class:!0,"data-svelte-h":!0}),be(i)!=="svelte-f4ash3"&&(i.textContent=o),E.forEach(u),this.h()},h(){f(l,"class","text-lg font-semibold text-gray-700 mb-2"),f(i,"class","text-gray-600"),f(e,"class","map-view bg-gray-100 rounded-lg p-8 text-center")},m(m,E){F(m,e,E),te(t,e,null),n(e,r),n(e,l),n(e,a),n(e,i),_=!0},p:Ze,i(m){_||(I(t.$$.fragment,m),_=!0)},o(m){N(t.$$.fragment,m),_=!1},d(m){m&&u(e),ee(t)}}}function Jl(c){let e,t;return e=new Xe({props:{class:"w-12 h-12 text-gray-400"}}),{c(){re(e.$$.fragment)},l(r){le(e.$$.fragment,r)},m(r,l){te(e,r,l),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function Kl(c){let e,t,r,l="Audio",s;return e=new vl({props:{class:"w-12 h-12 text-green-600"}}),{c(){re(e.$$.fragment),t=b(),r=h("span"),r.textContent=l,this.h()},l(a){le(e.$$.fragment,a),t=v(a),r=d(a,"SPAN",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-14dkvto"&&(r.textContent=l),this.h()},h(){f(r,"class","absolute top-2 right-2 px-2 py-1 bg-green-600 text-white text-xs rounded-full")},m(a,i){te(e,a,i),F(a,t,i),F(a,r,i),s=!0},i(a){s||(I(e.$$.fragment,a),s=!0)},o(a){N(e.$$.fragment,a),s=!1},d(a){a&&(u(t),u(r)),ee(e,a)}}}function Ql(c){let e,t,r,l="Photo",s;return e=new Lt({props:{class:"w-12 h-12 text-gray-500"}}),{c(){re(e.$$.fragment),t=b(),r=h("span"),r.textContent=l,this.h()},l(a){le(e.$$.fragment,a),t=v(a),r=d(a,"SPAN",{class:!0,"data-svelte-h":!0}),be(r)!=="svelte-zbu0jl"&&(r.textContent=l),this.h()},h(){f(r,"class","absolute top-2 right-2 px-2 py-1 bg-blue-600 text-white text-xs rounded-full")},m(a,i){te(e,a,i),F(a,t,i),F(a,r,i),s=!0},i(a){s||(I(e.$$.fragment,a),s=!0)},o(a){N(e.$$.fragment,a),s=!1},d(a){a&&(u(t),u(r)),ee(e,a)}}}function Xt(c){let e,t=c[27].scientific_name+"",r;return{c(){e=h("p"),r=T(t),this.h()},l(l){e=d(l,"P",{class:!0});var s=g(e);r=S(s,t),s.forEach(u),this.h()},h(){f(e,"class","text-sm text-gray-600 italic mb-2")},m(l,s){F(l,e,s),n(e,r)},p(l,s){s[0]&8192&&t!==(t=l[27].scientific_name+"")&&ce(r,t)},d(l){l&&u(e)}}}function el(c){let e,t=c[27].description+"",r;return{c(){e=h("p"),r=T(t),this.h()},l(l){e=d(l,"P",{class:!0});var s=g(e);r=S(s,t),s.forEach(u),this.h()},h(){f(e,"class","text-sm text-gray-700 line-clamp-2 svelte-efadq")},m(l,s){F(l,e,s),n(e,r)},p(l,s){s[0]&8192&&t!==(t=l[27].description+"")&&ce(r,t)},d(l){l&&u(e)}}}function tl(c,e){var fe;let t,r,l,s,a,i,o,_=(e[27].species_name||"Unknown Species")+"",m,E,x,M,V,ae,w=(((fe=e[27].location)==null?void 0:fe.region)||"Location unknown")+"",R,ie,$,C,y,U=new Date(e[27].created_at).toLocaleDateString()+"",B,ue,Y,H;const $e=[Ql,Kl,Jl],Z=[];function W(O,L){return O[27].image_urls&&O[27].image_urls.length>0?0:O[27].audio_url?1:2}l=W(e),s=Z[l]=$e[l](e);let k=e[27].scientific_name&&Xt(e);V=new $l({props:{class:"w-4 h-4"}}),C=new Ot({props:{class:"w-4 h-4"}});let D=e[27].description&&el(e);return{key:c,first:null,c(){t=h("div"),r=h("div"),s.c(),a=b(),i=h("div"),o=h("h3"),m=T(_),E=b(),k&&k.c(),x=b(),M=h("div"),re(V.$$.fragment),ae=b(),R=T(w),ie=b(),$=h("div"),re(C.$$.fragment),y=b(),B=T(U),ue=b(),D&&D.c(),Y=b(),this.h()},l(O){t=d(O,"DIV",{class:!0});var L=g(t);r=d(L,"DIV",{class:!0});var J=g(r);s.l(J),J.forEach(u),a=v(L),i=d(L,"DIV",{class:!0});var K=g(i);o=d(K,"H3",{class:!0});var A=g(o);m=S(A,_),A.forEach(u),E=v(K),k&&k.l(K),x=v(K),M=d(K,"DIV",{class:!0});var Q=g(M);le(V.$$.fragment,Q),ae=v(Q),R=S(Q,w),Q.forEach(u),ie=v(K),$=d(K,"DIV",{class:!0});var se=g($);le(C.$$.fragment,se),y=v(se),B=S(se,U),se.forEach(u),ue=v(K),D&&D.l(K),K.forEach(u),Y=v(L),L.forEach(u),this.h()},h(){f(r,"class","card-header h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center relative"),f(o,"class","font-semibold text-gray-900 mb-1"),f(M,"class","flex items-center gap-2 text-sm text-gray-600 mb-2"),f($,"class","flex items-center gap-2 text-sm text-gray-600 mb-3"),f(i,"class","p-4"),f(t,"class","observation-card bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden"),this.first=t},m(O,L){F(O,t,L),n(t,r),Z[l].m(r,null),n(t,a),n(t,i),n(i,o),n(o,m),n(i,E),k&&k.m(i,null),n(i,x),n(i,M),te(V,M,null),n(M,ae),n(M,R),n(i,ie),n(i,$),te(C,$,null),n($,y),n($,B),n(i,ue),D&&D.m(i,null),n(t,Y),H=!0},p(O,L){var K;e=O;let J=l;l=W(e),l!==J&&(ze(),N(Z[J],1,1,()=>{Z[J]=null}),We(),s=Z[l],s||(s=Z[l]=$e[l](e),s.c()),I(s,1),s.m(r,null)),(!H||L[0]&8192)&&_!==(_=(e[27].species_name||"Unknown Species")+"")&&ce(m,_),e[27].scientific_name?k?k.p(e,L):(k=Xt(e),k.c(),k.m(i,x)):k&&(k.d(1),k=null),(!H||L[0]&8192)&&w!==(w=(((K=e[27].location)==null?void 0:K.region)||"Location unknown")+"")&&ce(R,w),(!H||L[0]&8192)&&U!==(U=new Date(e[27].created_at).toLocaleDateString()+"")&&ce(B,U),e[27].description?D?D.p(e,L):(D=el(e),D.c(),D.m(i,null)):D&&(D.d(1),D=null)},i(O){H||(I(s),I(V.$$.fragment,O),I(C.$$.fragment,O),H=!0)},o(O){N(s),N(V.$$.fragment,O),N(C.$$.fragment,O),H=!1},d(O){O&&u(t),Z[l].d(),k&&k.d(),ee(V),ee(C),D&&D.d()}}}function Zl(c){let e,t,r;return t=new Xe({props:{class:"w-6 h-6 text-gray-400"}}),{c(){e=h("div"),re(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var s=g(e);le(t.$$.fragment,s),s.forEach(u),this.h()},h(){f(e,"class","w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center")},m(l,s){F(l,e,s),te(t,e,null),r=!0},i(l){r||(I(t.$$.fragment,l),r=!0)},o(l){N(t.$$.fragment,l),r=!1},d(l){l&&u(e),ee(t)}}}function Xl(c){let e,t,r;return t=new vl({props:{class:"w-6 h-6 text-green-600"}}),{c(){e=h("div"),re(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var s=g(e);le(t.$$.fragment,s),s.forEach(u),this.h()},h(){f(e,"class","w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center")},m(l,s){F(l,e,s),te(t,e,null),r=!0},i(l){r||(I(t.$$.fragment,l),r=!0)},o(l){N(t.$$.fragment,l),r=!1},d(l){l&&u(e),ee(t)}}}function er(c){let e,t,r;return t=new Lt({props:{class:"w-6 h-6 text-blue-600"}}),{c(){e=h("div"),re(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var s=g(e);le(t.$$.fragment,s),s.forEach(u),this.h()},h(){f(e,"class","w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center")},m(l,s){F(l,e,s),te(t,e,null),r=!0},i(l){r||(I(t.$$.fragment,l),r=!0)},o(l){N(t.$$.fragment,l),r=!1},d(l){l&&u(e),ee(t)}}}function ll(c){let e,t=c[27].scientific_name+"",r;return{c(){e=h("p"),r=T(t),this.h()},l(l){e=d(l,"P",{class:!0});var s=g(e);r=S(s,t),s.forEach(u),this.h()},h(){f(e,"class","text-sm text-gray-600 italic")},m(l,s){F(l,e,s),n(e,r)},p(l,s){s[0]&8192&&t!==(t=l[27].scientific_name+"")&&ce(r,t)},d(l){l&&u(e)}}}function rl(c){let e,t,r,l=c[27].count+"",s,a,i;return t=new wl({props:{class:"w-4 h-4"}}),{c(){e=h("div"),re(t.$$.fragment),r=b(),s=T(l),a=T(" individuals"),this.h()},l(o){e=d(o,"DIV",{class:!0});var _=g(e);le(t.$$.fragment,_),r=v(_),s=S(_,l),a=S(_," individuals"),_.forEach(u),this.h()},h(){f(e,"class","flex items-center gap-1")},m(o,_){F(o,e,_),te(t,e,null),n(e,r),n(e,s),n(e,a),i=!0},p(o,_){(!i||_[0]&8192)&&l!==(l=o[27].count+"")&&ce(s,l)},i(o){i||(I(t.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),i=!1},d(o){o&&u(e),ee(t)}}}function sl(c){let e,t=c[27].description+"",r;return{c(){e=h("p"),r=T(t),this.h()},l(l){e=d(l,"P",{class:!0});var s=g(e);r=S(s,t),s.forEach(u),this.h()},h(){f(e,"class","text-gray-700 mb-3")},m(l,s){F(l,e,s),n(e,r)},p(l,s){s[0]&8192&&t!==(t=l[27].description+"")&&ce(r,t)},d(l){l&&u(e)}}}function nl(c){let e,t=Qe(c[27].tags),r=[];for(let l=0;l<t.length;l+=1)r[l]=al(Kt(c,t,l));return{c(){e=h("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=d(l,"DIV",{class:!0});var s=g(e);for(let a=0;a<r.length;a+=1)r[a].l(s);s.forEach(u),this.h()},h(){f(e,"class","flex flex-wrap gap-2")},m(l,s){F(l,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(l,s){if(s[0]&8192){t=Qe(l[27].tags);let a;for(a=0;a<t.length;a+=1){const i=Kt(l,t,a);r[a]?r[a].p(i,s):(r[a]=al(i),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(l){l&&u(e),Vl(r,l)}}}function al(c){let e,t=c[30]+"",r,l;return{c(){e=h("span"),r=T(t),l=b(),this.h()},l(s){e=d(s,"SPAN",{class:!0});var a=g(e);r=S(a,t),l=v(a),a.forEach(u),this.h()},h(){f(e,"class","px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full")},m(s,a){F(s,e,a),n(e,r),n(e,l)},p(s,a){a[0]&8192&&t!==(t=s[30]+"")&&ce(r,t)},d(s){s&&u(e)}}}function il(c,e){var De;let t,r,l,s,a,i,o,_,m,E,x=(e[27].species_name||"Unknown Species")+"",M,V,ae,w,R=e[27].observation_type+"",ie,$,C,y,U,B,ue,Y=(((De=e[27].location)==null?void 0:De.region)||"Location unknown")+"",H,$e,Z,W,k,D=new Date(e[27].created_at).toLocaleDateString()+"",fe,O,L,J,K,A;const Q=[er,Xl,Zl],se=[];function Ee(P,ne){return P[27].image_urls&&P[27].image_urls.length>0?0:P[27].audio_url?1:2}s=Ee(e),a=se[s]=Q[s](e);let z=e[27].scientific_name&&ll(e);B=new $l({props:{class:"w-4 h-4"}}),W=new Ot({props:{class:"w-4 h-4"}});let j=e[27].count&&e[27].count>1&&rl(e),X=e[27].description&&sl(e),oe=e[27].tags&&e[27].tags.length>0&&nl(e);return{key:c,first:null,c(){t=h("div"),r=h("div"),l=h("div"),a.c(),i=b(),o=h("div"),_=h("div"),m=h("div"),E=h("h3"),M=T(x),V=b(),z&&z.c(),ae=b(),w=h("span"),ie=T(R),C=b(),y=h("div"),U=h("div"),re(B.$$.fragment),ue=b(),H=T(Y),$e=b(),Z=h("div"),re(W.$$.fragment),k=b(),fe=T(D),O=b(),j&&j.c(),L=b(),X&&X.c(),J=b(),oe&&oe.c(),K=b(),this.h()},l(P){t=d(P,"DIV",{class:!0});var ne=g(t);r=d(ne,"DIV",{class:!0});var pe=g(r);l=d(pe,"DIV",{class:!0});var ve=g(l);a.l(ve),ve.forEach(u),i=v(pe),o=d(pe,"DIV",{class:!0});var de=g(o);_=d(de,"DIV",{class:!0});var G=g(_);m=d(G,"DIV",{});var q=g(m);E=d(q,"H3",{class:!0});var me=g(E);M=S(me,x),me.forEach(u),V=v(q),z&&z.l(q),q.forEach(u),ae=v(G),w=d(G,"SPAN",{class:!0});var we=g(w);ie=S(we,R),we.forEach(u),G.forEach(u),C=v(de),y=d(de,"DIV",{class:!0});var he=g(y);U=d(he,"DIV",{class:!0});var Ie=g(U);le(B.$$.fragment,Ie),ue=v(Ie),H=S(Ie,Y),Ie.forEach(u),$e=v(he),Z=d(he,"DIV",{class:!0});var ge=g(Z);le(W.$$.fragment,ge),k=v(ge),fe=S(ge,D),ge.forEach(u),O=v(he),j&&j.l(he),he.forEach(u),L=v(de),X&&X.l(de),J=v(de),oe&&oe.l(de),de.forEach(u),pe.forEach(u),K=v(ne),ne.forEach(u),this.h()},h(){f(l,"class","flex-shrink-0"),f(E,"class","text-lg font-semibold text-gray-900"),f(w,"class",$="px-2 py-1 bg-"+(e[27].observation_type==="visual"?"blue":e[27].observation_type==="audio"?"green":"purple")+"-100 text-"+(e[27].observation_type==="visual"?"blue":e[27].observation_type==="audio"?"green":"purple")+"-800 text-xs rounded-full"),f(_,"class","flex items-start justify-between mb-2"),f(U,"class","flex items-center gap-1"),f(Z,"class","flex items-center gap-1"),f(y,"class","flex items-center gap-4 text-sm text-gray-600 mb-3"),f(o,"class","flex-grow"),f(r,"class","flex items-start gap-4"),f(t,"class","observation-item bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow"),this.first=t},m(P,ne){F(P,t,ne),n(t,r),n(r,l),se[s].m(l,null),n(r,i),n(r,o),n(o,_),n(_,m),n(m,E),n(E,M),n(m,V),z&&z.m(m,null),n(_,ae),n(_,w),n(w,ie),n(o,C),n(o,y),n(y,U),te(B,U,null),n(U,ue),n(U,H),n(y,$e),n(y,Z),te(W,Z,null),n(Z,k),n(Z,fe),n(y,O),j&&j.m(y,null),n(o,L),X&&X.m(o,null),n(o,J),oe&&oe.m(o,null),n(t,K),A=!0},p(P,ne){var ve;e=P;let pe=s;s=Ee(e),s!==pe&&(ze(),N(se[pe],1,1,()=>{se[pe]=null}),We(),a=se[s],a||(a=se[s]=Q[s](e),a.c()),I(a,1),a.m(l,null)),(!A||ne[0]&8192)&&x!==(x=(e[27].species_name||"Unknown Species")+"")&&ce(M,x),e[27].scientific_name?z?z.p(e,ne):(z=ll(e),z.c(),z.m(m,null)):z&&(z.d(1),z=null),(!A||ne[0]&8192)&&R!==(R=e[27].observation_type+"")&&ce(ie,R),(!A||ne[0]&8192&&$!==($="px-2 py-1 bg-"+(e[27].observation_type==="visual"?"blue":e[27].observation_type==="audio"?"green":"purple")+"-100 text-"+(e[27].observation_type==="visual"?"blue":e[27].observation_type==="audio"?"green":"purple")+"-800 text-xs rounded-full"))&&f(w,"class",$),(!A||ne[0]&8192)&&Y!==(Y=(((ve=e[27].location)==null?void 0:ve.region)||"Location unknown")+"")&&ce(H,Y),(!A||ne[0]&8192)&&D!==(D=new Date(e[27].created_at).toLocaleDateString()+"")&&ce(fe,D),e[27].count&&e[27].count>1?j?(j.p(e,ne),ne[0]&8192&&I(j,1)):(j=rl(e),j.c(),I(j,1),j.m(y,null)):j&&(ze(),N(j,1,1,()=>{j=null}),We()),e[27].description?X?X.p(e,ne):(X=sl(e),X.c(),X.m(o,J)):X&&(X.d(1),X=null),e[27].tags&&e[27].tags.length>0?oe?oe.p(e,ne):(oe=nl(e),oe.c(),oe.m(o,null)):oe&&(oe.d(1),oe=null)},i(P){A||(I(a),I(B.$$.fragment,P),I(W.$$.fragment,P),I(j),A=!0)},o(P){N(a),N(B.$$.fragment,P),N(W.$$.fragment,P),N(j),A=!1},d(P){P&&u(t),se[s].d(),z&&z.d(),ee(B),ee(W),j&&j.d(),X&&X.d(),oe&&oe.d()}}}function ol(c){let e,t="Clear all filters",r,l;return{c(){e=h("button"),e.textContent=t,this.h()},l(s){e=d(s,"BUTTON",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-1kdxemu"&&(e.textContent=t),this.h()},h(){f(e,"class","text-green-600 hover:text-green-700 font-medium mb-4")},m(s,a){F(s,e,a),r||(l=Ne(e,"click",c[15]),r=!0)},p:Ze,d(s){s&&u(e),r=!1,l()}}}function tr(c){let e,t,r,l,s="Wildlife Observations",a,i,o="Discover and document the incredible biodiversity in your area. Every observation counts for conservation!",_,m,E,x,M,V,ae,w,R,ie,$,C,y,U,B,ue,Y,H,$e,Z,W,k,D,fe,O,L,J,K,A,Q,se,Ee,z,j,X,oe,De,P,ne,pe,ve,de,G,q,me,we,he,Ie,ge,Be,xe,Ce,Le,dt,et,ht,Me,Fe,_t,tt,gt,je,qe,pt,lt,mt,Pe,He,vt,bt,$t,Se,Te,Oe,wt,Pt;E=new Nl({props:{class:"w-5 h-5"}}),U=new Sl({props:{class:"w-4 h-4"}}),k=new Xe({props:{class:"w-4 h-4"}}),Q=new Ot({props:{class:"w-4 h-4"}}),P=new wl({props:{class:"w-4 h-4"}}),he=new Xe({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}}),Le=new yl({props:{class:"w-4 h-4"}}),Fe=new Tl({props:{class:"w-4 h-4"}}),qe=new ql({props:{class:"w-4 h-4"}}),He=new Bl({props:{class:"w-4 h-4"}});let ye=c[12]>0&&Qt(c),ke=c[7]&&Zt(c);const Mt=[zl,Wl,Hl],Ae=[];function jt(p,_e){return p[5]?0:p[13].length===0?1:2}return Se=jt(c),Te=Ae[Se]=Mt[Se](c),{c(){e=b(),t=h("section"),r=h("div"),l=h("h1"),l.textContent=s,a=b(),i=h("p"),i.textContent=o,_=b(),m=h("button"),re(E.$$.fragment),x=T(`\r
      Add New Observation`),M=b(),V=h("section"),ae=h("div"),w=h("div"),R=h("div"),ie=h("div"),$=T(c[8]),C=b(),y=h("div"),re(U.$$.fragment),B=T(`\r
          Total Observations`),ue=b(),Y=h("div"),H=h("div"),$e=T(c[9]),Z=b(),W=h("div"),re(k.$$.fragment),D=T(`\r
          Species Documented`),fe=b(),O=h("div"),L=h("div"),J=T(c[10]),K=b(),A=h("div"),re(Q.$$.fragment),se=T(`\r
          This Week`),Ee=b(),z=h("div"),j=h("div"),X=T(c[11]),oe=b(),De=h("div"),re(P.$$.fragment),ne=T(`\r
          My Contributions`),pe=b(),ve=h("main"),de=h("div"),G=h("div"),q=h("div"),me=h("div"),we=h("div"),re(he.$$.fragment),Ie=b(),ge=h("input"),Be=b(),xe=h("div"),Ce=h("button"),re(Le.$$.fragment),dt=T(`\r
            Map`),ht=b(),Me=h("button"),re(Fe.$$.fragment),_t=T(`\r
            List`),gt=b(),je=h("button"),re(qe.$$.fragment),pt=T(`\r
            Grid`),mt=b(),Pe=h("button"),re(He.$$.fragment),vt=T(`\r
          Filters\r
          `),ye&&ye.c(),bt=b(),ke&&ke.c(),$t=b(),Te.c(),this.h()},l(p){Cl("svelte-1f668kq",document.head).forEach(u),e=v(p),t=d(p,"SECTION",{class:!0});var Ge=g(t);r=d(Ge,"DIV",{class:!0});var Re=g(r);l=d(Re,"H1",{class:!0,"data-svelte-h":!0}),be(l)!=="svelte-kind3f"&&(l.textContent=s),a=v(Re),i=d(Re,"P",{class:!0,"data-svelte-h":!0}),be(i)!=="svelte-7jb1yg"&&(i.textContent=o),_=v(Re),m=d(Re,"BUTTON",{class:!0});var yt=g(m);le(E.$$.fragment,yt),x=S(yt,`\r
      Add New Observation`),yt.forEach(u),Re.forEach(u),Ge.forEach(u),M=v(p),V=d(p,"SECTION",{class:!0});var Bt=g(V);ae=d(Bt,"DIV",{class:!0});var At=g(ae);w=d(At,"DIV",{class:!0});var Ue=g(w);R=d(Ue,"DIV",{class:!0});var rt=g(R);ie=d(rt,"DIV",{class:!0});var Ut=g(ie);$=S(Ut,c[8]),Ut.forEach(u),C=v(rt),y=d(rt,"DIV",{class:!0});var kt=g(y);le(U.$$.fragment,kt),B=S(kt,`\r
          Total Observations`),kt.forEach(u),rt.forEach(u),ue=v(Ue),Y=d(Ue,"DIV",{class:!0});var st=g(Y);H=d(st,"DIV",{class:!0});var Ft=g(H);$e=S(Ft,c[9]),Ft.forEach(u),Z=v(st),W=d(st,"DIV",{class:!0});var xt=g(W);le(k.$$.fragment,xt),D=S(xt,`\r
          Species Documented`),xt.forEach(u),st.forEach(u),fe=v(Ue),O=d(Ue,"DIV",{class:!0});var nt=g(O);L=d(nt,"DIV",{class:!0});var qt=g(L);J=S(qt,c[10]),qt.forEach(u),K=v(nt),A=d(nt,"DIV",{class:!0});var Ct=g(A);le(Q.$$.fragment,Ct),se=S(Ct,`\r
          This Week`),Ct.forEach(u),nt.forEach(u),Ee=v(Ue),z=d(Ue,"DIV",{class:!0});var at=g(z);j=d(at,"DIV",{class:!0});var Ht=g(j);X=S(Ht,c[11]),Ht.forEach(u),oe=v(at),De=d(at,"DIV",{class:!0});var Et=g(De);le(P.$$.fragment,Et),ne=S(Et,`\r
          My Contributions`),Et.forEach(u),at.forEach(u),Ue.forEach(u),At.forEach(u),Bt.forEach(u),pe=v(p),ve=d(p,"MAIN",{class:!0});var Wt=g(ve);de=d(Wt,"DIV",{class:!0});var it=g(de);G=d(it,"DIV",{class:!0});var ot=g(G);q=d(ot,"DIV",{class:!0});var Ye=g(q);me=d(Ye,"DIV",{class:!0});var zt=g(me);we=d(zt,"DIV",{class:!0});var ct=g(we);le(he.$$.fragment,ct),Ie=v(ct),ge=d(ct,"INPUT",{type:!0,placeholder:!0,class:!0}),ct.forEach(u),zt.forEach(u),Be=v(Ye),xe=d(Ye,"DIV",{class:!0});var Je=g(xe);Ce=d(Je,"BUTTON",{class:!0});var Dt=g(Ce);le(Le.$$.fragment,Dt),dt=S(Dt,`\r
            Map`),Dt.forEach(u),ht=v(Je),Me=d(Je,"BUTTON",{class:!0});var It=g(Me);le(Fe.$$.fragment,It),_t=S(It,`\r
            List`),It.forEach(u),gt=v(Je),je=d(Je,"BUTTON",{class:!0});var Vt=g(je);le(qe.$$.fragment,Vt),pt=S(Vt,`\r
            Grid`),Vt.forEach(u),Je.forEach(u),mt=v(Ye),Pe=d(Ye,"BUTTON",{class:!0});var ut=g(Pe);le(He.$$.fragment,ut),vt=S(ut,`\r
          Filters\r
          `),ye&&ye.l(ut),ut.forEach(u),Ye.forEach(u),bt=v(ot),ke&&ke.l(ot),ot.forEach(u),$t=v(it),Te.l(it),it.forEach(u),Wt.forEach(u),this.h()},h(){document.title="Observations | Leopold Nature Observer",f(l,"class","text-4xl font-bold mb-4"),f(i,"class","text-xl mb-8 max-w-2xl mx-auto"),f(m,"class","bg-white text-green-600 px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold flex items-center gap-2 mx-auto"),f(r,"class","container mx-auto px-4 text-center"),f(t,"class","hero bg-gradient-to-r from-green-600 to-blue-600 text-white py-16"),f(ie,"class","text-3xl font-bold text-green-600 mb-2"),f(y,"class","text-sm text-gray-600 flex items-center justify-center gap-1"),f(R,"class","stat-card text-center p-6 bg-white rounded-lg shadow-sm"),f(H,"class","text-3xl font-bold text-blue-600 mb-2"),f(W,"class","text-sm text-gray-600 flex items-center justify-center gap-1"),f(Y,"class","stat-card text-center p-6 bg-white rounded-lg shadow-sm"),f(L,"class","text-3xl font-bold text-green-500 mb-2"),f(A,"class","text-sm text-gray-600 flex items-center justify-center gap-1"),f(O,"class","stat-card text-center p-6 bg-white rounded-lg shadow-sm"),f(j,"class","text-3xl font-bold text-purple-600 mb-2"),f(De,"class","text-sm text-gray-600 flex items-center justify-center gap-1"),f(z,"class","stat-card text-center p-6 bg-white rounded-lg shadow-sm"),f(w,"class","grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto"),f(ae,"class","container mx-auto px-4"),f(V,"class","stats py-12 bg-gray-50"),f(ge,"type","text"),f(ge,"placeholder","Search species, locations, or notes..."),f(ge,"class","w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"),f(we,"class","relative"),f(me,"class","search-section flex-1"),f(Ce,"class",et="flex items-center gap-2 px-4 py-2 rounded-md transition-colors "+(c[6]==="map"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-800")),f(Me,"class",tt="flex items-center gap-2 px-4 py-2 rounded-md transition-colors "+(c[6]==="list"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-800")),f(je,"class",lt="flex items-center gap-2 px-4 py-2 rounded-md transition-colors "+(c[6]==="grid"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-800")),f(xe,"class","view-modes flex bg-gray-100 rounded-lg p-1"),f(Pe,"class","flex items-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 relative"),f(q,"class","flex flex-col md:flex-row gap-4"),f(G,"class","controls-bar flex flex-col gap-4 mb-8"),f(de,"class","container mx-auto px-4"),f(ve,"class","main-content py-8")},m(p,_e){F(p,e,_e),F(p,t,_e),n(t,r),n(r,l),n(r,a),n(r,i),n(r,_),n(r,m),te(E,m,null),n(m,x),F(p,M,_e),F(p,V,_e),n(V,ae),n(ae,w),n(w,R),n(R,ie),n(ie,$),n(R,C),n(R,y),te(U,y,null),n(y,B),n(w,ue),n(w,Y),n(Y,H),n(H,$e),n(Y,Z),n(Y,W),te(k,W,null),n(W,D),n(w,fe),n(w,O),n(O,L),n(L,J),n(O,K),n(O,A),te(Q,A,null),n(A,se),n(w,Ee),n(w,z),n(z,j),n(j,X),n(z,oe),n(z,De),te(P,De,null),n(De,ne),F(p,pe,_e),F(p,ve,_e),n(ve,de),n(de,G),n(G,q),n(q,me),n(me,we),te(he,we,null),n(we,Ie),n(we,ge),Ve(ge,c[1]),n(q,Be),n(q,xe),n(xe,Ce),te(Le,Ce,null),n(Ce,dt),n(xe,ht),n(xe,Me),te(Fe,Me,null),n(Me,_t),n(xe,gt),n(xe,je),te(qe,je,null),n(je,pt),n(q,mt),n(q,Pe),te(He,Pe,null),n(Pe,vt),ye&&ye.m(Pe,null),n(G,bt),ke&&ke.m(G,null),n(de,$t),Ae[Se].m(de,null),Oe=!0,wt||(Pt=[Ne(m,"click",xl),Ne(ge,"input",c[16]),Ne(Ce,"click",c[17]),Ne(Me,"click",c[18]),Ne(je,"click",c[19]),Ne(Pe,"click",c[20])],wt=!0)},p(p,_e){(!Oe||_e[0]&256)&&ce($,p[8]),(!Oe||_e[0]&512)&&ce($e,p[9]),(!Oe||_e[0]&1024)&&ce(J,p[10]),(!Oe||_e[0]&2048)&&ce(X,p[11]),_e[0]&2&&ge.value!==p[1]&&Ve(ge,p[1]),(!Oe||_e[0]&64&&et!==(et="flex items-center gap-2 px-4 py-2 rounded-md transition-colors "+(p[6]==="map"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-800")))&&f(Ce,"class",et),(!Oe||_e[0]&64&&tt!==(tt="flex items-center gap-2 px-4 py-2 rounded-md transition-colors "+(p[6]==="list"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-800")))&&f(Me,"class",tt),(!Oe||_e[0]&64&&lt!==(lt="flex items-center gap-2 px-4 py-2 rounded-md transition-colors "+(p[6]==="grid"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-800")))&&f(je,"class",lt),p[12]>0?ye?ye.p(p,_e):(ye=Qt(p),ye.c(),ye.m(Pe,null)):ye&&(ye.d(1),ye=null),p[7]?ke?ke.p(p,_e):(ke=Zt(p),ke.c(),ke.m(G,null)):ke&&(ke.d(1),ke=null);let Ge=Se;Se=jt(p),Se===Ge?Ae[Se].p(p,_e):(ze(),N(Ae[Ge],1,1,()=>{Ae[Ge]=null}),We(),Te=Ae[Se],Te?Te.p(p,_e):(Te=Ae[Se]=Mt[Se](p),Te.c()),I(Te,1),Te.m(de,null))},i(p){Oe||(I(E.$$.fragment,p),I(U.$$.fragment,p),I(k.$$.fragment,p),I(Q.$$.fragment,p),I(P.$$.fragment,p),I(he.$$.fragment,p),I(Le.$$.fragment,p),I(Fe.$$.fragment,p),I(qe.$$.fragment,p),I(He.$$.fragment,p),I(Te),Oe=!0)},o(p){N(E.$$.fragment,p),N(U.$$.fragment,p),N(k.$$.fragment,p),N(Q.$$.fragment,p),N(P.$$.fragment,p),N(he.$$.fragment,p),N(Le.$$.fragment,p),N(Fe.$$.fragment,p),N(qe.$$.fragment,p),N(He.$$.fragment,p),N(Te),Oe=!1},d(p){p&&(u(e),u(t),u(M),u(V),u(pe),u(ve)),ee(E),ee(U),ee(k),ee(Q),ee(P),ee(he),ee(Le),ee(Fe),ee(qe),ee(He),ye&&ye.d(),ke&&ke.d(),Ae[Se].d(),wt=!1,hl(Pt)}}}function xl(){window.location.href="/observations/new"}function lr(c,e,t){let r,l,s=[],a=!0,i="",o="list",_=!1,m="all",E="",x={start:"",end:""},M=0,V=0,ae=0,w=0;El(async()=>{await R(),ie()});async function R(){t(5,a=!0);try{t(0,s=[{id:"1",user_id:"user1",observation_type:"visual",species_name:"American Robin",scientific_name:"Turdus migratorius",location:{latitude:40.7829,longitude:-73.9654,region:"Central Park, NYC"},created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date().toISOString(),description:"Spotted feeding on the ground near the Bethesda Fountain",image_urls:["placeholder-robin.jpg"],count:2,confidence:4,weather_conditions:"Partly cloudy, 18°C",habitat_description:"Urban park with mixed trees",is_verified:!0},{id:"2",user_id:"user2",observation_type:"audio",species_name:"Northern Cardinal",scientific_name:"Cardinalis cardinalis",location:{latitude:40.7505,longitude:-73.9934,region:"Washington Square Park, NYC"},created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date().toISOString(),description:"Beautiful morning song from male cardinal",audio_url:"placeholder-cardinal.mp3",count:1,confidence:5,weather_conditions:"Clear, 22°C"},{id:"3",user_id:"user1",observation_type:"multi-modal",species_name:"Red-winged Blackbird",scientific_name:"Agelaius phoeniceus",location:{latitude:40.7691,longitude:-73.9789,region:"Prospect Park, Brooklyn"},created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date().toISOString(),description:"Male displaying territorial behavior near marsh area",image_urls:["placeholder-blackbird.jpg"],audio_url:"placeholder-blackbird.mp3",count:1,confidence:5,weather_conditions:"Overcast, 16°C",tags:["territorial","breeding","marsh"]}])}catch(k){console.error("Error loading observations:",k),Ll.showNotification("error","Failed to load observations")}finally{t(5,a=!1)}}function ie(){t(8,M=s.length),t(9,V=new Set(s.map(D=>D.species_name).filter(Boolean)).size);const k=new Date(Date.now()-7*24*60*60*1e3);t(10,ae=s.filter(D=>new Date(D.created_at)>k).length),t(11,w=s.filter(D=>D.user_id==="user1").length)}function $(k){t(6,o=k)}function C(){t(2,m="all"),t(3,E=""),t(4,x={start:"",end:""}),t(1,i="")}function y(){i=this.value,t(1,i)}const U=()=>$("map"),B=()=>$("list"),ue=()=>$("grid"),Y=()=>t(7,_=!_);function H(){m=Il(this),t(2,m)}function $e(){E=this.value,t(3,E)}function Z(){x.start=this.value,t(4,x)}function W(){x.end=this.value,t(4,x)}return c.$$.update=()=>{c.$$.dirty[0]&31&&t(13,r=s.filter(k=>{var J,K,A,Q,se;const D=!i||((J=k.species_name)==null?void 0:J.toLowerCase().includes(i.toLowerCase()))||((K=k.description)==null?void 0:K.toLowerCase().includes(i.toLowerCase()))||((Q=(A=k.location)==null?void 0:A.region)==null?void 0:Q.toLowerCase().includes(i.toLowerCase())),fe=m==="all"||k.observation_type===m,O=!E||((se=k.species_name)==null?void 0:se.toLowerCase().includes(E.toLowerCase()));let L=!0;if(x.start||x.end){const Ee=new Date(k.created_at);x.start&&(L=L&&Ee>=new Date(x.start)),x.end&&(L=L&&Ee<=new Date(x.end))}return D&&fe&&O&&L})),c.$$.dirty[0]&30&&t(12,l=[m!=="all",E!=="",x.start!=="",x.end!=="",i!==""].filter(Boolean).length)},[s,i,m,E,x,a,o,_,M,V,ae,w,l,r,$,C,y,U,B,ue,Y,H,$e,Z,W]}class ur extends Nt{constructor(e){super(),St(this,e,lr,tr,Tt,{},null,[-1,-1])}}export{ur as component};
