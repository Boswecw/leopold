const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/C1-YiHia.js","../chunks/Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{S as Ke,i as Qe,s as Ze,m as Ne,o as he,p as V,q as $,r as pe,u as _e,v as ve,w as Ue,x as st,y as at,z as it,A as ot,d as h,b as ge,O as Ie,H as De,a as re,e as i,F as u,f as d,g as y,c as R,h as w,j as m,t as G,k as C,T as Vt,W as Ct,n as Oe,I as $e,L as ce,C as bt,Z as yt,V as $t,a2 as Wt,E as qe,M as qt,U as pr,a3 as Et,R as Jt,a4 as _r,J as It,a5 as Tt,a6 as Ot,a7 as jt,G as Xt,N as vr,K as gr,l as Yt}from"../chunks/DnGBHVzR.js";import"../chunks/IHki7fMi.js";import{g as wt}from"../chunks/CMWlCmse.js";import{p as br}from"../chunks/BYdborAI.js";import{u as lt,o as yr,a as kr}from"../chunks/BIiD-i7h.js";import{I as ct,g as ut,a as ft,M as Dt,C as xt,e as rt}from"../chunks/iz_FF9Yn.js";import{_ as $r}from"../chunks/C1FmrZbK.js";import{M as Rt,S as Ut}from"../chunks/BzUL7Bjw.js";import{T as wr}from"../chunks/BvnpS4hX.js";function Cr(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function Er(s){let e,t;const r=[{name:"arrow-left"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Cr]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Ir(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class dr extends Ke{constructor(e){super(),Qe(this,e,Ir,Er,Ze,{})}}function Dr(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function xr(s){let e,t;const r=[{name:"chevron-down"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Dr]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Vr(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"m6 9 6 6 6-6"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class Tr extends Ke{constructor(e){super(),Qe(this,e,Vr,xr,Ze,{})}}function Nr(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function Sr(s){let e,t;const r=[{name:"chevron-up"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Nr]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Pr(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"m18 15-6-6-6 6"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class Lr extends Ke{constructor(e){super(),Qe(this,e,Pr,Sr,Ze,{})}}function Ar(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function Fr(s){let e,t;const r=[{name:"circle-alert"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Ar]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Mr(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class mt extends Ke{constructor(e){super(),Qe(this,e,Mr,Fr,Ze,{})}}function qr(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function Or(s){let e,t;const r=[{name:"circle-check-big"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[qr]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function jr(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class Nt extends Ke{constructor(e){super(),Qe(this,e,jr,Or,Ze,{})}}function Ur(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function zr(s){let e,t;const r=[{name:"image"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Ur]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Br(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class Hr extends Ke{constructor(e){super(),Qe(this,e,Br,zr,Ze,{})}}function Rr(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function Gr(s){let e,t;const r=[{name:"info"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Rr]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Wr(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class Gt extends Ke{constructor(e){super(),Qe(this,e,Wr,Gr,Ze,{})}}function Jr(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function Xr(s){let e,t;const r=[{name:"navigation"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Jr]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Yr(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class Kr extends Ke{constructor(e){super(),Qe(this,e,Yr,Xr,Ze,{})}}function Qr(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function Zr(s){let e,t;const r=[{name:"sparkles"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Qr]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function en(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}],["path",{d:"M20 3v4"}],["path",{d:"M22 5h-4"}],["path",{d:"M4 17v2"}],["path",{d:"M5 18H3"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class mr extends Ke{constructor(e){super(),Qe(this,e,en,Zr,Ze,{})}}function tn(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function ln(s){let e,t;const r=[{name:"square"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[tn]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function rn(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class nn extends Ke{constructor(e){super(),Qe(this,e,rn,ln,Ze,{})}}function sn(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function an(s){let e,t;const r=[{name:"upload"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[sn]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function on(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class Kt extends Ke{constructor(e){super(),Qe(this,e,on,an,Ze,{})}}function cn(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function un(s){let e,t;const r=[{name:"volume-2"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[cn]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function fn(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class hr extends Ke{constructor(e){super(),Qe(this,e,fn,un,Ze,{})}}function dn(s){let e;const t=s[2].default,r=st(t,s,s[3],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,l){r&&r.m(n,l),e=!0},p(n,l){r&&r.p&&(!e||l&8)&&at(r,t,n,n[3],e?ot(t,n[3],l,null):it(n[3]),null)},i(n){e||($(r,n),e=!0)},o(n){V(r,n),e=!1},d(n){r&&r.d(n)}}}function mn(s){let e,t;const r=[{name:"x"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[dn]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)n=Ne(n,r[l]);return e=new ct({props:n}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,[a]){const o=a&3?ut(r,[r[0],a&2&&ft(l[1]),a&1&&{iconNode:l[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function hn(s,e,t){let{$$slots:r={},$$scope:n}=e;const l=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return s.$$set=a=>{t(1,e=Ne(Ne({},e),Ue(a))),"$$scope"in a&&t(3,n=a.$$scope)},e=Ue(e),[l,e,r,n]}class St extends Ke{constructor(e){super(),Qe(this,e,hn,mn,Ze,{})}}function pn(s){const e=s-1;return e*e*e+1}function Pt(s,{delay:e=0,duration:t=400,easing:r=pn,axis:n="y"}={}){const l=getComputedStyle(s),a=+l.opacity,o=n==="y"?"height":"width",c=parseFloat(l[o]),p=n==="y"?["top","bottom"]:["left","right"],_=p.map(D=>`${D[0].toUpperCase()}${D.slice(1)}`),f=parseFloat(l[`padding${_[0]}`]),g=parseFloat(l[`padding${_[1]}`]),v=parseFloat(l[`margin${_[0]}`]),b=parseFloat(l[`margin${_[1]}`]),k=parseFloat(l[`border${_[0]}Width`]),x=parseFloat(l[`border${_[1]}Width`]);return{delay:e,duration:t,easing:r,css:D=>`overflow: hidden;opacity: ${Math.min(D*20,1)*a};${o}: ${D*c}px;padding-${p[0]}: ${D*f}px;padding-${p[1]}: ${D*g}px;margin-${p[0]}: ${D*v}px;margin-${p[1]}: ${D*b}px;border-${p[0]}-width: ${D*k}px;border-${p[1]}-width: ${D*x}px;`}}function _n(s){let e,t,r="Recording complete",n,l,a="Clear Recording",o,c;return{c(){e=m("div"),t=m("p"),t.textContent=r,n=C(),l=m("button"),l.textContent=a,this.h()},l(p){e=d(p,"DIV",{class:!0});var _=y(e);t=d(_,"P",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-4l810n"&&(t.textContent=r),n=w(_),l=d(_,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-75cb6z"&&(l.textContent=a),_.forEach(h),this.h()},h(){u(t,"class","text-green-800 mb-2"),u(l,"class","px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200"),u(e,"class","recording-info p-3 bg-green-50 border border-green-200 rounded-lg")},m(p,_){re(p,e,_),i(e,t),i(e,n),i(e,l),o||(c=$e(l,"click",s[5]),o=!0)},p:Oe,i:Oe,o:Oe,d(p){p&&h(e),o=!1,c()}}}function vn(s){let e,t,r,n;const l=[bn,gn],a=[];function o(c,p){return c[2]?1:0}return e=o(s),t=a[e]=l[e](s),{c(){t.c(),r=Ct()},l(c){t.l(c),r=Ct()},m(c,p){a[e].m(c,p),re(c,r,p),n=!0},p(c,p){let _=e;e=o(c),e===_?a[e].p(c,p):(Ie(),V(a[_],1,1,()=>{a[_]=null}),De(),t=a[e],t?t.p(c,p):(t=a[e]=l[e](c),t.c()),$(t,1),t.m(r.parentNode,r))},i(c){n||($(t),n=!0)},o(c){V(t),n=!1},d(c){c&&h(r),a[e].d(c)}}}function gn(s){let e,t,r,n,l,a;return t=new nn({props:{class:"w-4 h-4"}}),{c(){e=m("button"),ve(t.$$.fragment),r=G(`\r
        Stop Recording`),this.h()},l(o){e=d(o,"BUTTON",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=R(c,`\r
        Stop Recording`),c.forEach(h),this.h()},h(){u(e,"class","flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),n=!0,l||(a=$e(e,"click",s[4]),l=!0)},p:Oe,i(o){n||($(t.$$.fragment,o),n=!0)},o(o){V(t.$$.fragment,o),n=!1},d(o){o&&h(e),he(t),l=!1,a()}}}function bn(s){let e,t,r,n,l,a;return t=new Dt({props:{class:"w-4 h-4"}}),{c(){e=m("button"),ve(t.$$.fragment),r=G(`\r
        Start Recording`),this.h()},l(o){e=d(o,"BUTTON",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=R(c,`\r
        Start Recording`),c.forEach(h),this.h()},h(){u(e,"class","flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),n=!0,l||(a=$e(e,"click",s[3]),l=!0)},p:Oe,i(o){n||($(t.$$.fragment,o),n=!0)},o(o){V(t.$$.fragment,o),n=!1},d(o){o&&h(e),he(t),l=!1,a()}}}function yn(s){let e,t,r,n=s[1]?"*":"",l,a,o,c,p;const _=[vn,_n],f=[];function g(v,b){return v[0]?1:0}return o=g(s),c=f[o]=_[o](s),{c(){e=m("div"),t=m("h3"),r=G("Audio Recording "),l=G(n),a=C(),c.c(),this.h()},l(v){e=d(v,"DIV",{class:!0});var b=y(e);t=d(b,"H3",{class:!0});var k=y(t);r=R(k,"Audio Recording "),l=R(k,n),k.forEach(h),a=w(b),c.l(b),b.forEach(h),this.h()},h(){u(t,"class","text-lg font-semibold mb-4"),u(e,"class","audio-recorder p-4 border border-gray-200 rounded-lg svelte-1ua5crz")},m(v,b){re(v,e,b),i(e,t),i(t,r),i(t,l),i(e,a),f[o].m(e,null),p=!0},p(v,[b]){(!p||b&2)&&n!==(n=v[1]?"*":"")&&ge(l,n);let k=o;o=g(v),o===k?f[o].p(v,b):(Ie(),V(f[k],1,1,()=>{f[k]=null}),De(),c=f[o],c?c.p(v,b):(c=f[o]=_[o](v),c.c()),$(c,1),c.m(e,null))},i(v){p||($(c),p=!0)},o(v){V(c),p=!1},d(v){v&&h(e),f[o].d()}}}function kn(s,e,t){let{recording:r=null}=e,{maxDuration:n=300}=e,{required:l=!1}=e,a=!1;const o=Vt();function c(){t(2,a=!0)}function p(){t(2,a=!1);const f={id:"test",blob:new Blob,url:"",duration:10,created_at:new Date().toISOString()};t(0,r=f),o("recordingStopped",f)}function _(){t(0,r=null),o("recordingCleared")}return s.$$set=f=>{"recording"in f&&t(0,r=f.recording),"maxDuration"in f&&t(6,n=f.maxDuration),"required"in f&&t(1,l=f.required)},[r,l,a,c,p,_,n]}class $n extends Ke{constructor(e){super(),Qe(this,e,kn,yn,Ze,{recording:0,maxDuration:6,required:1})}}function wn(s){const e={},t={};return s.observation_type||(e.observation_type="Observation type is required"),(!s.species_name||s.species_name.trim().length===0)&&(e.species_name="Species name is required"),s.location?(!s.location.latitude||!s.location.longitude)&&(e.location="Valid coordinates are required"):e.location="Location is required",s.description&&s.description.length>1e3&&(t.description="Description is quite long. Consider shortening it."),s.notes&&s.notes.length>500&&(t.notes="Notes are quite long. Consider shortening them."),s.count&&s.count<1&&(e.count="Count must be at least 1"),s.confidence&&(s.confidence<1||s.confidence>5)&&(e.confidence="Confidence must be between 1 and 5"),{isValid:Object.keys(e).length===0,errors:e,warnings:t}}function Cn(s){const e={},t={};return["image/jpeg","image/png","image/webp"].includes(s.type)||(e.fileType="Only JPEG, PNG, and WebP images are allowed"),s.size>10485760&&(e.fileSize="File size must be less than 10MB"),s.size>5*1024*1024&&(t.fileSize="Large files may take longer to upload"),{isValid:Object.keys(e).length===0,errors:e,warnings:t}}function Qt(s,e,t){const r=s.slice();return r[30]=e[t][0],r[31]=e[t][1],r}function Zt(s,e,t){const r=s.slice();return r[34]=e[t],r[36]=t,r}function En(s){let e,t,r,n,l,a=s[0].length+"",o,c,p=s[0].length!==1?"s":"",_,f,g,v,b=s[0].length<s[1]?`Add ${s[1]-s[0].length} more`:"Maximum reached",k,x,D;t=new Nt({props:{class:"w-8 h-8 text-green-600"}});let E=s[0].length<s[1]&&el(s);return{c(){e=m("div"),ve(t.$$.fragment),r=C(),n=m("div"),l=m("p"),o=G(a),c=G(" file"),_=G(p),f=G(" selected"),g=C(),v=m("p"),k=G(b),x=C(),E&&E.c(),this.h()},l(I){e=d(I,"DIV",{class:!0});var T=y(e);_e(t.$$.fragment,T),r=w(T),n=d(T,"DIV",{});var F=y(n);l=d(F,"P",{class:!0});var P=y(l);o=R(P,a),c=R(P," file"),_=R(P,p),f=R(P," selected"),P.forEach(h),g=w(F),v=d(F,"P",{class:!0});var z=y(v);k=R(z,b),z.forEach(h),F.forEach(h),x=w(T),E&&E.l(T),T.forEach(h),this.h()},h(){u(l,"class","text-lg font-medium text-green-800"),u(v,"class","text-sm text-green-600"),u(e,"class","flex flex-col items-center gap-3")},m(I,T){re(I,e,T),pe(t,e,null),i(e,r),i(e,n),i(n,l),i(l,o),i(l,c),i(l,_),i(l,f),i(n,g),i(n,v),i(v,k),i(e,x),E&&E.m(e,null),D=!0},p(I,T){(!D||T[0]&1)&&a!==(a=I[0].length+"")&&ge(o,a),(!D||T[0]&1)&&p!==(p=I[0].length!==1?"s":"")&&ge(_,p),(!D||T[0]&3)&&b!==(b=I[0].length<I[1]?`Add ${I[1]-I[0].length} more`:"Maximum reached")&&ge(k,b),I[0].length<I[1]?E?E.p(I,T):(E=el(I),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},i(I){D||($(t.$$.fragment,I),D=!0)},o(I){V(t.$$.fragment,I),D=!1},d(I){I&&h(e),he(t),E&&E.d()}}}function In(s){let e,t,r,n,l,a="Drop images here or click to upload",o,c,p,_=zt(s[2])+"",f,g,v,b,k,x,D,E,I,T,F,P,z;return t=new Kt({props:{class:"w-12 h-12 text-gray-400"}}),k=new Kt({props:{class:"w-4 h-4"}}),I=new xt({props:{class:"w-4 h-4"}}),{c(){e=m("div"),ve(t.$$.fragment),r=C(),n=m("div"),l=m("p"),l.textContent=a,o=C(),c=m("p"),p=G("PNG, JPG, GIF up to "),f=G(_),g=C(),v=m("div"),b=m("button"),ve(k.$$.fragment),x=G(`\r
                Choose Files`),D=C(),E=m("button"),ve(I.$$.fragment),T=G(`\r
                Take Photo`),this.h()},l(J){e=d(J,"DIV",{class:!0});var W=y(e);_e(t.$$.fragment,W),r=w(W),n=d(W,"DIV",{});var Z=y(n);l=d(Z,"P",{class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-vqz6hq"&&(l.textContent=a),o=w(Z),c=d(Z,"P",{class:!0});var le=y(c);p=R(le,"PNG, JPG, GIF up to "),f=R(le,_),le.forEach(h),Z.forEach(h),g=w(W),v=d(W,"DIV",{class:!0});var M=y(v);b=d(M,"BUTTON",{type:!0,class:!0});var U=y(b);_e(k.$$.fragment,U),x=R(U,`\r
                Choose Files`),U.forEach(h),D=w(M),E=d(M,"BUTTON",{type:!0,class:!0});var j=y(E);_e(I.$$.fragment,j),T=R(j,`\r
                Take Photo`),j.forEach(h),M.forEach(h),W.forEach(h),this.h()},h(){u(l,"class","text-lg font-medium text-gray-700"),u(c,"class","text-sm text-gray-500 mt-1"),u(b,"type","button"),u(b,"class","flex items-center gap-2 px-4 py-2 bg-primary-forest text-white rounded-lg hover:bg-primary-forest/90 transition-colors"),u(E,"type","button"),u(E,"class","flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"),u(v,"class","flex gap-3"),u(e,"class","flex flex-col items-center gap-4")},m(J,W){re(J,e,W),pe(t,e,null),i(e,r),i(e,n),i(n,l),i(n,o),i(n,c),i(c,p),i(c,f),i(e,g),i(e,v),i(v,b),pe(k,b,null),i(b,x),i(v,D),i(v,E),pe(I,E,null),i(E,T),F=!0,P||(z=[$e(b,"click",s[20]),$e(E,"click",s[21])],P=!0)},p(J,W){(!F||W[0]&4)&&_!==(_=zt(J[2])+"")&&ge(f,_)},i(J){F||($(t.$$.fragment,J),$(k.$$.fragment,J),$(I.$$.fragment,J),F=!0)},o(J){V(t.$$.fragment,J),V(k.$$.fragment,J),V(I.$$.fragment,J),F=!1},d(J){J&&h(e),he(t),he(k),he(I),P=!1,bt(z)}}}function Dn(s){let e,t='<div class="animate-spin w-8 h-8 border-3 border-primary-forest border-t-transparent rounded-full svelte-6mnmzg"></div> <p class="text-sm text-gray-600">Processing files...</p>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-1xn321j"&&(e.innerHTML=t),this.h()},h(){u(e,"class","flex flex-col items-center gap-3")},m(r,n){re(r,e,n)},p:Oe,i:Oe,o:Oe,d(r){r&&h(e)}}}function el(s){let e,t,r="Add More",n,l,a="Take Photo",o,c;return{c(){e=m("div"),t=m("button"),t.textContent=r,n=C(),l=m("button"),l.textContent=a,this.h()},l(p){e=d(p,"DIV",{class:!0});var _=y(e);t=d(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-mdimau"&&(t.textContent=r),n=w(_),l=d(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-170pw87"&&(l.textContent=a),_.forEach(h),this.h()},h(){u(t,"type","button"),u(t,"class","px-3 py-1 text-sm bg-primary-forest text-white rounded hover:bg-primary-forest/90"),u(l,"type","button"),u(l,"class","px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200"),u(e,"class","flex gap-2")},m(p,_){re(p,e,_),i(e,t),i(e,n),i(e,l),o||(c=[$e(t,"click",s[22]),$e(l,"click",s[23])],o=!0)},p:Oe,d(p){p&&h(e),o=!1,bt(c)}}}function tl(s){let e,t,r,n="Selected Files",l,a,o,c,p,_,f,g,v;o=new St({props:{class:"w-3 h-3"}});let b=rt(s[0]),k=[];for(let D=0;D<b.length;D+=1)k[D]=ll(Zt(s,b,D));const x=D=>V(k[D],1,1,()=>{k[D]=null});return{c(){e=m("div"),t=m("div"),r=m("h4"),r.textContent=n,l=C(),a=m("button"),ve(o.$$.fragment),c=G(`\r
            Clear All`),p=C(),_=m("div");for(let D=0;D<k.length;D+=1)k[D].c();this.h()},l(D){e=d(D,"DIV",{class:!0});var E=y(e);t=d(E,"DIV",{class:!0});var I=y(t);r=d(I,"H4",{class:!0,"data-svelte-h":!0}),ce(r)!=="svelte-6yetch"&&(r.textContent=n),l=w(I),a=d(I,"BUTTON",{type:!0,class:!0});var T=y(a);_e(o.$$.fragment,T),c=R(T,`\r
            Clear All`),T.forEach(h),I.forEach(h),p=w(E),_=d(E,"DIV",{class:!0});var F=y(_);for(let P=0;P<k.length;P+=1)k[P].l(F);F.forEach(h),E.forEach(h),this.h()},h(){u(r,"class","font-medium text-gray-700"),u(a,"type","button"),u(a,"class","text-sm text-red-600 hover:text-red-800 flex items-center gap-1"),u(t,"class","flex items-center justify-between mb-3"),u(_,"class","space-y-3"),u(e,"class","file-list mt-4 svelte-6mnmzg")},m(D,E){re(D,e,E),i(e,t),i(t,r),i(t,l),i(t,a),pe(o,a,null),i(a,c),i(e,p),i(e,_);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(_,null);f=!0,g||(v=$e(a,"click",s[13]),g=!0)},p(D,E){if(E[0]&135681){b=rt(D[0]);let I;for(I=0;I<b.length;I+=1){const T=Zt(D,b,I);k[I]?(k[I].p(T,E),$(k[I],1)):(k[I]=ll(T),k[I].c(),$(k[I],1),k[I].m(_,null))}for(Ie(),I=b.length;I<k.length;I+=1)x(I);De()}},i(D){if(!f){$(o.$$.fragment,D);for(let E=0;E<b.length;E+=1)$(k[E]);f=!0}},o(D){V(o.$$.fragment,D),k=k.filter(Boolean);for(let E=0;E<k.length;E+=1)V(k[E]);f=!1},d(D){D&&h(e),he(o),yt(k,D),g=!1,v()}}}function xn(s){let e,t=al(s[34])+"",r;return{c(){e=m("div"),r=G(t),this.h()},l(n){e=d(n,"DIV",{class:!0});var l=y(e);r=R(l,t),l.forEach(h),this.h()},h(){u(e,"class","w-12 h-12 bg-gray-100 rounded border flex items-center justify-center text-lg")},m(n,l){re(n,e,l),i(e,r)},p(n,l){l[0]&1&&t!==(t=al(n[34])+"")&&ge(r,t)},d(n){n&&h(e)}}}function Vn(s){let e,t,r;return{c(){e=m("img"),this.h()},l(n){e=d(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Wt(e.src,t=s[9][s[34].name])||u(e,"src",t),u(e,"alt",r="Preview of "+s[34].name),u(e,"class","w-12 h-12 object-cover rounded border")},m(n,l){re(n,e,l)},p(n,l){l[0]&513&&!Wt(e.src,t=n[9][n[34].name])&&u(e,"src",t),l[0]&1&&r!==(r="Preview of "+n[34].name)&&u(e,"alt",r)},d(n){n&&h(e)}}}function Tn(s){let e,t,r,n;return t=new mt({props:{class:"w-3 h-3"}}),{c(){e=m("span"),ve(t.$$.fragment),r=G(`\r
                      Invalid type`),this.h()},l(l){e=d(l,"SPAN",{class:!0});var a=y(e);_e(t.$$.fragment,a),r=R(a,`\r
                      Invalid type`),a.forEach(h),this.h()},h(){u(e,"class","flex items-center gap-1 text-red-600")},m(l,a){re(l,e,a),pe(t,e,null),i(e,r),n=!0},i(l){n||($(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&h(e),he(t)}}}function Nn(s){let e,t,r,n;return t=new Nt({props:{class:"w-3 h-3"}}),{c(){e=m("span"),ve(t.$$.fragment),r=G(`\r
                      Valid`),this.h()},l(l){e=d(l,"SPAN",{class:!0});var a=y(e);_e(t.$$.fragment,a),r=R(a,`\r
                      Valid`),a.forEach(h),this.h()},h(){u(e,"class","flex items-center gap-1 text-green-600")},m(l,a){re(l,e,a),pe(t,e,null),i(e,r),n=!0},i(l){n||($(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&h(e),he(t)}}}function ll(s){let e,t,r,n,l,a=s[34].name+"",o,c,p,_,f,g=zt(s[34].size)+"",v,b,k,x=s[34].type.split("/")[1]+"",D,E,I,T,F,P,z,J,W,Z,le,M,U;function j(B,Y){return B[9][B[34].name]?Vn:xn}let se=j(s),ae=se(s);const A=[Nn,Tn],X=[];function te(B,Y){return Y[0]&1&&(I=null),I==null&&(I=!!B[17](B[34])),I?0:1}T=te(s,[-1,-1]),F=X[T]=A[T](s),J=new St({props:{class:"w-4 h-4"}});function q(){return s[26](s[36])}return{c(){e=m("div"),t=m("div"),ae.c(),r=C(),n=m("div"),l=m("p"),o=G(a),p=C(),_=m("div"),f=m("span"),v=G(g),b=C(),k=m("span"),D=G(x),E=C(),F.c(),P=C(),z=m("button"),ve(J.$$.fragment),Z=C(),this.h()},l(B){e=d(B,"DIV",{class:!0});var Y=y(e);t=d(Y,"DIV",{class:!0});var K=y(t);ae.l(K),K.forEach(h),r=w(Y),n=d(Y,"DIV",{class:!0});var be=y(n);l=d(be,"P",{class:!0,title:!0});var H=y(l);o=R(H,a),H.forEach(h),p=w(be),_=d(be,"DIV",{class:!0});var ie=y(_);f=d(ie,"SPAN",{});var Q=y(f);v=R(Q,g),Q.forEach(h),b=w(ie),k=d(ie,"SPAN",{class:!0});var N=y(k);D=R(N,x),N.forEach(h),E=w(ie),F.l(ie),ie.forEach(h),be.forEach(h),P=w(Y),z=d(Y,"BUTTON",{type:!0,class:!0,"aria-label":!0});var S=y(z);_e(J.$$.fragment,S),S.forEach(h),Z=w(Y),Y.forEach(h),this.h()},h(){u(t,"class","flex-shrink-0"),u(l,"class","font-medium text-gray-900 truncate svelte-6mnmzg"),u(l,"title",c=s[34].name),u(k,"class","capitalize"),u(_,"class","flex items-center gap-4 text-sm text-gray-500"),u(n,"class","flex-1 min-w-0"),u(z,"type","button"),u(z,"class","flex-shrink-0 p-1 text-gray-400 hover:text-red-600 rounded-full hover:bg-red-50"),u(z,"aria-label",W="Remove "+s[34].name),u(e,"class","file-item flex items-center gap-3 p-3 bg-white border border-gray-200 rounded-lg svelte-6mnmzg")},m(B,Y){re(B,e,Y),i(e,t),ae.m(t,null),i(e,r),i(e,n),i(n,l),i(l,o),i(n,p),i(n,_),i(_,f),i(f,v),i(_,b),i(_,k),i(k,D),i(_,E),X[T].m(_,null),i(e,P),i(e,z),pe(J,z,null),i(e,Z),le=!0,M||(U=$e(z,"click",q),M=!0)},p(B,Y){s=B,se===(se=j(s))&&ae?ae.p(s,Y):(ae.d(1),ae=se(s),ae&&(ae.c(),ae.m(t,null))),(!le||Y[0]&1)&&a!==(a=s[34].name+"")&&ge(o,a),(!le||Y[0]&1&&c!==(c=s[34].name))&&u(l,"title",c),(!le||Y[0]&1)&&g!==(g=zt(s[34].size)+"")&&ge(v,g),(!le||Y[0]&1)&&x!==(x=s[34].type.split("/")[1]+"")&&ge(D,x);let K=T;T=te(s,Y),T!==K&&(Ie(),V(X[K],1,1,()=>{X[K]=null}),De(),F=X[T],F||(F=X[T]=A[T](s),F.c()),$(F,1),F.m(_,null)),(!le||Y[0]&1&&W!==(W="Remove "+s[34].name))&&u(z,"aria-label",W)},i(B){le||($(F),$(J.$$.fragment,B),le=!0)},o(B){V(F),V(J.$$.fragment,B),le=!1},d(B){B&&h(e),ae.d(),X[T].d(),he(J),M=!1,U()}}}function rl(s){let e,t,r,n,l,a,o="Upload Errors",c,p,_;r=new mt({props:{class:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}});let f=rt(Object.entries(s[8])),g=[];for(let v=0;v<f.length;v+=1)g[v]=nl(Qt(s,f,v));return{c(){e=m("div"),t=m("div"),ve(r.$$.fragment),n=C(),l=m("div"),a=m("h4"),a.textContent=o,c=C(),p=m("div");for(let v=0;v<g.length;v+=1)g[v].c();this.h()},l(v){e=d(v,"DIV",{class:!0});var b=y(e);t=d(b,"DIV",{class:!0});var k=y(t);_e(r.$$.fragment,k),n=w(k),l=d(k,"DIV",{});var x=y(l);a=d(x,"H4",{class:!0,"data-svelte-h":!0}),ce(a)!=="svelte-199499l"&&(a.textContent=o),c=w(x),p=d(x,"DIV",{class:!0});var D=y(p);for(let E=0;E<g.length;E+=1)g[E].l(D);D.forEach(h),x.forEach(h),k.forEach(h),b.forEach(h),this.h()},h(){u(a,"class","font-medium text-red-700"),u(p,"class","text-red-600 text-sm mt-1 space-y-1"),u(t,"class","flex items-start gap-2"),u(e,"class","error-display mt-4 bg-red-50 border border-red-200 rounded-lg p-4")},m(v,b){re(v,e,b),i(e,t),pe(r,t,null),i(t,n),i(t,l),i(l,a),i(l,c),i(l,p);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(p,null);_=!0},p(v,b){if(b[0]&256){f=rt(Object.entries(v[8]));let k;for(k=0;k<f.length;k+=1){const x=Qt(v,f,k);g[k]?g[k].p(x,b):(g[k]=nl(x),g[k].c(),g[k].m(p,null))}for(;k<g.length;k+=1)g[k].d(1);g.length=f.length}},i(v){_||($(r.$$.fragment,v),_=!0)},o(v){V(r.$$.fragment,v),_=!1},d(v){v&&h(e),he(r),yt(g,v)}}}function nl(s){let e,t=s[31]+"",r;return{c(){e=m("p"),r=G(t)},l(n){e=d(n,"P",{});var l=y(e);r=R(l,t),l.forEach(h)},m(n,l){re(n,e,l),i(e,r)},p(n,l){l[0]&256&&t!==(t=n[31]+"")&&ge(r,t)},d(n){n&&h(e)}}}function sl(s){let e,t,r,n;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("div"),ve(t.$$.fragment),r=G(`\r
        At least one image is required`),this.h()},l(l){e=d(l,"DIV",{class:!0});var a=y(e);_e(t.$$.fragment,a),r=R(a,`\r
        At least one image is required`),a.forEach(h),this.h()},h(){u(e,"class","validation-error mt-4 text-red-600 text-sm flex items-center gap-1")},m(l,a){re(l,e,a),pe(t,e,null),i(e,r),n=!0},i(l){n||($(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&h(e),he(t)}}}function Sn(s){let e,t,r,n,l,a,o,c=s[4]?"*":"",p,_,f,g,v,b,k=s[3].map(il).join(", ")+"",x,D,E,I,T,F,P,z,J,W,Z,le,M,U,j=Object.keys(s[8]).length>0,se,ae,A,X='<h4 class="font-medium text-blue-800 mb-2">ðŸ“¸ Photography Tips</h4> <ul class="text-sm text-blue-700 space-y-1"><li>â€¢ Take photos in good lighting for better species identification</li> <li>â€¢ Include multiple angles if possible (front, side, back)</li> <li>â€¢ Get close-up shots of distinctive features</li> <li>â€¢ Keep the background simple when possible</li></ul>',te,q,B;n=new Hr({props:{class:"w-5 h-5"}});const Y=[Dn,In,En],K=[];function be(N,S){return N[7]?0:N[0].length===0?1:2}T=be(s),F=K[T]=Y[T](s);let H=s[0].length>0&&tl(s),ie=j&&rl(s),Q=s[4]&&s[0].length===0&&sl();return{c(){e=m("div"),t=m("div"),r=m("h3"),ve(n.$$.fragment),l=C(),a=G(s[5]),o=C(),p=G(c),_=C(),f=m("p"),g=G("Upload up to "),v=G(s[1]),b=G(" images. Supported formats: "),x=G(k),D=C(),E=m("div"),I=m("div"),F.c(),P=C(),z=m("input"),W=C(),Z=m("input"),M=C(),H&&H.c(),U=C(),ie&&ie.c(),se=C(),Q&&Q.c(),ae=C(),A=m("div"),A.innerHTML=X,this.h()},l(N){e=d(N,"DIV",{class:!0});var S=y(e);t=d(S,"DIV",{class:!0});var L=y(t);r=d(L,"H3",{class:!0});var ne=y(r);_e(n.$$.fragment,ne),l=w(ne),a=R(ne,s[5]),o=w(ne),p=R(ne,c),ne.forEach(h),_=w(L),f=d(L,"P",{class:!0});var me=y(f);g=R(me,"Upload up to "),v=R(me,s[1]),b=R(me," images. Supported formats: "),x=R(me,k),me.forEach(h),L.forEach(h),D=w(S),E=d(S,"DIV",{class:!0,role:!0,tabindex:!0});var ue=y(E);I=d(ue,"DIV",{class:!0});var O=y(I);F.l(O),O.forEach(h),P=w(ue),z=d(ue,"INPUT",{type:!0,accept:!0,class:!0}),W=w(ue),Z=d(ue,"INPUT",{type:!0,accept:!0,capture:!0,class:!0}),ue.forEach(h),M=w(S),H&&H.l(S),U=w(S),ie&&ie.l(S),se=w(S),Q&&Q.l(S),ae=w(S),A=d(S,"DIV",{class:!0,"data-svelte-h":!0}),ce(A)!=="svelte-uoo5xp"&&(A.innerHTML=X),S.forEach(h),this.h()},h(){u(r,"class","text-lg font-semibold text-primary-forest mb-2 flex items-center gap-2"),u(f,"class","text-sm text-gray-600"),u(t,"class","header mb-4"),u(I,"class","text-center"),u(z,"type","file"),z.multiple=!0,u(z,"accept",J=s[3].join(",")),u(z,"class","hidden"),u(Z,"type","file"),u(Z,"accept","image/*"),u(Z,"capture","environment"),u(Z,"class","hidden"),u(E,"class",le="upload-area border-2 border-dashed rounded-lg p-6 transition-colors duration-200 "+(s[6]?"border-primary-forest bg-primary-forest/5":s[0].length>0?"border-green-300 bg-green-50":"border-gray-300 bg-gray-50 hover:border-primary-forest hover:bg-primary-forest/5")+" svelte-6mnmzg"),u(E,"role","button"),u(E,"tabindex","0"),u(A,"class","tips mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"),u(e,"class","image-upload svelte-6mnmzg")},m(N,S){re(N,e,S),i(e,t),i(t,r),pe(n,r,null),i(r,l),i(r,a),i(r,o),i(r,p),i(t,_),i(t,f),i(f,g),i(f,v),i(f,b),i(f,x),i(e,D),i(e,E),i(E,I),K[T].m(I,null),i(E,P),i(E,z),s[24](z),i(E,W),i(E,Z),s[25](Z),i(e,M),H&&H.m(e,null),i(e,U),ie&&ie.m(e,null),i(e,se),Q&&Q.m(e,null),i(e,ae),i(e,A),te=!0,q||(B=[$e(z,"change",s[18]),$e(Z,"change",s[19]),$e(E,"dragover",s[14]),$e(E,"dragleave",s[15]),$e(E,"drop",s[16])],q=!0)},p(N,S){(!te||S[0]&32)&&ge(a,N[5]),(!te||S[0]&16)&&c!==(c=N[4]?"*":"")&&ge(p,c),(!te||S[0]&2)&&ge(v,N[1]),(!te||S[0]&8)&&k!==(k=N[3].map(il).join(", ")+"")&&ge(x,k);let L=T;T=be(N),T===L?K[T].p(N,S):(Ie(),V(K[L],1,1,()=>{K[L]=null}),De(),F=K[T],F?F.p(N,S):(F=K[T]=Y[T](N),F.c()),$(F,1),F.m(I,null)),(!te||S[0]&8&&J!==(J=N[3].join(",")))&&u(z,"accept",J),(!te||S[0]&65&&le!==(le="upload-area border-2 border-dashed rounded-lg p-6 transition-colors duration-200 "+(N[6]?"border-primary-forest bg-primary-forest/5":N[0].length>0?"border-green-300 bg-green-50":"border-gray-300 bg-gray-50 hover:border-primary-forest hover:bg-primary-forest/5")+" svelte-6mnmzg"))&&u(E,"class",le),N[0].length>0?H?(H.p(N,S),S[0]&1&&$(H,1)):(H=tl(N),H.c(),$(H,1),H.m(e,U)):H&&(Ie(),V(H,1,1,()=>{H=null}),De()),S[0]&256&&(j=Object.keys(N[8]).length>0),j?ie?(ie.p(N,S),S[0]&256&&$(ie,1)):(ie=rl(N),ie.c(),$(ie,1),ie.m(e,se)):ie&&(Ie(),V(ie,1,1,()=>{ie=null}),De()),N[4]&&N[0].length===0?Q?S[0]&17&&$(Q,1):(Q=sl(),Q.c(),$(Q,1),Q.m(e,ae)):Q&&(Ie(),V(Q,1,1,()=>{Q=null}),De())},i(N){te||($(n.$$.fragment,N),$(F),$(H),$(ie),$(Q),te=!0)},o(N){V(n.$$.fragment,N),V(F),V(H),V(ie),V(Q),te=!1},d(N){N&&h(e),he(n),K[T].d(),s[24](null),s[25](null),H&&H.d(),ie&&ie.d(),Q&&Q.d(),q=!1,bt(B)}}}function zt(s){if(s===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,r)).toFixed(2))+" "+t[r]}function al(s){return s.type.startsWith("image/")?"ðŸ–¼ï¸":"ðŸ“"}const il=s=>s.split("/")[1].toUpperCase();function Pn(s,e,t){let{files:r=[]}=e,{maxFiles:n=5}=e,{maxFileSize:l=10*1024*1024}=e,{acceptedTypes:a=["image/jpeg","image/jpg","image/png","image/webp","image/gif"]}=e,{required:o=!1}=e,{label:c="Upload Images"}=e,p=!1,_=!1,f={},g={},v,b;const k=Vt();function x(A){t(7,_=!0);const X=[],te={};if(Array.from(A).forEach((q,B)=>{if(r.length+X.length>=n){te.max_files=`Maximum ${n} files allowed`;return}if(r.some(be=>be.name===q.name&&be.size===q.size)){te[`duplicate_${B}`]=`File "${q.name}" already selected`;return}const K=Cn(q);if(!K.isValid){Object.entries(K.errors).forEach(([be,H])=>{te[`${q.name}_${be}`]=H});return}X.push(q),D(q)}),X.length>0&&(t(0,r=[...r,...X]),k("filesSelected",X)),t(8,f=te),Object.keys(te).length>0){const q=Object.values(te).join(", ");k("error",{message:q})}t(7,_=!1)}function D(A){const X=new FileReader;X.onload=te=>{var q;(q=te.target)!=null&&q.result&&(t(9,g[A.name]=te.target.result,g),t(9,g={...g}))},X.readAsDataURL(A)}function E(A){const X=r[A];g[X.name]&&(delete g[X.name],t(9,g={...g})),t(0,r=r.filter((q,B)=>B!==A)),k("fileRemoved",{file:X,index:A});const te={...f};Object.keys(te).forEach(q=>{q.startsWith(X.name)&&delete te[q]}),t(8,f=te)}function I(){t(0,r=[]),t(9,g={}),t(8,f={}),k("filesCleared")}function T(A){A.preventDefault(),t(6,p=!0)}function F(A){A.preventDefault(),t(6,p=!1)}function P(A){var te;A.preventDefault(),t(6,p=!1);const X=(te=A.dataTransfer)==null?void 0:te.files;X&&X.length>0&&x(X)}function z(A){return a.some(X=>A.type===X||A.type.match(new RegExp(X.replace("*",".*"))))}function J(A){const X=A.target;X!=null&&X.files&&X.files.length>0&&(x(X.files),X.value="")}function W(A){const X=A.target;X!=null&&X.files&&X.files.length>0&&(x(X.files),X.value="")}const Z=()=>v.click(),le=()=>b.click(),M=()=>v.click(),U=()=>b.click();function j(A){$t[A?"unshift":"push"](()=>{v=A,t(10,v)})}function se(A){$t[A?"unshift":"push"](()=>{b=A,t(11,b)})}const ae=A=>E(A);return s.$$set=A=>{"files"in A&&t(0,r=A.files),"maxFiles"in A&&t(1,n=A.maxFiles),"maxFileSize"in A&&t(2,l=A.maxFileSize),"acceptedTypes"in A&&t(3,a=A.acceptedTypes),"required"in A&&t(4,o=A.required),"label"in A&&t(5,c=A.label)},[r,n,l,a,o,c,p,_,f,g,v,b,E,I,T,F,P,z,J,W,Z,le,M,U,j,se,ae]}class Ln extends Ke{constructor(e){super(),Qe(this,e,Pn,Sn,Ze,{files:0,maxFiles:1,maxFileSize:2,acceptedTypes:3,required:4,label:5},null,[-1,-1])}}function ol(s,e,t){const r=s.slice();return r[33]=e[t],r}function cl(s){let e,t,r,n,l,a,o,c=(s[0].region||"Selected Location")+"",p,_,f,g=vl(s[0])+"",v,b,k,x,D,E,I,T;n=new Nt({props:{class:"w-4 h-4 text-green-600"}});let F=s[0].accuracy&&ul(s);return D=new St({props:{class:"w-4 h-4"}}),{c(){e=m("div"),t=m("div"),r=m("div"),ve(n.$$.fragment),l=C(),a=m("div"),o=m("p"),p=G(c),_=C(),f=m("p"),v=G(g),b=C(),F&&F.c(),k=C(),x=m("button"),ve(D.$$.fragment),this.h()},l(P){e=d(P,"DIV",{class:!0});var z=y(e);t=d(z,"DIV",{class:!0});var J=y(t);r=d(J,"DIV",{class:!0});var W=y(r);_e(n.$$.fragment,W),l=w(W),a=d(W,"DIV",{});var Z=y(a);o=d(Z,"P",{class:!0});var le=y(o);p=R(le,c),le.forEach(h),_=w(Z),f=d(Z,"P",{class:!0});var M=y(f);v=R(M,g),M.forEach(h),b=w(Z),F&&F.l(Z),Z.forEach(h),W.forEach(h),k=w(J),x=d(J,"BUTTON",{type:!0,class:!0,"aria-label":!0});var U=y(x);_e(D.$$.fragment,U),U.forEach(h),J.forEach(h),z.forEach(h),this.h()},h(){u(o,"class","font-medium text-green-800"),u(f,"class","text-sm text-green-600"),u(r,"class","flex items-center gap-2"),u(x,"type","button"),u(x,"class","p-1 text-green-600 hover:text-green-800 rounded-full hover:bg-green-100"),u(x,"aria-label","Clear location"),u(t,"class","flex items-center justify-between"),u(e,"class","current-location mb-4 p-3 bg-green-50 border border-green-200 rounded-lg")},m(P,z){re(P,e,z),i(e,t),i(t,r),pe(n,r,null),i(r,l),i(r,a),i(a,o),i(o,p),i(a,_),i(a,f),i(f,v),i(a,b),F&&F.m(a,null),i(t,k),i(t,x),pe(D,x,null),E=!0,I||(T=$e(x,"click",s[15]),I=!0)},p(P,z){(!E||z[0]&1)&&c!==(c=(P[0].region||"Selected Location")+"")&&ge(p,c),(!E||z[0]&1)&&g!==(g=vl(P[0])+"")&&ge(v,g),P[0].accuracy?F?F.p(P,z):(F=ul(P),F.c(),F.m(a,null)):F&&(F.d(1),F=null)},i(P){E||($(n.$$.fragment,P),$(D.$$.fragment,P),E=!0)},o(P){V(n.$$.fragment,P),V(D.$$.fragment,P),E=!1},d(P){P&&h(e),he(n),F&&F.d(),he(D),I=!1,T()}}}function ul(s){let e,t,r=Math.round(s[0].accuracy)+"",n,l;return{c(){e=m("p"),t=G("Accuracy: Â±"),n=G(r),l=G("m"),this.h()},l(a){e=d(a,"P",{class:!0});var o=y(e);t=R(o,"Accuracy: Â±"),n=R(o,r),l=R(o,"m"),o.forEach(h),this.h()},h(){u(e,"class","text-xs text-green-500")},m(a,o){re(a,e,o),i(e,t),i(e,n),i(e,l)},p(a,o){o[0]&1&&r!==(r=Math.round(a[0].accuracy)+"")&&ge(n,r)},d(a){a&&h(e)}}}function fl(s){let e,t,r=rt(s[5]),n=[];for(let a=0;a<r.length;a+=1)n[a]=dl(ol(s,r,a));const l=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){e=m("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=d(a,"DIV",{class:!0});var o=y(e);for(let c=0;c<n.length;c+=1)n[c].l(o);o.forEach(h),this.h()},h(){u(e,"class","search-results mt-2 max-h-48 overflow-y-auto border border-gray-200 rounded-md bg-white shadow-lg")},m(a,o){re(a,e,o);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);t=!0},p(a,o){if(o[0]&8224){r=rt(a[5]);let c;for(c=0;c<r.length;c+=1){const p=ol(a,r,c);n[c]?(n[c].p(p,o),$(n[c],1)):(n[c]=dl(p),n[c].c(),$(n[c],1),n[c].m(e,null))}for(Ie(),c=r.length;c<n.length;c+=1)l(c);De()}},i(a){if(!t){for(let o=0;o<r.length;o+=1)$(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);t=!1},d(a){a&&h(e),yt(n,a)}}}function dl(s){let e,t,r,n,l,a=s[33].display_name+"",o,c,p,_,f;r=new Rt({props:{class:"w-3 h-3 text-gray-400 flex-shrink-0"}});function g(){return s[18](s[33])}return{c(){e=m("button"),t=m("div"),ve(r.$$.fragment),n=C(),l=m("span"),o=G(a),c=C(),this.h()},l(v){e=d(v,"BUTTON",{type:!0,class:!0});var b=y(e);t=d(b,"DIV",{class:!0});var k=y(t);_e(r.$$.fragment,k),n=w(k),l=d(k,"SPAN",{class:!0});var x=y(l);o=R(x,a),x.forEach(h),k.forEach(h),c=w(b),b.forEach(h),this.h()},h(){u(l,"class","text-sm text-gray-900 line-clamp-2 svelte-t6kgju"),u(t,"class","flex items-center gap-2"),u(e,"type","button"),u(e,"class","w-full px-3 py-2 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-gray-50 focus:outline-none")},m(v,b){re(v,e,b),i(e,t),pe(r,t,null),i(t,n),i(t,l),i(l,o),i(e,c),p=!0,_||(f=$e(e,"click",g),_=!0)},p(v,b){s=v,(!p||b[0]&32)&&a!==(a=s[33].display_name+"")&&ge(o,a)},i(v){p||($(r.$$.fragment,v),p=!0)},o(v){V(r.$$.fragment,v),p=!1},d(v){v&&h(e),he(r),_=!1,f()}}}function ml(s){let e,t=`<div class="animate-spin w-4 h-4 border-2 border-primary-forest border-t-transparent rounded-full"></div>
        Searching...`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-1wkodc6"&&(e.innerHTML=t),this.h()},h(){u(e,"class","mt-2 flex items-center gap-2 text-sm text-gray-500")},m(r,n){re(r,e,n)},d(r){r&&h(e)}}}function An(s){let e,t;return e=new Kr({props:{class:"w-4 h-4"}}),{c(){ve(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,n){pe(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Fn(s){let e;return{c(){e=m("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),y(e).forEach(h),this.h()},h(){u(e,"class","animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full")},m(t,r){re(t,e,r)},i:Oe,o:Oe,d(t){t&&h(e)}}}function hl(s){let e,t,r="Enter Coordinates",n,l,a,o,c="Latitude",p,_,f,g,v,b="Longitude",k,x,D,E,I,T="Apply",F,P,z="Cancel",J,W;return{c(){e=m("div"),t=m("h4"),t.textContent=r,n=C(),l=m("div"),a=m("div"),o=m("label"),o.textContent=c,p=C(),_=m("input"),f=C(),g=m("div"),v=m("label"),v.textContent=b,k=C(),x=m("input"),D=C(),E=m("div"),I=m("button"),I.textContent=T,F=C(),P=m("button"),P.textContent=z,this.h()},l(Z){e=d(Z,"DIV",{class:!0});var le=y(e);t=d(le,"H4",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-faxxs8"&&(t.textContent=r),n=w(le),l=d(le,"DIV",{class:!0});var M=y(l);a=d(M,"DIV",{});var U=y(a);o=d(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(o)!=="svelte-1fqnc4h"&&(o.textContent=c),p=w(U),_=d(U,"INPUT",{id:!0,type:!0,step:!0,min:!0,max:!0,placeholder:!0,class:!0}),U.forEach(h),f=w(M),g=d(M,"DIV",{});var j=y(g);v=d(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(v)!=="svelte-8j4h80"&&(v.textContent=b),k=w(j),x=d(j,"INPUT",{id:!0,type:!0,step:!0,min:!0,max:!0,placeholder:!0,class:!0}),j.forEach(h),M.forEach(h),D=w(le),E=d(le,"DIV",{class:!0});var se=y(E);I=d(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(I)!=="svelte-d11g0v"&&(I.textContent=T),F=w(se),P=d(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(P)!=="svelte-10llzhl"&&(P.textContent=z),se.forEach(h),le.forEach(h),this.h()},h(){u(t,"class","text-sm font-medium text-gray-700 mb-2"),u(o,"for","lat"),u(o,"class","block text-xs text-gray-600 mb-1"),u(_,"id","lat"),u(_,"type","number"),u(_,"step","any"),u(_,"min","-90"),u(_,"max","90"),u(_,"placeholder","e.g., 40.7128"),u(_,"class","w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-forest focus:border-primary-forest svelte-t6kgju"),u(v,"for","lng"),u(v,"class","block text-xs text-gray-600 mb-1"),u(x,"id","lng"),u(x,"type","number"),u(x,"step","any"),u(x,"min","-180"),u(x,"max","180"),u(x,"placeholder","e.g., -74.0060"),u(x,"class","w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-forest focus:border-primary-forest svelte-t6kgju"),u(l,"class","grid grid-cols-2 gap-2"),u(I,"type","button"),u(I,"class","px-3 py-1 text-xs bg-primary-forest text-white rounded hover:bg-primary-forest/90"),u(P,"type","button"),u(P,"class","px-3 py-1 text-xs bg-gray-300 text-gray-700 rounded hover:bg-gray-400"),u(E,"class","flex gap-2 mt-2"),u(e,"class","manual-entry mb-4 p-3 bg-gray-50 border border-gray-200 rounded-lg")},m(Z,le){re(Z,e,le),i(e,t),i(e,n),i(e,l),i(l,a),i(a,o),i(a,p),i(a,_),qe(_,s[9]),i(l,f),i(l,g),i(g,v),i(g,k),i(g,x),qe(x,s[10]),i(e,D),i(e,E),i(E,I),i(E,F),i(E,P),J||(W=[$e(_,"input",s[20]),$e(x,"input",s[21]),$e(I,"click",s[14]),$e(P,"click",s[22])],J=!0)},p(Z,le){le[0]&512&&Et(_.value)!==Z[9]&&qe(_,Z[9]),le[0]&1024&&Et(x.value)!==Z[10]&&qe(x,Z[10])},d(Z){Z&&h(e),J=!1,bt(W)}}}function pl(s){let e,t,r,n,l="Click on the map to select a location";return{c(){e=m("div"),t=m("div"),r=C(),n=m("p"),n.textContent=l,this.h()},l(a){e=d(a,"DIV",{class:!0});var o=y(e);t=d(o,"DIV",{class:!0}),y(t).forEach(h),r=w(o),n=d(o,"P",{class:!0,"data-svelte-h":!0}),ce(n)!=="svelte-bb8f3j"&&(n.textContent=l),o.forEach(h),this.h()},h(){u(t,"class","w-full h-64 bg-gray-100 rounded-lg border border-gray-200"),u(n,"class","text-xs text-gray-500 mt-1"),u(e,"class","map-container mb-4")},m(a,o){re(a,e,o),i(e,t),s[23](t),i(e,r),i(e,n)},p:Oe,d(a){a&&h(e),s[23](null)}}}function _l(s){let e,t,r,n;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("div"),ve(t.$$.fragment),r=G(`\r
      Location is required`),this.h()},l(l){e=d(l,"DIV",{class:!0});var a=y(e);_e(t.$$.fragment,a),r=R(a,`\r
      Location is required`),a.forEach(h),this.h()},h(){u(e,"class","validation-error text-red-600 text-sm flex items-center gap-1")},m(l,a){re(l,e,a),pe(t,e,null),i(e,r),n=!0},i(l){n||($(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&h(e),he(t)}}}function Mn(s){let e,t,r,n,l,a=s[1]?"*":"",o,c,p,_="Search for a location, use your current location, or click on the map",f,g,v,b,k,x,D,E,I,T,F,P,z,J,W,Z,le,M,U,j,se,ae,A,X,te,q;n=new Rt({props:{class:"w-5 h-5"}});let B=s[0]&&cl(s);x=new Ut({props:{class:"w-4 h-4 text-gray-400"}});let Y=s[5].length>0&&fl(s),K=s[6]&&ml();const be=[Fn,An],H=[];function ie(L,ne){return L[7]?0:1}J=ie(s),W=H[J]=be[J](s),U=new wr({props:{class:"w-4 h-4"}});let Q=s[11]&&hl(s),N=s[2]&&pl(s),S=s[1]&&!s[0]&&_l();return{c(){e=m("div"),t=m("div"),r=m("h3"),ve(n.$$.fragment),l=G(`\r
      Location `),o=G(a),c=C(),p=m("p"),p.textContent=_,f=C(),B&&B.c(),g=C(),v=m("div"),b=m("div"),k=m("div"),ve(x.$$.fragment),D=C(),E=m("input"),I=C(),Y&&Y.c(),T=C(),K&&K.c(),F=C(),P=m("div"),z=m("button"),W.c(),Z=G(`\r
      Current Location`),le=C(),M=m("button"),ve(U.$$.fragment),j=G(`\r
      Enter Coordinates`),se=C(),Q&&Q.c(),ae=C(),N&&N.c(),A=C(),S&&S.c(),this.h()},l(L){e=d(L,"DIV",{class:!0});var ne=y(e);t=d(ne,"DIV",{class:!0});var me=y(t);r=d(me,"H3",{class:!0});var ue=y(r);_e(n.$$.fragment,ue),l=R(ue,`\r
      Location `),o=R(ue,a),ue.forEach(h),c=w(me),p=d(me,"P",{class:!0,"data-svelte-h":!0}),ce(p)!=="svelte-on2y8j"&&(p.textContent=_),me.forEach(h),f=w(ne),B&&B.l(ne),g=w(ne),v=d(ne,"DIV",{class:!0});var O=y(v);b=d(O,"DIV",{class:!0});var ee=y(b);k=d(ee,"DIV",{class:!0});var ye=y(k);_e(x.$$.fragment,ye),ye.forEach(h),D=w(ee),E=d(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(h),I=w(O),Y&&Y.l(O),T=w(O),K&&K.l(O),O.forEach(h),F=w(ne),P=d(ne,"DIV",{class:!0});var fe=y(P);z=d(fe,"BUTTON",{type:!0,class:!0});var de=y(z);W.l(de),Z=R(de,`\r
      Current Location`),de.forEach(h),le=w(fe),M=d(fe,"BUTTON",{type:!0,class:!0});var ke=y(M);_e(U.$$.fragment,ke),j=R(ke,`\r
      Enter Coordinates`),ke.forEach(h),fe.forEach(h),se=w(ne),Q&&Q.l(ne),ae=w(ne),N&&N.l(ne),A=w(ne),S&&S.l(ne),ne.forEach(h),this.h()},h(){u(r,"class","text-lg font-semibold text-primary-forest mb-2 flex items-center gap-2"),u(p,"class","text-sm text-gray-600"),u(t,"class","header mb-4"),u(k,"class","absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"),u(E,"type","text"),u(E,"placeholder",s[3]),u(E,"class","block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-forest focus:border-primary-forest"),u(b,"class","relative"),u(v,"class","search-section mb-4"),u(z,"type","button"),z.disabled=s[7],u(z,"class","flex items-center gap-2 px-3 py-2 text-sm bg-primary-forest text-white rounded-md hover:bg-primary-forest/90 disabled:opacity-50 disabled:cursor-not-allowed"),u(M,"type","button"),u(M,"class","flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"),u(P,"class","actions mb-4 flex flex-wrap gap-2"),u(e,"class","location-picker svelte-t6kgju")},m(L,ne){re(L,e,ne),i(e,t),i(t,r),pe(n,r,null),i(r,l),i(r,o),i(t,c),i(t,p),i(e,f),B&&B.m(e,null),i(e,g),i(e,v),i(v,b),i(b,k),pe(x,k,null),i(b,D),i(b,E),qe(E,s[4]),i(v,I),Y&&Y.m(v,null),i(v,T),K&&K.m(v,null),i(e,F),i(e,P),i(P,z),H[J].m(z,null),i(z,Z),i(P,le),i(P,M),pe(U,M,null),i(M,j),i(e,se),Q&&Q.m(e,null),i(e,ae),N&&N.m(e,null),i(e,A),S&&S.m(e,null),X=!0,te||(q=[$e(E,"input",s[17]),$e(E,"input",s[16]),$e(z,"click",s[12]),$e(M,"click",s[19])],te=!0)},p(L,ne){(!X||ne[0]&2)&&a!==(a=L[1]?"*":"")&&ge(o,a),L[0]?B?(B.p(L,ne),ne[0]&1&&$(B,1)):(B=cl(L),B.c(),$(B,1),B.m(e,g)):B&&(Ie(),V(B,1,1,()=>{B=null}),De()),(!X||ne[0]&8)&&u(E,"placeholder",L[3]),ne[0]&16&&E.value!==L[4]&&qe(E,L[4]),L[5].length>0?Y?(Y.p(L,ne),ne[0]&32&&$(Y,1)):(Y=fl(L),Y.c(),$(Y,1),Y.m(v,T)):Y&&(Ie(),V(Y,1,1,()=>{Y=null}),De()),L[6]?K||(K=ml(),K.c(),K.m(v,null)):K&&(K.d(1),K=null);let me=J;J=ie(L),J!==me&&(Ie(),V(H[me],1,1,()=>{H[me]=null}),De(),W=H[J],W||(W=H[J]=be[J](L),W.c()),$(W,1),W.m(z,Z)),(!X||ne[0]&128)&&(z.disabled=L[7]),L[11]?Q?Q.p(L,ne):(Q=hl(L),Q.c(),Q.m(e,ae)):Q&&(Q.d(1),Q=null),L[2]?N?N.p(L,ne):(N=pl(L),N.c(),N.m(e,A)):N&&(N.d(1),N=null),L[1]&&!L[0]?S?ne[0]&3&&$(S,1):(S=_l(),S.c(),$(S,1),S.m(e,null)):S&&(Ie(),V(S,1,1,()=>{S=null}),De())},i(L){X||($(n.$$.fragment,L),$(B),$(x.$$.fragment,L),$(Y),$(W),$(U.$$.fragment,L),$(S),X=!0)},o(L){V(n.$$.fragment,L),V(B),V(x.$$.fragment,L),V(Y),V(W),V(U.$$.fragment,L),V(S),X=!1},d(L){L&&h(e),he(n),B&&B.d(),he(x),Y&&Y.d(),K&&K.d(),H[J].d(),he(U),Q&&Q.d(),N&&N.d(),S&&S.d(),te=!1,bt(q)}}}function vl(s){return`${s.latitude.toFixed(6)}, ${s.longitude.toFixed(6)}`}function qn(s,e,t){let{location:r=null}=e,{required:n=!0}=e,{showMap:l=!0}=e,{placeholder:a="Search for a location..."}=e,o="",c=[],p=!1,_=!1,f,g=null,v=null,b,k="",x="",D=!1;const E=Vt();qt(async()=>{l&&await I()}),pr(()=>{b&&clearTimeout(b),g&&g.remove()});async function I(){try{const q=await $r(()=>import("../chunks/C1-YiHia.js").then(B=>B.l),__vite__mapDeps([0,1]),import.meta.url);g=q.map(f).setView([39.8283,-98.5795],4),q.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors"}).addTo(g),g.on("click",B=>{const Y=B.latlng.lat,K=B.latlng.lng;T(Y,K)}),r&&F(r)}catch(q){console.error("Failed to initialize map:",q),lt.showNotification("error","Failed to load map. Please check your internet connection.")}}function T(q,B){const Y={latitude:q,longitude:B,accuracy:void 0,region:"Selected on map"};P(Y),F(Y)}function F(q){if(!g)return;v&&g.removeLayer(v);const B=window.L;B&&(v=B.marker([q.latitude,q.longitude]).addTo(g),g.setView([q.latitude,q.longitude],12))}function P(q){t(0,r=q),E("locationSelected",q)}async function z(){t(7,_=!0);try{const q=await new Promise((Y,K)=>{navigator.geolocation.getCurrentPosition(Y,K,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),B={latitude:q.coords.latitude,longitude:q.coords.longitude,accuracy:q.coords.accuracy,region:"Current location"};P(B),g&&F(B),lt.showNotification("success","Location retrieved successfully")}catch(q){console.error("Geolocation error:",q),lt.showNotification("error","Could not get your location. Please search or click on the map.")}finally{t(7,_=!1)}}async function J(){if(!o.trim()){t(5,c=[]);return}t(6,p=!0);try{const q=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(o)}&format=json&addressdetails=1&limit=5`);if(!q.ok)throw new Error("Search failed");const B=await q.json();t(5,c=B.map(Y=>({display_name:Y.display_name,latitude:parseFloat(Y.lat),longitude:parseFloat(Y.lon),type:Y.type,importance:Y.importance})))}catch(q){console.error("Search error:",q),lt.showNotification("error","Search failed. Please try again."),t(5,c=[])}finally{t(6,p=!1)}}function W(q){const B={latitude:q.latitude,longitude:q.longitude,accuracy:void 0,region:q.display_name};P(B),g&&F(B),t(4,o=q.display_name),t(5,c=[])}function Z(){const q=parseFloat(k),B=parseFloat(x);if(isNaN(q)||isNaN(B)){lt.showNotification("error","Please enter valid latitude and longitude values");return}if(q<-90||q>90){lt.showNotification("error","Latitude must be between -90 and 90");return}if(B<-180||B>180){lt.showNotification("error","Longitude must be between -180 and 180");return}const Y={latitude:q,longitude:B,accuracy:void 0,region:"Manual entry"};P(Y),g&&F(Y),t(11,D=!1),t(9,k=""),t(10,x="")}function le(){t(0,r=null),t(4,o=""),t(5,c=[]),t(9,k=""),t(10,x=""),v&&g&&(g.removeLayer(v),v=null),E("locationCleared")}function M(){b&&clearTimeout(b),b=setTimeout(J,500)}function U(){o=this.value,t(4,o)}const j=q=>W(q),se=()=>t(11,D=!D);function ae(){k=Et(this.value),t(9,k)}function A(){x=Et(this.value),t(10,x)}const X=()=>{t(11,D=!1),t(9,k=""),t(10,x="")};function te(q){$t[q?"unshift":"push"](()=>{f=q,t(8,f)})}return s.$$set=q=>{"location"in q&&t(0,r=q.location),"required"in q&&t(1,n=q.required),"showMap"in q&&t(2,l=q.showMap),"placeholder"in q&&t(3,a=q.placeholder)},[r,n,l,a,o,c,p,_,f,k,x,D,z,W,Z,le,M,U,j,se,ae,A,X,te]}class On extends Ke{constructor(e){super(),Qe(this,e,qn,Mn,Ze,{location:0,required:1,showMap:2,placeholder:3},null,[-1,-1])}}function gl(s,e,t){const r=s.slice();return r[25]=e[t],r[27]=t,r}function bl(s){let e,t,r,n,l,a="AI-Powered Suggestions",o,c,p="Based on your audio recording's frequency analysis, we've ranked species by likelihood.",_;return r=new mr({props:{class:"w-4 h-4 text-purple-600"}}),{c(){e=m("div"),t=m("div"),ve(r.$$.fragment),n=C(),l=m("span"),l.textContent=a,o=C(),c=m("p"),c.textContent=p,this.h()},l(f){e=d(f,"DIV",{class:!0});var g=y(e);t=d(g,"DIV",{class:!0});var v=y(t);_e(r.$$.fragment,v),n=w(v),l=d(v,"SPAN",{class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-1b2kjzl"&&(l.textContent=a),v.forEach(h),o=w(g),c=d(g,"P",{class:!0,"data-svelte-h":!0}),ce(c)!=="svelte-75jtmd"&&(c.textContent=p),g.forEach(h),this.h()},h(){u(l,"class","font-medium text-purple-800"),u(t,"class","flex items-center gap-2 mb-2"),u(c,"class","text-sm text-purple-700"),u(e,"class","ai-suggestions mb-4 p-3 bg-purple-50 border border-purple-200 rounded-lg svelte-va5lfc")},m(f,g){re(f,e,g),i(e,t),pe(r,t,null),i(t,n),i(t,l),i(e,o),i(e,c),_=!0},i(f){_||($(r.$$.fragment,f),_=!0)},o(f){V(r.$$.fragment,f),_=!1},d(f){f&&h(e),he(r)}}}function yl(s){let e,t,r,n,l=Bt(s[0])+"",a,o,c,p,_=s[0].common_name+"",f,g,v,b=s[0].scientific_name+"",k,x,D,E,I,T="Class:",F,P=s[0].taxonomy.class+"",z,J,W,Z="Order:",le,M=s[0].taxonomy.order+"",U,j,se,ae,A="Family:",X,te=s[0].taxonomy.family+"",q,B,Y,K,be,H,ie,Q,N=s[0].audio_characteristics&&(s[1]==="audio"||s[1]==="multi-modal")&&kl(s);return be=new St({props:{class:"w-4 h-4"}}),{c(){e=m("div"),t=m("div"),r=m("div"),n=m("div"),a=G(l),o=C(),c=m("div"),p=m("h4"),f=G(_),g=C(),v=m("p"),k=G(b),x=C(),D=m("div"),E=m("div"),I=m("span"),I.textContent=T,F=C(),z=G(P),J=C(),W=m("span"),W.textContent=Z,le=C(),U=G(M),j=C(),se=m("div"),ae=m("span"),ae.textContent=A,X=C(),q=G(te),B=C(),N&&N.c(),Y=C(),K=m("button"),ve(be.$$.fragment),this.h()},l(S){e=d(S,"DIV",{class:!0});var L=y(e);t=d(L,"DIV",{class:!0});var ne=y(t);r=d(ne,"DIV",{class:!0});var me=y(r);n=d(me,"DIV",{class:!0});var ue=y(n);a=R(ue,l),ue.forEach(h),o=w(me),c=d(me,"DIV",{});var O=y(c);p=d(O,"H4",{class:!0});var ee=y(p);f=R(ee,_),ee.forEach(h),g=w(O),v=d(O,"P",{class:!0});var ye=y(v);k=R(ye,b),ye.forEach(h),x=w(O),D=d(O,"DIV",{class:!0});var fe=y(D);E=d(fe,"DIV",{class:!0});var de=y(E);I=d(de,"SPAN",{class:!0,"data-svelte-h":!0}),ce(I)!=="svelte-w3x8wc"&&(I.textContent=T),F=w(de),z=R(de,P),J=w(de),W=d(de,"SPAN",{class:!0,"data-svelte-h":!0}),ce(W)!=="svelte-1vv029e"&&(W.textContent=Z),le=w(de),U=R(de,M),de.forEach(h),j=w(fe),se=d(fe,"DIV",{class:!0});var ke=y(se);ae=d(ke,"SPAN",{class:!0,"data-svelte-h":!0}),ce(ae)!=="svelte-tsu55s"&&(ae.textContent=A),X=w(ke),q=R(ke,te),ke.forEach(h),fe.forEach(h),B=w(O),N&&N.l(O),O.forEach(h),me.forEach(h),Y=w(ne),K=d(ne,"BUTTON",{class:!0,"aria-label":!0});var Ae=y(K);_e(be.$$.fragment,Ae),Ae.forEach(h),ne.forEach(h),L.forEach(h),this.h()},h(){u(n,"class","species-icon text-2xl"),u(p,"class","font-semibold text-green-800"),u(v,"class","text-sm italic text-green-700"),u(I,"class","font-medium"),u(W,"class","ml-4 font-medium"),u(E,"class","taxonomy-line svelte-va5lfc"),u(ae,"class","font-medium"),u(se,"class","taxonomy-line svelte-va5lfc"),u(D,"class","taxonomy mt-1 text-xs text-green-600"),u(r,"class","flex items-start gap-3"),u(K,"class","p-1 text-gray-400 hover:text-red-600 rounded-full hover:bg-red-50 svelte-va5lfc"),u(K,"aria-label","Clear selection"),u(t,"class","flex items-start justify-between"),u(e,"class","selected-species mb-4 p-4 bg-green-50 border border-green-200 rounded-lg svelte-va5lfc")},m(S,L){re(S,e,L),i(e,t),i(t,r),i(r,n),i(n,a),i(r,o),i(r,c),i(c,p),i(p,f),i(c,g),i(c,v),i(v,k),i(c,x),i(c,D),i(D,E),i(E,I),i(E,F),i(E,z),i(E,J),i(E,W),i(E,le),i(E,U),i(D,j),i(D,se),i(se,ae),i(se,X),i(se,q),i(c,B),N&&N.m(c,null),i(t,Y),i(t,K),pe(be,K,null),H=!0,ie||(Q=$e(K,"click",s[12]),ie=!0)},p(S,L){(!H||L&1)&&l!==(l=Bt(S[0])+"")&&ge(a,l),(!H||L&1)&&_!==(_=S[0].common_name+"")&&ge(f,_),(!H||L&1)&&b!==(b=S[0].scientific_name+"")&&ge(k,b),(!H||L&1)&&P!==(P=S[0].taxonomy.class+"")&&ge(z,P),(!H||L&1)&&M!==(M=S[0].taxonomy.order+"")&&ge(U,M),(!H||L&1)&&te!==(te=S[0].taxonomy.family+"")&&ge(q,te),S[0].audio_characteristics&&(S[1]==="audio"||S[1]==="multi-modal")?N?(N.p(S,L),L&3&&$(N,1)):(N=kl(S),N.c(),$(N,1),N.m(c,null)):N&&(Ie(),V(N,1,1,()=>{N=null}),De())},i(S){H||($(N),$(be.$$.fragment,S),H=!0)},o(S){V(N),V(be.$$.fragment,S),H=!1},d(S){S&&h(e),N&&N.d(),he(be),ie=!1,Q()}}}function kl(s){let e,t,r,n,l,a="Audio Profile",o,c,p,_,f=Ht(s[0].audio_characteristics.frequency_range)+"",g,v,b,k,x=s[0].audio_characteristics.call_patterns.join(", ")+"",D,E;return r=new hr({props:{class:"w-3 h-3 text-blue-600"}}),{c(){e=m("div"),t=m("div"),ve(r.$$.fragment),n=C(),l=m("span"),l.textContent=a,o=C(),c=m("div"),p=m("div"),_=G("Frequency: "),g=G(f),v=C(),b=m("div"),k=G("Patterns: "),D=G(x),this.h()},l(I){e=d(I,"DIV",{class:!0});var T=y(e);t=d(T,"DIV",{class:!0});var F=y(t);_e(r.$$.fragment,F),n=w(F),l=d(F,"SPAN",{class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-1a60dmk"&&(l.textContent=a),F.forEach(h),o=w(T),c=d(T,"DIV",{class:!0});var P=y(c);p=d(P,"DIV",{});var z=y(p);_=R(z,"Frequency: "),g=R(z,f),z.forEach(h),v=w(P),b=d(P,"DIV",{});var J=y(b);k=R(J,"Patterns: "),D=R(J,x),J.forEach(h),P.forEach(h),T.forEach(h),this.h()},h(){u(l,"class","font-medium text-blue-800"),u(t,"class","flex items-center gap-1 mb-1"),u(c,"class","space-y-1 text-gray-600"),u(e,"class","audio-info mt-2 p-2 bg-white rounded border text-xs")},m(I,T){re(I,e,T),i(e,t),pe(r,t,null),i(t,n),i(t,l),i(e,o),i(e,c),i(c,p),i(p,_),i(p,g),i(c,v),i(c,b),i(b,k),i(b,D),E=!0},p(I,T){(!E||T&1)&&f!==(f=Ht(I[0].audio_characteristics.frequency_range)+"")&&ge(g,f),(!E||T&1)&&x!==(x=I[0].audio_characteristics.call_patterns.join(", ")+"")&&ge(D,x)},i(I){E||($(r.$$.fragment,I),E=!0)},o(I){V(r.$$.fragment,I),E=!1},d(I){I&&h(e),he(r)}}}function $l(s){let e,t,r,n,l;return t=new St({props:{class:"w-4 h-4 text-gray-400 hover:text-gray-600"}}),{c(){e=m("button"),ve(t.$$.fragment),this.h()},l(a){e=d(a,"BUTTON",{class:!0});var o=y(e);_e(t.$$.fragment,o),o.forEach(h),this.h()},h(){u(e,"class","absolute inset-y-0 right-0 pr-3 flex items-center svelte-va5lfc")},m(a,o){re(a,e,o),pe(t,e,null),r=!0,n||(l=$e(e,"click",s[17]),n=!0)},p:Oe,i(a){r||($(t.$$.fragment,a),r=!0)},o(a){V(t.$$.fragment,a),r=!1},d(a){a&&h(e),he(t),n=!1,l()}}}function wl(s){let e,t,r,n;const l=[zn,Un,jn],a=[];function o(c,p){return c[6]?0:c[5].length===0?1:2}return t=o(s),r=a[t]=l[t](s),{c(){e=m("div"),r.c(),this.h()},l(c){e=d(c,"DIV",{class:!0});var p=y(e);r.l(p),p.forEach(h),this.h()},h(){u(e,"class","search-dropdown absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto svelte-va5lfc")},m(c,p){re(c,e,p),a[t].m(e,null),n=!0},p(c,p){let _=t;t=o(c),t===_?a[t].p(c,p):(Ie(),V(a[_],1,1,()=>{a[_]=null}),De(),r=a[t],r?r.p(c,p):(r=a[t]=l[t](c),r.c()),$(r,1),r.m(e,null))},i(c){n||($(r),n=!0)},o(c){V(r),n=!1},d(c){c&&h(e),a[t].d()}}}function jn(s){let e,t,r,n=rt(s[5]),l=[];for(let c=0;c<n.length;c+=1)l[c]=Dl(gl(s,n,c));const a=c=>V(l[c],1,1,()=>{l[c]=null});let o=s[5].length>=10&&xl(s);return{c(){for(let c=0;c<l.length;c+=1)l[c].c();e=C(),o&&o.c(),t=Ct()},l(c){for(let p=0;p<l.length;p+=1)l[p].l(c);e=w(c),o&&o.l(c),t=Ct()},m(c,p){for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(c,p);re(c,e,p),o&&o.m(c,p),re(c,t,p),r=!0},p(c,p){if(p&2086){n=rt(c[5]);let _;for(_=0;_<n.length;_+=1){const f=gl(c,n,_);l[_]?(l[_].p(f,p),$(l[_],1)):(l[_]=Dl(f),l[_].c(),$(l[_],1),l[_].m(e.parentNode,e))}for(Ie(),_=n.length;_<l.length;_+=1)a(_);De()}c[5].length>=10?o?(o.p(c,p),p&32&&$(o,1)):(o=xl(c),o.c(),$(o,1),o.m(t.parentNode,t)):o&&(Ie(),V(o,1,1,()=>{o=null}),De())},i(c){if(!r){for(let p=0;p<n.length;p+=1)$(l[p]);$(o),r=!0}},o(c){l=l.filter(Boolean);for(let p=0;p<l.length;p+=1)V(l[p]);V(o),r=!1},d(c){c&&(h(e),h(t)),yt(l,c),o&&o.d(c)}}}function Un(s){let e,t="<p>No species found. Try a different search term.</p>";return{c(){e=m("div"),e.innerHTML=t,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-19gqp55"&&(e.innerHTML=t),this.h()},h(){u(e,"class","p-4 text-center text-gray-500")},m(r,n){re(r,e,n)},p:Oe,i:Oe,o:Oe,d(r){r&&h(e)}}}function zn(s){let e,t='<div class="animate-spin w-5 h-5 border-2 border-primary-forest border-t-transparent rounded-full mx-auto mb-2"></div> <p class="text-sm text-gray-600">Searching species...</p>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-1q9qouc"&&(e.innerHTML=t),this.h()},h(){u(e,"class","p-4 text-center")},m(r,n){re(r,e,n)},p:Oe,i:Oe,o:Oe,d(r){r&&h(e)}}}function Cl(s){let e,t,r,n,l,a=s[27]+1+"",o,c;return t=new mr({props:{class:"w-3 h-3"}}),{c(){e=m("div"),ve(t.$$.fragment),r=C(),n=m("span"),l=G("AI Match #"),o=G(a),this.h()},l(p){e=d(p,"DIV",{class:!0});var _=y(e);_e(t.$$.fragment,_),r=w(_),n=d(_,"SPAN",{class:!0});var f=y(n);l=R(f,"AI Match #"),o=R(f,a),f.forEach(h),_.forEach(h),this.h()},h(){u(n,"class","text-xs"),u(e,"class","ai-match flex items-center gap-1 text-purple-600 svelte-va5lfc")},m(p,_){re(p,e,_),pe(t,e,null),i(e,r),i(e,n),i(n,l),i(n,o),c=!0},i(p){c||($(t.$$.fragment,p),c=!0)},o(p){V(t.$$.fragment,p),c=!1},d(p){p&&h(e),he(t)}}}function El(s){let e,t,r,n=Ht(s[25].audio_characteristics.frequency_range)+"",l,a;return t=new hr({props:{class:"w-3 h-3"}}),{c(){e=m("div"),ve(t.$$.fragment),r=C(),l=G(n),this.h()},l(o){e=d(o,"DIV",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=w(c),l=R(c,n),c.forEach(h),this.h()},h(){u(e,"class","audio-match flex items-center gap-1 text-blue-600 svelte-va5lfc")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),i(e,l),a=!0},p(o,c){(!a||c&32)&&n!==(n=Ht(o[25].audio_characteristics.frequency_range)+"")&&ge(l,n)},i(o){a||($(t.$$.fragment,o),a=!0)},o(o){V(t.$$.fragment,o),a=!1},d(o){o&&h(e),he(t)}}}function Il(s){let e,t=s[25].habitat_types.length-3+"",r,n;return{c(){e=G("+"),r=G(t),n=G(" more")},l(l){e=R(l,"+"),r=R(l,t),n=R(l," more")},m(l,a){re(l,e,a),re(l,r,a),re(l,n,a)},p(l,a){a&32&&t!==(t=l[25].habitat_types.length-3+"")&&ge(r,t)},d(l){l&&(h(e),h(r),h(n))}}}function Dl(s){let e,t,r,n=Bt(s[25])+"",l,a,o,c,p,_,f=s[25].common_name+"",g,v,b,k=s[25].scientific_name+"",x,D,E,I=s[25].taxonomy.class+"",T,F,P=s[25].taxonomy.family+"",z,J,W,Z,le,M,U,j,se=s[25].habitat_types.slice(0,3).join(", ")+"",ae,A,X,te,q,B=s[25].conservation_status+"",Y,K,be,H,ie,Q,N=s[2]&&s[1]==="audio"&&s[27]<3&&Cl(s),S=s[25].audio_characteristics&&(s[1]==="audio"||s[1]==="multi-modal")&&El(s);M=new Rt({props:{class:"w-3 h-3"}});let L=s[25].habitat_types.length>3&&Il(s);function ne(){return s[18](s[25])}return{c(){e=m("button"),t=m("div"),r=m("div"),l=G(n),a=C(),o=m("div"),c=m("div"),p=m("div"),_=m("h4"),g=G(f),v=C(),b=m("p"),x=G(k),D=C(),E=m("div"),T=G(I),F=G(" â€¢ "),z=G(P),J=C(),N&&N.c(),W=C(),S&&S.c(),Z=C(),le=m("div"),ve(M.$$.fragment),U=C(),j=m("span"),ae=G(se),A=C(),L&&L.c(),X=C(),te=m("div"),q=m("span"),Y=G(B),be=C(),this.h()},l(me){e=d(me,"BUTTON",{type:!0,class:!0});var ue=y(e);t=d(ue,"DIV",{class:!0});var O=y(t);r=d(O,"DIV",{class:!0});var ee=y(r);l=R(ee,n),ee.forEach(h),a=w(O),o=d(O,"DIV",{class:!0});var ye=y(o);c=d(ye,"DIV",{class:!0});var fe=y(c);p=d(fe,"DIV",{});var de=y(p);_=d(de,"H4",{class:!0});var ke=y(_);g=R(ke,f),ke.forEach(h),v=w(de),b=d(de,"P",{class:!0});var Ae=y(b);x=R(Ae,k),Ae.forEach(h),D=w(de),E=d(de,"DIV",{class:!0});var xe=y(E);T=R(xe,I),F=R(xe," â€¢ "),z=R(xe,P),xe.forEach(h),de.forEach(h),J=w(fe),N&&N.l(fe),fe.forEach(h),W=w(ye),S&&S.l(ye),Z=w(ye),le=d(ye,"DIV",{class:!0});var oe=y(le);_e(M.$$.fragment,oe),U=w(oe),j=d(oe,"SPAN",{class:!0});var Ve=y(j);ae=R(Ve,se),A=w(Ve),L&&L.l(Ve),Ve.forEach(h),oe.forEach(h),ye.forEach(h),O.forEach(h),X=w(ue),te=d(ue,"DIV",{class:!0});var Ee=y(te);q=d(Ee,"SPAN",{class:!0});var He=y(q);Y=R(He,B),He.forEach(h),Ee.forEach(h),be=w(ue),ue.forEach(h),this.h()},h(){u(r,"class","species-icon text-xl flex-shrink-0 mt-1"),u(_,"class","font-medium text-gray-900"),u(b,"class","text-sm italic text-gray-600"),u(E,"class","taxonomy-info svelte-va5lfc"),u(c,"class","flex items-start justify-between"),u(j,"class","text-xs"),u(le,"class","habitat-info flex items-center gap-1 text-green-600 mt-1 svelte-va5lfc"),u(o,"class","flex-1 min-w-0"),u(t,"class","flex items-start gap-3"),u(q,"class",K="conservation-status "+Nl(s[25].conservation_status||"unknown")+" svelte-va5lfc"),u(te,"class","meta-info mt-2 text-xs text-gray-500 svelte-va5lfc"),u(e,"type","button"),u(e,"class","w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:bg-gray-50 focus:outline-none svelte-va5lfc")},m(me,ue){re(me,e,ue),i(e,t),i(t,r),i(r,l),i(t,a),i(t,o),i(o,c),i(c,p),i(p,_),i(_,g),i(p,v),i(p,b),i(b,x),i(p,D),i(p,E),i(E,T),i(E,F),i(E,z),i(c,J),N&&N.m(c,null),i(o,W),S&&S.m(o,null),i(o,Z),i(o,le),pe(M,le,null),i(le,U),i(le,j),i(j,ae),i(j,A),L&&L.m(j,null),i(e,X),i(e,te),i(te,q),i(q,Y),i(e,be),H=!0,ie||(Q=$e(e,"click",ne),ie=!0)},p(me,ue){s=me,(!H||ue&32)&&n!==(n=Bt(s[25])+"")&&ge(l,n),(!H||ue&32)&&f!==(f=s[25].common_name+"")&&ge(g,f),(!H||ue&32)&&k!==(k=s[25].scientific_name+"")&&ge(x,k),(!H||ue&32)&&I!==(I=s[25].taxonomy.class+"")&&ge(T,I),(!H||ue&32)&&P!==(P=s[25].taxonomy.family+"")&&ge(z,P),s[2]&&s[1]==="audio"&&s[27]<3?N?ue&6&&$(N,1):(N=Cl(s),N.c(),$(N,1),N.m(c,null)):N&&(Ie(),V(N,1,1,()=>{N=null}),De()),s[25].audio_characteristics&&(s[1]==="audio"||s[1]==="multi-modal")?S?(S.p(s,ue),ue&34&&$(S,1)):(S=El(s),S.c(),$(S,1),S.m(o,Z)):S&&(Ie(),V(S,1,1,()=>{S=null}),De()),(!H||ue&32)&&se!==(se=s[25].habitat_types.slice(0,3).join(", ")+"")&&ge(ae,se),s[25].habitat_types.length>3?L?L.p(s,ue):(L=Il(s),L.c(),L.m(j,null)):L&&(L.d(1),L=null),(!H||ue&32)&&B!==(B=s[25].conservation_status+"")&&ge(Y,B),(!H||ue&32&&K!==(K="conservation-status "+Nl(s[25].conservation_status||"unknown")+" svelte-va5lfc"))&&u(q,"class",K)},i(me){H||($(N),$(S),$(M.$$.fragment,me),H=!0)},o(me){V(N),V(S),V(M.$$.fragment,me),H=!1},d(me){me&&h(e),N&&N.d(),S&&S.d(),he(M),L&&L.d(),ie=!1,Q()}}}function xl(s){let e,t,r,n,l,a;const o=[Hn,Bn],c=[];function p(_,f){return _[8]?0:1}return t=p(s),r=c[t]=o[t](s),{c(){e=m("button"),r.c(),this.h()},l(_){e=d(_,"BUTTON",{type:!0,class:!0});var f=y(e);r.l(f),f.forEach(h),this.h()},h(){u(e,"type","button"),u(e,"class","w-full p-3 text-center text-sm text-primary-forest hover:bg-gray-50 border-t border-gray-100 flex items-center justify-center gap-2 svelte-va5lfc")},m(_,f){re(_,e,f),c[t].m(e,null),n=!0,l||(a=$e(e,"click",s[19]),l=!0)},p(_,f){let g=t;t=p(_),t!==g&&(Ie(),V(c[g],1,1,()=>{c[g]=null}),De(),r=c[t],r||(r=c[t]=o[t](_),r.c()),$(r,1),r.m(e,null))},i(_){n||($(r),n=!0)},o(_){V(r),n=!1},d(_){_&&h(e),c[t].d(),l=!1,a()}}}function Bn(s){let e,t,r;return e=new Tr({props:{class:"w-4 h-4"}}),{c(){ve(e.$$.fragment),t=G(`\r
                Show More Results`)},l(n){_e(e.$$.fragment,n),t=R(n,`\r
                Show More Results`)},m(n,l){pe(e,n,l),re(n,t,l),r=!0},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){n&&h(t),he(e,n)}}}function Hn(s){let e,t,r;return e=new Lr({props:{class:"w-4 h-4"}}),{c(){ve(e.$$.fragment),t=G(`\r
                Show Less`)},l(n){_e(e.$$.fragment,n),t=R(n,`\r
                Show Less`)},m(n,l){pe(e,n,l),re(n,t,l),r=!0},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){n&&h(t),he(e,n)}}}function Vl(s){let e,t="â€¢ AI suggestions are based on your audio's frequency profile";return{c(){e=m("li"),e.textContent=t},l(r){e=d(r,"LI",{"data-svelte-h":!0}),ce(e)!=="svelte-91mm9z"&&(e.textContent=t)},m(r,n){re(r,e,n)},d(r){r&&h(e)}}}function Tl(s){let e,t,r,n;return t=new Ut({props:{class:"w-4 h-4"}}),{c(){e=m("div"),ve(t.$$.fragment),r=G(`\r
      Species identification is required`),this.h()},l(l){e=d(l,"DIV",{class:!0});var a=y(e);_e(t.$$.fragment,a),r=R(a,`\r
      Species identification is required`),a.forEach(h),this.h()},h(){u(e,"class","validation-error mt-4 text-red-600 text-sm flex items-center gap-1")},m(l,a){re(l,e,a),pe(t,e,null),i(e,r),n=!0},i(l){n||($(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&h(e),he(t)}}}function Rn(s){let e,t,r,n,l,a=s[3]?"*":"",o,c,p,_,f,g,v,b,k,x,D,E,I,T,F,P,z,J,W,Z,le,M,U,j,se,ae='â€¢ Start typing the common name (e.g., "Robin", "Cardinal")',A,X,te="â€¢ Use scientific names for more precise matches",q,B,Y='â€¢ Family names work too (e.g., "Turdidae" for thrushes)',K,be,H,ie,Q;n=new Ut({props:{class:"w-5 h-5"}});let N=s[2]&&s[1]==="audio"&&bl(),S=s[0]&&yl(s);I=new Ut({props:{class:"w-4 h-4 text-gray-400"}});let L=s[4]&&$l(s),ne=s[7]&&(s[5].length>0||s[6])&&wl(s);le=new Gt({props:{class:"w-4 h-4"}});let me=s[1]==="audio"&&Vl(),ue=s[3]&&!s[0]&&Tl();return{c(){e=m("div"),t=m("div"),r=m("h3"),ve(n.$$.fragment),l=G(`\r
      Species Identification `),o=G(a),c=C(),p=m("p"),_=G("Search for species or let AI help identify from your "),f=G(s[1]),g=G(" observation"),v=C(),N&&N.c(),b=C(),S&&S.c(),k=C(),x=m("div"),D=m("div"),E=m("div"),ve(I.$$.fragment),T=C(),F=m("input"),P=C(),L&&L.c(),z=C(),ne&&ne.c(),J=C(),W=m("div"),Z=m("h4"),ve(le.$$.fragment),M=G(`\r
      Species Identification Tips`),U=C(),j=m("ul"),se=m("li"),se.textContent=ae,A=C(),X=m("li"),X.textContent=te,q=C(),B=m("li"),B.textContent=Y,K=C(),me&&me.c(),be=C(),ue&&ue.c(),this.h()},l(O){e=d(O,"DIV",{class:!0});var ee=y(e);t=d(ee,"DIV",{class:!0});var ye=y(t);r=d(ye,"H3",{class:!0});var fe=y(r);_e(n.$$.fragment,fe),l=R(fe,`\r
      Species Identification `),o=R(fe,a),fe.forEach(h),c=w(ye),p=d(ye,"P",{class:!0});var de=y(p);_=R(de,"Search for species or let AI help identify from your "),f=R(de,s[1]),g=R(de," observation"),de.forEach(h),ye.forEach(h),v=w(ee),N&&N.l(ee),b=w(ee),S&&S.l(ee),k=w(ee),x=d(ee,"DIV",{class:!0});var ke=y(x);D=d(ke,"DIV",{class:!0});var Ae=y(D);E=d(Ae,"DIV",{class:!0});var xe=y(E);_e(I.$$.fragment,xe),xe.forEach(h),T=w(Ae),F=d(Ae,"INPUT",{type:!0,placeholder:!0,class:!0}),P=w(Ae),L&&L.l(Ae),Ae.forEach(h),z=w(ke),ne&&ne.l(ke),ke.forEach(h),J=w(ee),W=d(ee,"DIV",{class:!0});var oe=y(W);Z=d(oe,"H4",{class:!0});var Ve=y(Z);_e(le.$$.fragment,Ve),M=R(Ve,`\r
      Species Identification Tips`),Ve.forEach(h),U=w(oe),j=d(oe,"UL",{class:!0});var Ee=y(j);se=d(Ee,"LI",{"data-svelte-h":!0}),ce(se)!=="svelte-ag7kkv"&&(se.textContent=ae),A=w(Ee),X=d(Ee,"LI",{"data-svelte-h":!0}),ce(X)!=="svelte-bq3bw"&&(X.textContent=te),q=w(Ee),B=d(Ee,"LI",{"data-svelte-h":!0}),ce(B)!=="svelte-1o2wcc3"&&(B.textContent=Y),K=w(Ee),me&&me.l(Ee),Ee.forEach(h),oe.forEach(h),be=w(ee),ue&&ue.l(ee),ee.forEach(h),this.h()},h(){u(r,"class","text-lg font-semibold text-primary-forest mb-2 flex items-center gap-2"),u(p,"class","text-sm text-gray-600"),u(t,"class","header mb-4"),u(E,"class","absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"),u(F,"type","text"),u(F,"placeholder","Search by common name, scientific name, or family..."),u(F,"class","block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-primary-forest focus:border-primary-forest"),u(D,"class","relative"),u(x,"class","search-input-container relative"),u(Z,"class","font-medium text-blue-800 mb-2 flex items-center gap-2"),u(j,"class","text-sm text-blue-700 space-y-1"),u(W,"class","help-text mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"),u(e,"class","species-selector svelte-va5lfc")},m(O,ee){re(O,e,ee),i(e,t),i(t,r),pe(n,r,null),i(r,l),i(r,o),i(t,c),i(t,p),i(p,_),i(p,f),i(p,g),i(e,v),N&&N.m(e,null),i(e,b),S&&S.m(e,null),i(e,k),i(e,x),i(x,D),i(D,E),pe(I,E,null),i(D,T),i(D,F),qe(F,s[4]),i(D,P),L&&L.m(D,null),i(x,z),ne&&ne.m(x,null),i(e,J),i(e,W),i(W,Z),pe(le,Z,null),i(Z,M),i(W,U),i(W,j),i(j,se),i(j,A),i(j,X),i(j,q),i(j,B),i(j,K),me&&me.m(j,null),i(e,be),ue&&ue.m(e,null),H=!0,ie||(Q=[$e(window,"click",s[13]),$e(F,"input",s[15]),$e(F,"input",s[10]),$e(F,"focus",s[16])],ie=!0)},p(O,[ee]){(!H||ee&8)&&a!==(a=O[3]?"*":"")&&ge(o,a),(!H||ee&2)&&ge(f,O[1]),O[2]&&O[1]==="audio"?N?ee&6&&$(N,1):(N=bl(),N.c(),$(N,1),N.m(e,b)):N&&(Ie(),V(N,1,1,()=>{N=null}),De()),O[0]?S?(S.p(O,ee),ee&1&&$(S,1)):(S=yl(O),S.c(),$(S,1),S.m(e,k)):S&&(Ie(),V(S,1,1,()=>{S=null}),De()),ee&16&&F.value!==O[4]&&qe(F,O[4]),O[4]?L?(L.p(O,ee),ee&16&&$(L,1)):(L=$l(O),L.c(),$(L,1),L.m(D,null)):L&&(Ie(),V(L,1,1,()=>{L=null}),De()),O[7]&&(O[5].length>0||O[6])?ne?(ne.p(O,ee),ee&224&&$(ne,1)):(ne=wl(O),ne.c(),$(ne,1),ne.m(x,null)):ne&&(Ie(),V(ne,1,1,()=>{ne=null}),De()),O[1]==="audio"?me||(me=Vl(),me.c(),me.m(j,null)):me&&(me.d(1),me=null),O[3]&&!O[0]?ue?ee&9&&$(ue,1):(ue=Tl(),ue.c(),$(ue,1),ue.m(e,null)):ue&&(Ie(),V(ue,1,1,()=>{ue=null}),De())},i(O){H||($(n.$$.fragment,O),$(N),$(S),$(I.$$.fragment,O),$(L),$(ne),$(le.$$.fragment,O),$(ue),H=!0)},o(O){V(n.$$.fragment,O),V(N),V(S),V(I.$$.fragment,O),V(L),V(ne),V(le.$$.fragment,O),V(ue),H=!1},d(O){O&&h(e),he(n),N&&N.d(),S&&S.d(),he(I),L&&L.d(),ne&&ne.d(),he(le),me&&me.d(),ue&&ue.d(),ie=!1,bt(Q)}}}function Bt(s){var t;switch((t=s.taxonomy.class)==null?void 0:t.toLowerCase()){case"aves":return"ðŸ¦";case"mammalia":return"ðŸ¾";case"amphibia":return"ðŸ¸";case"reptilia":return"ðŸ¦Ž";case"insecta":return"ðŸ¦‹";case"arachnida":return"ðŸ•·ï¸";case"actinopterygii":return"ðŸŸ";default:return"ðŸ”"}}function Ht(s){return`${(s[0]/1e3).toFixed(1)}-${(s[1]/1e3).toFixed(1)} kHz`}function Nl(s){if(!s)return"text-gray-500";const e=s.toLowerCase();return e.includes("extinct")?"text-red-800":e.includes("endangered")?"text-red-600":e.includes("vulnerable")?"text-orange-600":e.includes("threatened")?"text-yellow-600":e.includes("concern")?"text-green-600":"text-gray-600"}function Gn(s,e,t){let{selectedSpecies:r=null}=e,{location:n=null}=e,{observationType:l="visual"}=e,{audioFeatures:a=void 0}=e,{required:o=!0}=e,c="",p=[],_=!1,f=!1,g=!1,v;const b=Vt(),k=[{id:"turdus-migratorius",common_name:"American Robin",scientific_name:"Turdus migratorius",taxonomy:{kingdom:"Animalia",phylum:"Chordata",class:"Aves",order:"Passeriformes",family:"Turdidae",genus:"Turdus",species:"migratorius"},conservation_status:"Least Concern",habitat_types:["urban","suburban","woodland","parks"],audio_characteristics:{frequency_range:[2e3,4e3],call_patterns:["melodic song","alarm call"],seasonal_activity:["spring","summer","fall"]},description:"A large songbird with a round body, long legs, and fairly long tail.",image_url:"https://example.com/robin.jpg"},{id:"agalychnis-callidryas",common_name:"Red-eyed Tree Frog",scientific_name:"Agalychnis callidryas",taxonomy:{kingdom:"Animalia",phylum:"Chordata",class:"Amphibia",order:"Anura",family:"Phyllomedusidae",genus:"Agalychnis",species:"callidryas"},conservation_status:"Least Concern",habitat_types:["rainforest","tropical","trees"],audio_characteristics:{frequency_range:[1500,3e3],call_patterns:["chirp","trill"],seasonal_activity:["wet season"]},description:"A vibrant green tree frog with distinctive red eyes.",image_url:"https://example.com/tree-frog.jpg"},{id:"cardinalis-cardinalis",common_name:"Northern Cardinal",scientific_name:"Cardinalis cardinalis",taxonomy:{kingdom:"Animalia",phylum:"Chordata",class:"Aves",order:"Passeriformes",family:"Cardinalidae",genus:"Cardinalis",species:"cardinalis"},conservation_status:"Least Concern",habitat_types:["woodland","gardens","shrubland","swamps"],audio_characteristics:{frequency_range:[2500,5e3],call_patterns:["whistle","chip call"],seasonal_activity:["year-round"]},description:"A mid-sized songbird with a body length of 21â€“23 cm.",image_url:"https://example.com/cardinal.jpg"}];function x(){let M=[...k];return n!=null&&n.habitat&&(M=M.filter(U=>U.habitat_types.some(j=>{var se;return j.toLowerCase().includes(((se=n.habitat)==null?void 0:se.toLowerCase())||"")}))),l==="audio"&&(M=M.filter(U=>U.audio_characteristics)),M}function D(){if(!a||l!=="audio")return x();let M=x();if(a.length>0){const U=a.reduce((j,se)=>j+se,0)/a.length;M=M.filter(j=>j.audio_characteristics),M.sort((j,se)=>{if(!j.audio_characteristics||!se.audio_characteristics)return 0;const ae=j.audio_characteristics.frequency_range?Math.abs(U-(j.audio_characteristics.frequency_range[0]+j.audio_characteristics.frequency_range[1])/2):1/0,A=se.audio_characteristics.frequency_range?Math.abs(U-(se.audio_characteristics.frequency_range[0]+se.audio_characteristics.frequency_range[1])/2):1/0;return ae-A})}return M.slice(0,10)}function E(){if(!c.trim()){t(5,p=x().slice(0,10));return}t(6,_=!0),setTimeout(()=>{const M=c.toLowerCase();let U=x().filter(j=>j.common_name.toLowerCase().includes(M)||j.scientific_name.toLowerCase().includes(M)||j.taxonomy.family.toLowerCase().includes(M));U.length===0&&c.trim()&&(U=x()),t(5,p=U.slice(0,20)),t(6,_=!1),t(7,f=!0)},300)}function I(){v&&clearTimeout(v),v=setTimeout(E,500)}function T(M){t(0,r=M),t(4,c=M.common_name),t(7,f=!1),b("speciesSelected",M)}function F(){t(0,r=null),t(4,c=""),t(5,p=[]),t(7,f=!1),b("speciesCleared")}function P(M){M.target.closest(".species-selector")||t(7,f=!1)}function z(){c=this.value,t(4,c)}const J=()=>{t(7,f=!0),c||E()},W=()=>{t(4,c=""),t(5,p=[])},Z=M=>T(M),le=()=>t(8,g=!g);return s.$$set=M=>{"selectedSpecies"in M&&t(0,r=M.selectedSpecies),"location"in M&&t(14,n=M.location),"observationType"in M&&t(1,l=M.observationType),"audioFeatures"in M&&t(2,a=M.audioFeatures),"required"in M&&t(3,o=M.required)},s.$$.update=()=>{s.$$.dirty&6&&a&&l==="audio"&&(t(5,p=D()),t(7,f=!0))},[r,l,a,o,c,p,_,f,g,E,I,T,F,P,n,z,J,W,Z,le]}class Wn extends Ke{constructor(e){super(),Qe(this,e,Gn,Rn,Ze,{selectedSpecies:0,location:14,observationType:1,audioFeatures:2,required:3})}}function Sl(s,e,t){const r=s.slice();return r[55]=e[t],r}function Pl(s,e,t){const r=s.slice();return r[58]=e[t],r}function Ll(s,e,t){const r=s.slice();return r[58]=e[t],r[62]=t,r}function Al(s,e,t){const r=s.slice();return r[63]=e[t],r[65]=t,r}function Jn(s){let e=s[65]+1+"",t;return{c(){t=G(e)},l(r){t=R(r,e)},m(r,n){re(r,t,n)},i:Oe,o:Oe,d(r){r&&h(t)}}}function Xn(s){let e,t;return e=new Nt({props:{class:"w-4 h-4"}}),{c(){ve(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,n){pe(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Fl(s){let e,t,r,n,l,a,o,c;const p=[Xn,Jn],_=[];function f(v,b){return v[0]>v[65]+1?0:1}t=f(s),r=_[t]=p[t](s);function g(){return s[35](s[65])}return{c(){e=m("button"),r.c(),n=C(),this.h()},l(v){e=d(v,"BUTTON",{type:!0,class:!0});var b=y(e);r.l(b),n=w(b),b.forEach(h),this.h()},h(){u(e,"type","button"),u(e,"class",l="step-indicator-btn flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 bg-white border-2 "+(s[0]===s[65]+1?"border-primary-forest bg-primary-forest text-white shadow-nature":s[0]>s[65]+1?"border-success bg-success text-white":"border-neutral-300 text-neutral-400 hover:border-primary-forest hover:text-primary-forest"))},m(v,b){re(v,e,b),_[t].m(e,null),i(e,n),a=!0,o||(c=$e(e,"click",g),o=!0)},p(v,b){s=v;let k=t;t=f(s),t!==k&&(Ie(),V(_[k],1,1,()=>{_[k]=null}),De(),r=_[t],r||(r=_[t]=p[t](s),r.c()),$(r,1),r.m(e,n)),(!a||b[0]&1&&l!==(l="step-indicator-btn flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 bg-white border-2 "+(s[0]===s[65]+1?"border-primary-forest bg-primary-forest text-white shadow-nature":s[0]>s[65]+1?"border-success bg-success text-white":"border-neutral-300 text-neutral-400 hover:border-primary-forest hover:text-primary-forest")))&&u(e,"class",l)},i(v){a||($(r),a=!0)},o(v){V(r),a=!1},d(v){v&&h(e),_[t].d(),o=!1,c()}}}function Ml(s){let e,t,r="What type of observation are you making?",n,l,a,o,c,p,_,f,g,v="ðŸ“· Visual",b,k,x="Photograph-based observations using images",D,E,I,T,F,P,z,J,W,Z="ðŸŽµ Audio",le,M,U="Sound-based observations using audio recordings",j,se,ae,A,X,te,q,B,Y,K,be,H,ie="ðŸŽ¬ Multi-modal",Q,N,S="Combine both visual and audio elements",L,ne,me,ue,O,ee,ye;_=new xt({props:{class:"w-12 h-12 mx-auto mb-3 text-primary-forest"}}),z=new Dt({props:{class:"w-12 h-12 mx-auto mb-3 text-primary-forest"}}),B=new xt({props:{class:"w-8 h-8 text-primary-forest"}}),K=new Dt({props:{class:"w-8 h-8 text-primary-forest ml-1"}});let fe=s[15].observationType&&ql(s);return O=_r(s[37][0]),{c(){e=m("div"),t=m("h3"),t.textContent=r,n=C(),l=m("div"),a=m("label"),o=m("input"),c=C(),p=m("div"),ve(_.$$.fragment),f=C(),g=m("h4"),g.textContent=v,b=C(),k=m("p"),k.textContent=x,E=C(),I=m("label"),T=m("input"),F=C(),P=m("div"),ve(z.$$.fragment),J=C(),W=m("h4"),W.textContent=Z,le=C(),M=m("p"),M.textContent=U,se=C(),ae=m("label"),A=m("input"),X=C(),te=m("div"),q=m("div"),ve(B.$$.fragment),Y=C(),ve(K.$$.fragment),be=C(),H=m("h4"),H.textContent=ie,Q=C(),N=m("p"),N.textContent=S,ne=C(),fe&&fe.c(),this.h()},l(de){e=d(de,"DIV",{});var ke=y(e);t=d(ke,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-117mufy"&&(t.textContent=r),n=w(ke),l=d(ke,"DIV",{class:!0});var Ae=y(l);a=d(Ae,"LABEL",{class:!0});var xe=y(a);o=d(xe,"INPUT",{type:!0,class:!0}),c=w(xe),p=d(xe,"DIV",{class:!0});var oe=y(p);_e(_.$$.fragment,oe),f=w(oe),g=d(oe,"H4",{class:!0,"data-svelte-h":!0}),ce(g)!=="svelte-favl2a"&&(g.textContent=v),b=w(oe),k=d(oe,"P",{class:!0,"data-svelte-h":!0}),ce(k)!=="svelte-xnh7sl"&&(k.textContent=x),oe.forEach(h),xe.forEach(h),E=w(Ae),I=d(Ae,"LABEL",{class:!0});var Ve=y(I);T=d(Ve,"INPUT",{type:!0,class:!0}),F=w(Ve),P=d(Ve,"DIV",{class:!0});var Ee=y(P);_e(z.$$.fragment,Ee),J=w(Ee),W=d(Ee,"H4",{class:!0,"data-svelte-h":!0}),ce(W)!=="svelte-198d8l9"&&(W.textContent=Z),le=w(Ee),M=d(Ee,"P",{class:!0,"data-svelte-h":!0}),ce(M)!=="svelte-1g62yfs"&&(M.textContent=U),Ee.forEach(h),Ve.forEach(h),se=w(Ae),ae=d(Ae,"LABEL",{class:!0});var He=y(ae);A=d(He,"INPUT",{type:!0,class:!0}),X=w(He),te=d(He,"DIV",{class:!0});var Je=y(te);q=d(Je,"DIV",{class:!0});var we=y(q);_e(B.$$.fragment,we),Y=w(we),_e(K.$$.fragment,we),we.forEach(h),be=w(Je),H=d(Je,"H4",{class:!0,"data-svelte-h":!0}),ce(H)!=="svelte-1r7xl5h"&&(H.textContent=ie),Q=w(Je),N=d(Je,"P",{class:!0,"data-svelte-h":!0}),ce(N)!=="svelte-tj4uvm"&&(N.textContent=S),Je.forEach(h),He.forEach(h),Ae.forEach(h),ne=w(ke),fe&&fe.l(ke),ke.forEach(h),this.h()},h(){u(t,"class","text-xl font-semibold text-primary-forest mb-6"),u(o,"type","radio"),o.__value="visual",qe(o,o.__value),u(o,"class","sr-only"),u(g,"class","font-semibold text-primary-forest mb-2"),u(k,"class","text-sm text-neutral-stone-gray"),u(p,"class",D="card p-6 text-center border-2 transition-all duration-200 hover:-translate-y-1 hover:shadow-nature-lg "+(s[1]==="visual"?"border-primary-forest bg-primary-forest/5":"border-neutral-200 hover:border-primary-forest/50")),u(a,"class","block cursor-pointer"),u(T,"type","radio"),T.__value="audio",qe(T,T.__value),u(T,"class","sr-only"),u(W,"class","font-semibold text-primary-forest mb-2"),u(M,"class","text-sm text-neutral-stone-gray"),u(P,"class",j="card p-6 text-center border-2 transition-all duration-200 hover:-translate-y-1 hover:shadow-nature-lg "+(s[1]==="audio"?"border-primary-forest bg-primary-forest/5":"border-neutral-200 hover:border-primary-forest/50")),u(I,"class","block cursor-pointer"),u(A,"type","radio"),A.__value="multi-modal",qe(A,A.__value),u(A,"class","sr-only"),u(q,"class","flex justify-center mb-3"),u(H,"class","font-semibold text-primary-forest mb-2"),u(N,"class","text-sm text-neutral-stone-gray"),u(te,"class",L="card p-6 text-center border-2 transition-all duration-200 hover:-translate-y-1 hover:shadow-nature-lg "+(s[1]==="multi-modal"?"border-primary-forest bg-primary-forest/5":"border-neutral-200 hover:border-primary-forest/50")),u(ae,"class","block cursor-pointer"),u(l,"class","grid grid-cols-1 md:grid-cols-3 gap-6"),O.p(o,T,A)},m(de,ke){re(de,e,ke),i(e,t),i(e,n),i(e,l),i(l,a),i(a,o),o.checked=o.__value===s[1],i(a,c),i(a,p),pe(_,p,null),i(p,f),i(p,g),i(p,b),i(p,k),i(l,E),i(l,I),i(I,T),T.checked=T.__value===s[1],i(I,F),i(I,P),pe(z,P,null),i(P,J),i(P,W),i(P,le),i(P,M),i(l,se),i(l,ae),i(ae,A),A.checked=A.__value===s[1],i(ae,X),i(ae,te),i(te,q),pe(B,q,null),i(q,Y),pe(K,q,null),i(te,be),i(te,H),i(te,Q),i(te,N),i(e,ne),fe&&fe.m(e,null),ue=!0,ee||(ye=[$e(o,"change",s[36]),$e(T,"change",s[38]),$e(A,"change",s[39])],ee=!0)},p(de,ke){ke[0]&2&&(o.checked=o.__value===de[1]),(!ue||ke[0]&2&&D!==(D="card p-6 text-center border-2 transition-all duration-200 hover:-translate-y-1 hover:shadow-nature-lg "+(de[1]==="visual"?"border-primary-forest bg-primary-forest/5":"border-neutral-200 hover:border-primary-forest/50")))&&u(p,"class",D),ke[0]&2&&(T.checked=T.__value===de[1]),(!ue||ke[0]&2&&j!==(j="card p-6 text-center border-2 transition-all duration-200 hover:-translate-y-1 hover:shadow-nature-lg "+(de[1]==="audio"?"border-primary-forest bg-primary-forest/5":"border-neutral-200 hover:border-primary-forest/50")))&&u(P,"class",j),ke[0]&2&&(A.checked=A.__value===de[1]),(!ue||ke[0]&2&&L!==(L="card p-6 text-center border-2 transition-all duration-200 hover:-translate-y-1 hover:shadow-nature-lg "+(de[1]==="multi-modal"?"border-primary-forest bg-primary-forest/5":"border-neutral-200 hover:border-primary-forest/50")))&&u(te,"class",L),de[15].observationType?fe?(fe.p(de,ke),ke[0]&32768&&$(fe,1)):(fe=ql(de),fe.c(),$(fe,1),fe.m(e,null)):fe&&(Ie(),V(fe,1,1,()=>{fe=null}),De())},i(de){ue||($(_.$$.fragment,de),$(z.$$.fragment,de),$(B.$$.fragment,de),$(K.$$.fragment,de),$(fe),de&&(me||It(()=>{me=Tt(e,Pt,{duration:300}),me.start()})),ue=!0)},o(de){V(_.$$.fragment,de),V(z.$$.fragment,de),V(B.$$.fragment,de),V(K.$$.fragment,de),V(fe),ue=!1},d(de){de&&h(e),he(_),he(z),he(B),he(K),fe&&fe.d(),O.r(),ee=!1,bt(ye)}}}function ql(s){let e,t,r,n=s[15].observationType+"",l,a;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("p"),ve(t.$$.fragment),r=C(),l=G(n),this.h()},l(o){e=d(o,"P",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=w(c),l=R(c,n),c.forEach(h),this.h()},h(){u(e,"class","form-error mt-4 flex items-center gap-2")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),i(e,l),a=!0},p(o,c){(!a||c[0]&32768)&&n!==(n=o[15].observationType+"")&&ge(l,n)},i(o){a||($(t.$$.fragment,o),a=!0)},o(o){V(t.$$.fragment,o),a=!1},d(o){o&&h(e),he(t)}}}function Ol(s){let e,t,r="Capture Your Observation",n,l,a,o,c,p,_=(s[1]==="visual"||s[1]==="multi-modal")&&jl(s),f=(s[1]==="audio"||s[1]==="multi-modal")&&zl(s),g=s[15].media&&Hl(s);return{c(){e=m("div"),t=m("h3"),t.textContent=r,n=C(),l=m("div"),_&&_.c(),a=C(),f&&f.c(),o=C(),g&&g.c(),this.h()},l(v){e=d(v,"DIV",{});var b=y(e);t=d(b,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-14pzlwt"&&(t.textContent=r),n=w(b),l=d(b,"DIV",{class:!0});var k=y(l);_&&_.l(k),a=w(k),f&&f.l(k),o=w(k),g&&g.l(k),k.forEach(h),b.forEach(h),this.h()},h(){u(t,"class","text-xl font-semibold text-primary-forest mb-6"),u(l,"class","space-y-8")},m(v,b){re(v,e,b),i(e,t),i(e,n),i(e,l),_&&_.m(l,null),i(l,a),f&&f.m(l,null),i(l,o),g&&g.m(l,null),p=!0},p(v,b){v[1]==="visual"||v[1]==="multi-modal"?_?(_.p(v,b),b[0]&2&&$(_,1)):(_=jl(v),_.c(),$(_,1),_.m(l,a)):_&&(Ie(),V(_,1,1,()=>{_=null}),De()),v[1]==="audio"||v[1]==="multi-modal"?f?(f.p(v,b),b[0]&2&&$(f,1)):(f=zl(v),f.c(),$(f,1),f.m(l,o)):f&&(Ie(),V(f,1,1,()=>{f=null}),De()),v[15].media?g?(g.p(v,b),b[0]&32768&&$(g,1)):(g=Hl(v),g.c(),$(g,1),g.m(l,null)):g&&(Ie(),V(g,1,1,()=>{g=null}),De())},i(v){p||($(_),$(f),$(g),v&&(c||It(()=>{c=Tt(e,Pt,{duration:300}),c.start()})),p=!0)},o(v){V(_),V(f),V(g),p=!1},d(v){v&&h(e),_&&_.d(),f&&f.d(),g&&g.d()}}}function jl(s){let e,t,r="Images",n,l,a,o,c;function p(g){s[40](g)}let _={maxFiles:5,required:s[1]==="visual",label:"Images"};s[3]!==void 0&&(_.files=s[3]),l=new Ln({props:_}),$t.push(()=>Ot(l,"files",p)),l.$on("filesSelected",s[23]),l.$on("fileRemoved",s[25]),l.$on("error",s[24]);let f=s[15].images&&Ul(s);return{c(){e=m("div"),t=m("h4"),t.textContent=r,n=C(),ve(l.$$.fragment),o=C(),f&&f.c(),this.h()},l(g){e=d(g,"DIV",{class:!0});var v=y(e);t=d(v,"H4",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-by5blm"&&(t.textContent=r),n=w(v),_e(l.$$.fragment,v),o=w(v),f&&f.l(v),v.forEach(h),this.h()},h(){u(t,"class","font-semibold text-primary-forest mb-4"),u(e,"class","card card-body")},m(g,v){re(g,e,v),i(e,t),i(e,n),pe(l,e,null),i(e,o),f&&f.m(e,null),c=!0},p(g,v){const b={};v[0]&2&&(b.required=g[1]==="visual"),!a&&v[0]&8&&(a=!0,b.files=g[3],jt(()=>a=!1)),l.$set(b),g[15].images?f?(f.p(g,v),v[0]&32768&&$(f,1)):(f=Ul(g),f.c(),$(f,1),f.m(e,null)):f&&(Ie(),V(f,1,1,()=>{f=null}),De())},i(g){c||($(l.$$.fragment,g),$(f),c=!0)},o(g){V(l.$$.fragment,g),V(f),c=!1},d(g){g&&h(e),he(l),f&&f.d()}}}function Ul(s){let e,t,r,n=s[15].images+"",l,a;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("p"),ve(t.$$.fragment),r=C(),l=G(n),this.h()},l(o){e=d(o,"P",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=w(c),l=R(c,n),c.forEach(h),this.h()},h(){u(e,"class","form-error mt-2 flex items-center gap-2")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),i(e,l),a=!0},p(o,c){(!a||c[0]&32768)&&n!==(n=o[15].images+"")&&ge(l,n)},i(o){a||($(t.$$.fragment,o),a=!0)},o(o){V(t.$$.fragment,o),a=!1},d(o){o&&h(e),he(t)}}}function zl(s){let e,t,r="Audio Recording",n,l,a,o,c;function p(g){s[41](g)}let _={maxDuration:300,required:s[1]==="audio"};s[4]!==void 0&&(_.recording=s[4]),l=new $n({props:_}),$t.push(()=>Ot(l,"recording",p)),l.$on("recordingStopped",s[26]),l.$on("recordingCleared",s[27]);let f=s[15].audio&&Bl(s);return{c(){e=m("div"),t=m("h4"),t.textContent=r,n=C(),ve(l.$$.fragment),o=C(),f&&f.c(),this.h()},l(g){e=d(g,"DIV",{class:!0});var v=y(e);t=d(v,"H4",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1dvdkn9"&&(t.textContent=r),n=w(v),_e(l.$$.fragment,v),o=w(v),f&&f.l(v),v.forEach(h),this.h()},h(){u(t,"class","font-semibold text-primary-forest mb-4"),u(e,"class","card card-body")},m(g,v){re(g,e,v),i(e,t),i(e,n),pe(l,e,null),i(e,o),f&&f.m(e,null),c=!0},p(g,v){const b={};v[0]&2&&(b.required=g[1]==="audio"),!a&&v[0]&16&&(a=!0,b.recording=g[4],jt(()=>a=!1)),l.$set(b),g[15].audio?f?(f.p(g,v),v[0]&32768&&$(f,1)):(f=Bl(g),f.c(),$(f,1),f.m(e,null)):f&&(Ie(),V(f,1,1,()=>{f=null}),De())},i(g){c||($(l.$$.fragment,g),$(f),c=!0)},o(g){V(l.$$.fragment,g),V(f),c=!1},d(g){g&&h(e),he(l),f&&f.d()}}}function Bl(s){let e,t,r,n=s[15].audio+"",l,a;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("p"),ve(t.$$.fragment),r=C(),l=G(n),this.h()},l(o){e=d(o,"P",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=w(c),l=R(c,n),c.forEach(h),this.h()},h(){u(e,"class","form-error mt-2 flex items-center gap-2")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),i(e,l),a=!0},p(o,c){(!a||c[0]&32768)&&n!==(n=o[15].audio+"")&&ge(l,n)},i(o){a||($(t.$$.fragment,o),a=!0)},o(o){V(t.$$.fragment,o),a=!1},d(o){o&&h(e),he(t)}}}function Hl(s){let e,t,r,n=s[15].media+"",l,a;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("p"),ve(t.$$.fragment),r=C(),l=G(n),this.h()},l(o){e=d(o,"P",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=w(c),l=R(c,n),c.forEach(h),this.h()},h(){u(e,"class","form-error flex items-center gap-2")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),i(e,l),a=!0},p(o,c){(!a||c[0]&32768)&&n!==(n=o[15].media+"")&&ge(l,n)},i(o){a||($(t.$$.fragment,o),a=!0)},o(o){V(t.$$.fragment,o),a=!1},d(o){o&&h(e),he(t)}}}function Rl(s){var Z,le,M;let e,t,r,n,l="Location",a,o,c,p,_,f,g,v="Species Identification",b,k,x,D,E,I;function T(U){s[42](U)}let F={required:!0};s[2]!==void 0&&(F.location=s[2]),o=new On({props:F}),$t.push(()=>Ot(o,"location",T)),o.$on("locationSelected",s[28]),o.$on("locationCleared",s[29]);let P=s[15].location&&Gl(s);function z(U){s[43](U)}let J={location:s[2],observationType:s[1],audioFeatures:(M=(le=(Z=s[4])==null?void 0:Z.spectrogram_data)==null?void 0:le.frequency_data)==null?void 0:M[0]};s[5]!==void 0&&(J.selectedSpecies=s[5]),k=new Wn({props:J}),$t.push(()=>Ot(k,"selectedSpecies",z)),k.$on("speciesSelected",s[30]),k.$on("speciesCleared",s[31]);let W=s[15].species&&Wl(s);return{c(){e=m("div"),t=m("div"),r=m("div"),n=m("h4"),n.textContent=l,a=C(),ve(o.$$.fragment),p=C(),P&&P.c(),_=C(),f=m("div"),g=m("h4"),g.textContent=v,b=C(),ve(k.$$.fragment),D=C(),W&&W.c(),this.h()},l(U){e=d(U,"DIV",{});var j=y(e);t=d(j,"DIV",{class:!0});var se=y(t);r=d(se,"DIV",{class:!0});var ae=y(r);n=d(ae,"H4",{class:!0,"data-svelte-h":!0}),ce(n)!=="svelte-5c7vxd"&&(n.textContent=l),a=w(ae),_e(o.$$.fragment,ae),p=w(ae),P&&P.l(ae),ae.forEach(h),_=w(se),f=d(se,"DIV",{class:!0});var A=y(f);g=d(A,"H4",{class:!0,"data-svelte-h":!0}),ce(g)!=="svelte-1a7eps4"&&(g.textContent=v),b=w(A),_e(k.$$.fragment,A),D=w(A),W&&W.l(A),A.forEach(h),se.forEach(h),j.forEach(h),this.h()},h(){u(n,"class","font-semibold text-primary-forest mb-4"),u(r,"class","card card-body"),u(g,"class","font-semibold text-primary-forest mb-4"),u(f,"class","card card-body"),u(t,"class","grid grid-cols-1 lg:grid-cols-2 gap-8")},m(U,j){re(U,e,j),i(e,t),i(t,r),i(r,n),i(r,a),pe(o,r,null),i(r,p),P&&P.m(r,null),i(t,_),i(t,f),i(f,g),i(f,b),pe(k,f,null),i(f,D),W&&W.m(f,null),I=!0},p(U,j){var A,X,te;const se={};!c&&j[0]&4&&(c=!0,se.location=U[2],jt(()=>c=!1)),o.$set(se),U[15].location?P?(P.p(U,j),j[0]&32768&&$(P,1)):(P=Gl(U),P.c(),$(P,1),P.m(r,null)):P&&(Ie(),V(P,1,1,()=>{P=null}),De());const ae={};j[0]&4&&(ae.location=U[2]),j[0]&2&&(ae.observationType=U[1]),j[0]&16&&(ae.audioFeatures=(te=(X=(A=U[4])==null?void 0:A.spectrogram_data)==null?void 0:X.frequency_data)==null?void 0:te[0]),!x&&j[0]&32&&(x=!0,ae.selectedSpecies=U[5],jt(()=>x=!1)),k.$set(ae),U[15].species?W?(W.p(U,j),j[0]&32768&&$(W,1)):(W=Wl(U),W.c(),$(W,1),W.m(f,null)):W&&(Ie(),V(W,1,1,()=>{W=null}),De())},i(U){I||($(o.$$.fragment,U),$(P),$(k.$$.fragment,U),$(W),U&&(E||It(()=>{E=Tt(e,Pt,{duration:300}),E.start()})),I=!0)},o(U){V(o.$$.fragment,U),V(P),V(k.$$.fragment,U),V(W),I=!1},d(U){U&&h(e),he(o),P&&P.d(),he(k),W&&W.d()}}}function Gl(s){let e,t,r,n=s[15].location+"",l,a;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("p"),ve(t.$$.fragment),r=C(),l=G(n),this.h()},l(o){e=d(o,"P",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=w(c),l=R(c,n),c.forEach(h),this.h()},h(){u(e,"class","form-error mt-2 flex items-center gap-2")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),i(e,l),a=!0},p(o,c){(!a||c[0]&32768)&&n!==(n=o[15].location+"")&&ge(l,n)},i(o){a||($(t.$$.fragment,o),a=!0)},o(o){V(t.$$.fragment,o),a=!1},d(o){o&&h(e),he(t)}}}function Wl(s){let e,t,r,n=s[15].species+"",l,a;return t=new mt({props:{class:"w-4 h-4"}}),{c(){e=m("p"),ve(t.$$.fragment),r=C(),l=G(n),this.h()},l(o){e=d(o,"P",{class:!0});var c=y(e);_e(t.$$.fragment,c),r=w(c),l=R(c,n),c.forEach(h),this.h()},h(){u(e,"class","form-error mt-2 flex items-center gap-2")},m(o,c){re(o,e,c),pe(t,e,null),i(e,r),i(e,l),a=!0},p(o,c){(!a||c[0]&32768)&&n!==(n=o[15].species+"")&&ge(l,n)},i(o){a||($(t.$$.fragment,o),a=!0)},o(o){V(t.$$.fragment,o),a=!1},d(o){o&&h(e),he(t)}}}function Jl(s){let e,t,r="Additional Details",n,l,a,o,c,p="Number of Individuals",_,f,g,v,b,k="Identification Confidence",x,D,E,I="1 - Very Uncertain",T,F="2 - Somewhat Uncertain",P,z="3 - Moderately Confident",J,W="4 - Very Confident",Z,le="5 - Absolutely Certain",M,U,j,se="Description",ae,A,X,te,q,B,Y="Weather Conditions",K,be,H,ie,Q,N="Habitat Description",S,L,ne,me,ue,O="Behavior Notes",ee,ye,fe,de,ke,Ae="Tags",xe,oe,Ve,Ee,He,Je,we,Me="Additional Notes",Fe,Se,ze,Re,je,nt=rt(s[14]),Ge=[];for(let Te=0;Te<nt.length;Te+=1)Ge[Te]=Xl(Ll(s,nt,Te));return{c(){e=m("div"),t=m("h3"),t.textContent=r,n=C(),l=m("div"),a=m("div"),o=m("div"),c=m("label"),c.textContent=p,_=C(),f=m("input"),g=C(),v=m("div"),b=m("label"),b.textContent=k,x=C(),D=m("select"),E=m("option"),E.textContent=I,T=m("option"),T.textContent=F,P=m("option"),P.textContent=z,J=m("option"),J.textContent=W,Z=m("option"),Z.textContent=le,M=C(),U=m("div"),j=m("label"),j.textContent=se,ae=C(),A=m("textarea"),X=C(),te=m("div"),q=m("div"),B=m("label"),B.textContent=Y,K=C(),be=m("input"),H=C(),ie=m("div"),Q=m("label"),Q.textContent=N,S=C(),L=m("input"),ne=C(),me=m("div"),ue=m("label"),ue.textContent=O,ee=C(),ye=m("textarea"),fe=C(),de=m("div"),ke=m("label"),ke.textContent=Ae,xe=C(),oe=m("div");for(let Te=0;Te<Ge.length;Te+=1)Ge[Te].c();Ve=C(),Ee=m("input"),He=C(),Je=m("div"),we=m("label"),we.textContent=Me,Fe=C(),Se=m("textarea"),this.h()},l(Te){e=d(Te,"DIV",{});var Be=y(e);t=d(Be,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1xa0gup"&&(t.textContent=r),n=w(Be),l=d(Be,"DIV",{class:!0});var Pe=y(l);a=d(Pe,"DIV",{class:!0});var Ce=y(a);o=d(Ce,"DIV",{});var Le=y(o);c=d(Le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(c)!=="svelte-19jkkrd"&&(c.textContent=p),_=w(Le),f=d(Le,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Le.forEach(h),g=w(Ce),v=d(Ce,"DIV",{});var We=y(v);b=d(We,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(b)!=="svelte-1b90lz0"&&(b.textContent=k),x=w(We),D=d(We,"SELECT",{id:!0,class:!0});var et=y(D);E=d(et,"OPTION",{"data-svelte-h":!0}),ce(E)!=="svelte-664rf2"&&(E.textContent=I),T=d(et,"OPTION",{"data-svelte-h":!0}),ce(T)!=="svelte-1fvxsgy"&&(T.textContent=F),P=d(et,"OPTION",{"data-svelte-h":!0}),ce(P)!=="svelte-13w5yef"&&(P.textContent=z),J=d(et,"OPTION",{"data-svelte-h":!0}),ce(J)!=="svelte-1hz08an"&&(J.textContent=W),Z=d(et,"OPTION",{"data-svelte-h":!0}),ce(Z)!=="svelte-n8j0c1"&&(Z.textContent=le),et.forEach(h),We.forEach(h),Ce.forEach(h),M=w(Pe),U=d(Pe,"DIV",{});var tt=y(U);j=d(tt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(j)!=="svelte-1b3mfuu"&&(j.textContent=se),ae=w(tt),A=d(tt,"TEXTAREA",{id:!0,rows:!0,placeholder:!0,class:!0}),y(A).forEach(h),tt.forEach(h),X=w(Pe),te=d(Pe,"DIV",{class:!0});var Xe=y(te);q=d(Xe,"DIV",{});var Ye=y(q);B=d(Ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(B)!=="svelte-uwl78"&&(B.textContent=Y),K=w(Ye),be=d(Ye,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Ye.forEach(h),H=w(Xe),ie=d(Xe,"DIV",{});var ht=y(ie);Q=d(ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(Q)!=="svelte-ktwshw"&&(Q.textContent=N),S=w(ht),L=d(ht,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ht.forEach(h),Xe.forEach(h),ne=w(Pe),me=d(Pe,"DIV",{});var dt=y(me);ue=d(dt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(ue)!=="svelte-jimsjh"&&(ue.textContent=O),ee=w(dt),ye=d(dt,"TEXTAREA",{id:!0,rows:!0,placeholder:!0,class:!0}),y(ye).forEach(h),dt.forEach(h),fe=w(Pe),de=d(Pe,"DIV",{});var pt=y(de);ke=d(pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(ke)!=="svelte-1jeyw14"&&(ke.textContent=Ae),xe=w(pt),oe=d(pt,"DIV",{class:!0});var _t=y(oe);for(let vt=0;vt<Ge.length;vt+=1)Ge[vt].l(_t);_t.forEach(h),Ve=w(pt),Ee=d(pt,"INPUT",{type:!0,placeholder:!0,class:!0}),pt.forEach(h),He=w(Pe),Je=d(Pe,"DIV",{});var kt=y(Je);we=d(kt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(we)!=="svelte-gilzsh"&&(we.textContent=Me),Fe=w(kt),Se=d(kt,"TEXTAREA",{id:!0,rows:!0,placeholder:!0,class:!0}),y(Se).forEach(h),kt.forEach(h),Pe.forEach(h),Be.forEach(h),this.h()},h(){u(t,"class","text-xl font-semibold text-primary-forest mb-6"),u(c,"for","count"),u(c,"class","form-label"),u(f,"id","count"),u(f,"type","number"),u(f,"min","1"),u(f,"max","1000"),u(f,"class","form-input"),u(b,"for","confidence"),u(b,"class","form-label"),E.__value=1,qe(E,E.__value),T.__value=2,qe(T,T.__value),P.__value=3,qe(P,P.__value),J.__value=4,qe(J,J.__value),Z.__value=5,qe(Z,Z.__value),u(D,"id","confidence"),u(D,"class","form-input"),s[10]===void 0&&It(()=>s[45].call(D)),u(a,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),u(j,"for","description"),u(j,"class","form-label"),u(A,"id","description"),u(A,"rows","3"),u(A,"placeholder","Describe what you observed (appearance, behavior, etc.)"),u(A,"class","form-input resize-vertical"),u(B,"for","weather"),u(B,"class","form-label"),u(be,"id","weather"),u(be,"type","text"),u(be,"placeholder","e.g., sunny, cloudy, rainy"),u(be,"class","form-input"),u(Q,"for","habitat"),u(Q,"class","form-label"),u(L,"id","habitat"),u(L,"type","text"),u(L,"placeholder","e.g., oak forest, wetland, urban park"),u(L,"class","form-input"),u(te,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),u(ue,"for","behavior"),u(ue,"class","form-label"),u(ye,"id","behavior"),u(ye,"rows","2"),u(ye,"placeholder","Describe any interesting behaviors you observed"),u(ye,"class","form-input resize-vertical"),u(ke,"for","tags"),u(ke,"class","form-label"),u(oe,"class","flex flex-wrap gap-2 mb-3"),u(Ee,"type","text"),u(Ee,"placeholder","Add tags (press Enter to add)"),u(Ee,"class","form-input"),u(we,"for","notes"),u(we,"class","form-label"),u(Se,"id","notes"),u(Se,"rows","4"),u(Se,"placeholder","Any other observations or notes..."),u(Se,"class","form-input resize-vertical"),u(l,"class","card card-body space-y-6")},m(Te,Be){re(Te,e,Be),i(e,t),i(e,n),i(e,l),i(l,a),i(a,o),i(o,c),i(o,_),i(o,f),qe(f,s[9]),i(a,g),i(a,v),i(v,b),i(v,x),i(v,D),i(D,E),i(D,T),i(D,P),i(D,J),i(D,Z),Xt(D,s[10],!0),i(l,M),i(l,U),i(U,j),i(U,ae),i(U,A),qe(A,s[8]),i(l,X),i(l,te),i(te,q),i(q,B),i(q,K),i(q,be),qe(be,s[11]),i(te,H),i(te,ie),i(ie,Q),i(ie,S),i(ie,L),qe(L,s[12]),i(l,ne),i(l,me),i(me,ue),i(me,ee),i(me,ye),qe(ye,s[13]),i(l,fe),i(l,de),i(de,ke),i(de,xe),i(de,oe);for(let Pe=0;Pe<Ge.length;Pe+=1)Ge[Pe]&&Ge[Pe].m(oe,null);i(de,Ve),i(de,Ee),i(l,He),i(l,Je),i(Je,we),i(Je,Fe),i(Je,Se),qe(Se,s[7]),Re||(je=[$e(f,"input",s[44]),$e(D,"change",s[45]),$e(A,"input",s[46]),$e(be,"input",s[47]),$e(L,"input",s[48]),$e(ye,"input",s[49]),$e(Ee,"keydown",s[33]),$e(Se,"input",s[51])],Re=!0)},p(Te,Be){if(Be[0]&512&&Et(f.value)!==Te[9]&&qe(f,Te[9]),Be[0]&1024&&Xt(D,Te[10]),Be[0]&256&&qe(A,Te[8]),Be[0]&2048&&be.value!==Te[11]&&qe(be,Te[11]),Be[0]&4096&&L.value!==Te[12]&&qe(L,Te[12]),Be[0]&8192&&qe(ye,Te[13]),Be[0]&16384|Be[1]&2){nt=rt(Te[14]);let Pe;for(Pe=0;Pe<nt.length;Pe+=1){const Ce=Ll(Te,nt,Pe);Ge[Pe]?Ge[Pe].p(Ce,Be):(Ge[Pe]=Xl(Ce),Ge[Pe].c(),Ge[Pe].m(oe,null))}for(;Pe<Ge.length;Pe+=1)Ge[Pe].d(1);Ge.length=nt.length}Be[0]&128&&qe(Se,Te[7])},i(Te){Te&&(ze||It(()=>{ze=Tt(e,Pt,{duration:300}),ze.start()}))},o:Oe,d(Te){Te&&h(e),yt(Ge,Te),Re=!1,bt(je)}}}function Xl(s){let e,t=s[58]+"",r,n,l,a="Ã—",o,c,p;function _(){return s[50](s[62])}return{c(){e=m("span"),r=G(t),n=C(),l=m("button"),l.textContent=a,o=C(),this.h()},l(f){e=d(f,"SPAN",{class:!0});var g=y(e);r=R(g,t),n=w(g),l=d(g,"BUTTON",{type:!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),ce(l)!=="svelte-198dcaj"&&(l.textContent=a),o=w(g),g.forEach(h),this.h()},h(){u(l,"type","button"),u(l,"class","ml-1 hover:text-error transition-colors"),u(l,"aria-label","Remove tag"),u(e,"class","badge badge-primary")},m(f,g){re(f,e,g),i(e,r),i(e,n),i(e,l),i(e,o),c||(p=$e(l,"click",_),c=!0)},p(f,g){s=f,g[0]&16384&&t!==(t=s[58]+"")&&ge(r,t)},d(f){f&&h(e),c=!1,p()}}}function Yl(s){var nt,Ge,Te,Be,Pe;let e,t,r="Review Your Observation",n,l,a,o,c='<h4 class="font-semibold text-primary-forest">Observation Summary</h4>',p,_,f,g,v,b="Type:",k,x,D,E,I,T,F="Species:",P,z,J=((nt=s[5])==null?void 0:nt.common_name)+"",W,Z,le,M,U,j="Location:",se,ae,A=(((Ge=s[2])==null?void 0:Ge.region)||"Selected location")+"",X,te,q,B=((Te=s[2])==null?void 0:Te.latitude.toFixed(6))+"",Y,K,be=((Be=s[2])==null?void 0:Be.longitude.toFixed(6))+"",H,ie,Q,N,S="Count:",L,ne,me,ue,O=s[9]!==1?"s":"",ee,ye,fe,de,ke="Media",Ae,xe,oe,Ve,Ee,He,Je,we,Me=((Pe=s[5])==null?void 0:Pe.scientific_name)&&Kl(s),Fe=s[3].length>0&&Ql(s),Se=s[4]&&Zl(s),ze=(s[8]||s[11]||s[12]||s[13]||s[14].length>0)&&er(s),Re=s[7]&&ir(s),je=!s[16]&&or(s);return{c(){e=m("div"),t=m("h3"),t.textContent=r,n=C(),l=m("div"),a=m("div"),o=m("div"),o.innerHTML=c,p=C(),_=m("div"),f=m("div"),g=m("div"),v=m("span"),v.textContent=b,k=C(),x=m("p"),D=G(s[1]),E=C(),I=m("div"),T=m("span"),T.textContent=F,P=C(),z=m("p"),W=G(J),Z=C(),Me&&Me.c(),le=C(),M=m("div"),U=m("span"),U.textContent=j,se=C(),ae=m("p"),X=G(A),te=C(),q=m("p"),Y=G(B),K=G(", "),H=G(be),ie=C(),Q=m("div"),N=m("span"),N.textContent=S,L=C(),ne=m("p"),me=G(s[9]),ue=G(" individual"),ee=G(O),ye=C(),fe=m("div"),de=m("h4"),de.textContent=ke,Ae=C(),xe=m("div"),Fe&&Fe.c(),oe=C(),Se&&Se.c(),Ve=C(),ze&&ze.c(),Ee=C(),Re&&Re.c(),He=C(),je&&je.c(),this.h()},l(Ce){e=d(Ce,"DIV",{});var Le=y(e);t=d(Le,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-13tux7z"&&(t.textContent=r),n=w(Le),l=d(Le,"DIV",{class:!0});var We=y(l);a=d(We,"DIV",{class:!0});var et=y(a);o=d(et,"DIV",{class:!0,"data-svelte-h":!0}),ce(o)!=="svelte-6hxi5r"&&(o.innerHTML=c),p=w(et),_=d(et,"DIV",{class:!0});var tt=y(_);f=d(tt,"DIV",{class:!0});var Xe=y(f);g=d(Xe,"DIV",{});var Ye=y(g);v=d(Ye,"SPAN",{class:!0,"data-svelte-h":!0}),ce(v)!=="svelte-1v72a4a"&&(v.textContent=b),k=w(Ye),x=d(Ye,"P",{class:!0});var ht=y(x);D=R(ht,s[1]),ht.forEach(h),Ye.forEach(h),E=w(Xe),I=d(Xe,"DIV",{});var dt=y(I);T=d(dt,"SPAN",{class:!0,"data-svelte-h":!0}),ce(T)!=="svelte-1gvkln0"&&(T.textContent=F),P=w(dt),z=d(dt,"P",{class:!0});var pt=y(z);W=R(pt,J),pt.forEach(h),Z=w(dt),Me&&Me.l(dt),dt.forEach(h),le=w(Xe),M=d(Xe,"DIV",{});var _t=y(M);U=d(_t,"SPAN",{class:!0,"data-svelte-h":!0}),ce(U)!=="svelte-1ofrigp"&&(U.textContent=j),se=w(_t),ae=d(_t,"P",{class:!0});var kt=y(ae);X=R(kt,A),kt.forEach(h),te=w(_t),q=d(_t,"P",{class:!0});var vt=y(q);Y=R(vt,B),K=R(vt,", "),H=R(vt,be),vt.forEach(h),_t.forEach(h),ie=w(Xe),Q=d(Xe,"DIV",{});var Lt=y(Q);N=d(Lt,"SPAN",{class:!0,"data-svelte-h":!0}),ce(N)!=="svelte-ts7d4j"&&(N.textContent=S),L=w(Lt),ne=d(Lt,"P",{class:!0});var At=y(ne);me=R(At,s[9]),ue=R(At," individual"),ee=R(At,O),At.forEach(h),Lt.forEach(h),Xe.forEach(h),tt.forEach(h),et.forEach(h),ye=w(We),fe=d(We,"DIV",{class:!0});var Ft=y(fe);de=d(Ft,"H4",{class:!0,"data-svelte-h":!0}),ce(de)!=="svelte-q3dkkk"&&(de.textContent=ke),Ae=w(Ft),xe=d(Ft,"DIV",{class:!0});var Mt=y(xe);Fe&&Fe.l(Mt),oe=w(Mt),Se&&Se.l(Mt),Mt.forEach(h),Ft.forEach(h),Ve=w(We),ze&&ze.l(We),Ee=w(We),Re&&Re.l(We),We.forEach(h),He=w(Le),je&&je.l(Le),Le.forEach(h),this.h()},h(){u(t,"class","text-xl font-semibold text-primary-forest mb-6"),u(o,"class","card-header"),u(v,"class","text-sm text-neutral-stone-gray"),u(x,"class","font-medium capitalize text-primary-forest"),u(T,"class","text-sm text-neutral-stone-gray"),u(z,"class","font-medium text-primary-forest"),u(U,"class","text-sm text-neutral-stone-gray"),u(ae,"class","font-medium text-primary-forest"),u(q,"class","text-xs text-neutral-stone-gray"),u(N,"class","text-sm text-neutral-stone-gray"),u(ne,"class","font-medium text-primary-forest"),u(f,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),u(_,"class","card-body"),u(a,"class","card"),u(de,"class","font-semibold text-primary-forest mb-4"),u(xe,"class","flex flex-wrap gap-3"),u(fe,"class","card card-body"),u(l,"class","space-y-6")},m(Ce,Le){re(Ce,e,Le),i(e,t),i(e,n),i(e,l),i(l,a),i(a,o),i(a,p),i(a,_),i(_,f),i(f,g),i(g,v),i(g,k),i(g,x),i(x,D),i(f,E),i(f,I),i(I,T),i(I,P),i(I,z),i(z,W),i(I,Z),Me&&Me.m(I,null),i(f,le),i(f,M),i(M,U),i(M,se),i(M,ae),i(ae,X),i(M,te),i(M,q),i(q,Y),i(q,K),i(q,H),i(f,ie),i(f,Q),i(Q,N),i(Q,L),i(Q,ne),i(ne,me),i(ne,ue),i(ne,ee),i(l,ye),i(l,fe),i(fe,de),i(fe,Ae),i(fe,xe),Fe&&Fe.m(xe,null),i(xe,oe),Se&&Se.m(xe,null),i(l,Ve),ze&&ze.m(l,null),i(l,Ee),Re&&Re.m(l,null),i(e,He),je&&je.m(e,null),we=!0},p(Ce,Le){var We,et,tt,Xe,Ye;(!we||Le[0]&2)&&ge(D,Ce[1]),(!we||Le[0]&32)&&J!==(J=((We=Ce[5])==null?void 0:We.common_name)+"")&&ge(W,J),(et=Ce[5])!=null&&et.scientific_name?Me?Me.p(Ce,Le):(Me=Kl(Ce),Me.c(),Me.m(I,null)):Me&&(Me.d(1),Me=null),(!we||Le[0]&4)&&A!==(A=(((tt=Ce[2])==null?void 0:tt.region)||"Selected location")+"")&&ge(X,A),(!we||Le[0]&4)&&B!==(B=((Xe=Ce[2])==null?void 0:Xe.latitude.toFixed(6))+"")&&ge(Y,B),(!we||Le[0]&4)&&be!==(be=((Ye=Ce[2])==null?void 0:Ye.longitude.toFixed(6))+"")&&ge(H,be),(!we||Le[0]&512)&&ge(me,Ce[9]),(!we||Le[0]&512)&&O!==(O=Ce[9]!==1?"s":"")&&ge(ee,O),Ce[3].length>0?Fe?(Fe.p(Ce,Le),Le[0]&8&&$(Fe,1)):(Fe=Ql(Ce),Fe.c(),$(Fe,1),Fe.m(xe,oe)):Fe&&(Ie(),V(Fe,1,1,()=>{Fe=null}),De()),Ce[4]?Se?(Se.p(Ce,Le),Le[0]&16&&$(Se,1)):(Se=Zl(Ce),Se.c(),$(Se,1),Se.m(xe,null)):Se&&(Ie(),V(Se,1,1,()=>{Se=null}),De()),Ce[8]||Ce[11]||Ce[12]||Ce[13]||Ce[14].length>0?ze?ze.p(Ce,Le):(ze=er(Ce),ze.c(),ze.m(l,Ee)):ze&&(ze.d(1),ze=null),Ce[7]?Re?Re.p(Ce,Le):(Re=ir(Ce),Re.c(),Re.m(l,null)):Re&&(Re.d(1),Re=null),Ce[16]?je&&(Ie(),V(je,1,1,()=>{je=null}),De()):je?(je.p(Ce,Le),Le[0]&65536&&$(je,1)):(je=or(Ce),je.c(),$(je,1),je.m(e,null))},i(Ce){we||($(Fe),$(Se),$(je),Ce&&(Je||It(()=>{Je=Tt(e,Pt,{duration:300}),Je.start()})),we=!0)},o(Ce){V(Fe),V(Se),V(je),we=!1},d(Ce){Ce&&h(e),Me&&Me.d(),Fe&&Fe.d(),Se&&Se.d(),ze&&ze.d(),Re&&Re.d(),je&&je.d()}}}function Kl(s){let e,t=s[5].scientific_name+"",r;return{c(){e=m("p"),r=G(t),this.h()},l(n){e=d(n,"P",{class:!0});var l=y(e);r=R(l,t),l.forEach(h),this.h()},h(){u(e,"class","text-sm italic text-neutral-stone-gray")},m(n,l){re(n,e,l),i(e,r)},p(n,l){l[0]&32&&t!==(t=n[5].scientific_name+"")&&ge(r,t)},d(n){n&&h(e)}}}function Ql(s){let e,t,r,n=s[3].length+"",l,a,o;return t=new xt({props:{class:"w-4 h-4 mr-1"}}),{c(){e=m("div"),ve(t.$$.fragment),r=C(),l=G(n),a=G(" image(s)"),this.h()},l(c){e=d(c,"DIV",{class:!0});var p=y(e);_e(t.$$.fragment,p),r=w(p),l=R(p,n),a=R(p," image(s)"),p.forEach(h),this.h()},h(){u(e,"class","badge badge-success text-sm")},m(c,p){re(c,e,p),pe(t,e,null),i(e,r),i(e,l),i(e,a),o=!0},p(c,p){(!o||p[0]&8)&&n!==(n=c[3].length+"")&&ge(l,n)},i(c){o||($(t.$$.fragment,c),o=!0)},o(c){V(t.$$.fragment,c),o=!1},d(c){c&&h(e),he(t)}}}function Zl(s){let e,t,r,n=s[4].duration.toFixed(1)+"",l,a,o;return t=new Dt({props:{class:"w-4 h-4 mr-1"}}),{c(){e=m("div"),ve(t.$$.fragment),r=G(`\r
					Audio recording (`),l=G(n),a=G("s)"),this.h()},l(c){e=d(c,"DIV",{class:!0});var p=y(e);_e(t.$$.fragment,p),r=R(p,`\r
					Audio recording (`),l=R(p,n),a=R(p,"s)"),p.forEach(h),this.h()},h(){u(e,"class","badge badge-secondary text-sm")},m(c,p){re(c,e,p),pe(t,e,null),i(e,r),i(e,l),i(e,a),o=!0},p(c,p){(!o||p[0]&16)&&n!==(n=c[4].duration.toFixed(1)+"")&&ge(l,n)},i(c){o||($(t.$$.fragment,c),o=!0)},o(c){V(t.$$.fragment,c),o=!1},d(c){c&&h(e),he(t)}}}function er(s){let e,t,r="Additional Details",n,l,a,o,c,p,_=s[8]&&tr(s),f=s[11]&&lr(s),g=s[12]&&rr(s),v=s[13]&&nr(s),b=s[14].length>0&&sr(s);return{c(){e=m("div"),t=m("h4"),t.textContent=r,n=C(),_&&_.c(),l=C(),a=m("div"),f&&f.c(),o=C(),g&&g.c(),c=C(),v&&v.c(),p=C(),b&&b.c(),this.h()},l(k){e=d(k,"DIV",{class:!0});var x=y(e);t=d(x,"H4",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1d8iu1x"&&(t.textContent=r),n=w(x),_&&_.l(x),l=w(x),a=d(x,"DIV",{class:!0});var D=y(a);f&&f.l(D),o=w(D),g&&g.l(D),D.forEach(h),c=w(x),v&&v.l(x),p=w(x),b&&b.l(x),x.forEach(h),this.h()},h(){u(t,"class","font-semibold text-primary-forest mb-4"),u(a,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),u(e,"class","card card-body")},m(k,x){re(k,e,x),i(e,t),i(e,n),_&&_.m(e,null),i(e,l),i(e,a),f&&f.m(a,null),i(a,o),g&&g.m(a,null),i(e,c),v&&v.m(e,null),i(e,p),b&&b.m(e,null)},p(k,x){k[8]?_?_.p(k,x):(_=tr(k),_.c(),_.m(e,l)):_&&(_.d(1),_=null),k[11]?f?f.p(k,x):(f=lr(k),f.c(),f.m(a,o)):f&&(f.d(1),f=null),k[12]?g?g.p(k,x):(g=rr(k),g.c(),g.m(a,null)):g&&(g.d(1),g=null),k[13]?v?v.p(k,x):(v=nr(k),v.c(),v.m(e,p)):v&&(v.d(1),v=null),k[14].length>0?b?b.p(k,x):(b=sr(k),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(k){k&&h(e),_&&_.d(),f&&f.d(),g&&g.d(),v&&v.d(),b&&b.d()}}}function tr(s){let e,t,r="Description:",n,l,a;return{c(){e=m("div"),t=m("span"),t.textContent=r,n=C(),l=m("p"),a=G(s[8]),this.h()},l(o){e=d(o,"DIV",{class:!0});var c=y(e);t=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-d7bgdk"&&(t.textContent=r),n=w(c),l=d(c,"P",{class:!0});var p=y(l);a=R(p,s[8]),p.forEach(h),c.forEach(h),this.h()},h(){u(t,"class","text-sm text-neutral-stone-gray"),u(l,"class","text-neutral-soft-black mt-1"),u(e,"class","mb-4")},m(o,c){re(o,e,c),i(e,t),i(e,n),i(e,l),i(l,a)},p(o,c){c[0]&256&&ge(a,o[8])},d(o){o&&h(e)}}}function lr(s){let e,t,r="Weather:",n,l,a;return{c(){e=m("div"),t=m("span"),t.textContent=r,n=C(),l=m("p"),a=G(s[11]),this.h()},l(o){e=d(o,"DIV",{});var c=y(e);t=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1x2vrje"&&(t.textContent=r),n=w(c),l=d(c,"P",{class:!0});var p=y(l);a=R(p,s[11]),p.forEach(h),c.forEach(h),this.h()},h(){u(t,"class","text-sm text-neutral-stone-gray"),u(l,"class","text-neutral-soft-black")},m(o,c){re(o,e,c),i(e,t),i(e,n),i(e,l),i(l,a)},p(o,c){c[0]&2048&&ge(a,o[11])},d(o){o&&h(e)}}}function rr(s){let e,t,r="Habitat:",n,l,a;return{c(){e=m("div"),t=m("span"),t.textContent=r,n=C(),l=m("p"),a=G(s[12]),this.h()},l(o){e=d(o,"DIV",{});var c=y(e);t=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-2z5h6f"&&(t.textContent=r),n=w(c),l=d(c,"P",{class:!0});var p=y(l);a=R(p,s[12]),p.forEach(h),c.forEach(h),this.h()},h(){u(t,"class","text-sm text-neutral-stone-gray"),u(l,"class","text-neutral-soft-black")},m(o,c){re(o,e,c),i(e,t),i(e,n),i(e,l),i(l,a)},p(o,c){c[0]&4096&&ge(a,o[12])},d(o){o&&h(e)}}}function nr(s){let e,t,r="Behavior:",n,l,a;return{c(){e=m("div"),t=m("span"),t.textContent=r,n=C(),l=m("p"),a=G(s[13]),this.h()},l(o){e=d(o,"DIV",{class:!0});var c=y(e);t=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1kw6m38"&&(t.textContent=r),n=w(c),l=d(c,"P",{class:!0});var p=y(l);a=R(p,s[13]),p.forEach(h),c.forEach(h),this.h()},h(){u(t,"class","text-sm text-neutral-stone-gray"),u(l,"class","text-neutral-soft-black mt-1"),u(e,"class","mt-4")},m(o,c){re(o,e,c),i(e,t),i(e,n),i(e,l),i(l,a)},p(o,c){c[0]&8192&&ge(a,o[13])},d(o){o&&h(e)}}}function sr(s){let e,t,r="Tags:",n,l,a=rt(s[14]),o=[];for(let c=0;c<a.length;c+=1)o[c]=ar(Pl(s,a,c));return{c(){e=m("div"),t=m("span"),t.textContent=r,n=C(),l=m("div");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=d(c,"DIV",{class:!0});var p=y(e);t=d(p,"SPAN",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-z8wcka"&&(t.textContent=r),n=w(p),l=d(p,"DIV",{class:!0});var _=y(l);for(let f=0;f<o.length;f+=1)o[f].l(_);_.forEach(h),p.forEach(h),this.h()},h(){u(t,"class","text-sm text-neutral-stone-gray mb-2 block"),u(l,"class","flex flex-wrap gap-2"),u(e,"class","mt-4")},m(c,p){re(c,e,p),i(e,t),i(e,n),i(e,l);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(l,null)},p(c,p){if(p[0]&16384){a=rt(c[14]);let _;for(_=0;_<a.length;_+=1){const f=Pl(c,a,_);o[_]?o[_].p(f,p):(o[_]=ar(f),o[_].c(),o[_].m(l,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=a.length}},d(c){c&&h(e),yt(o,c)}}}function ar(s){let e,t=s[58]+"",r;return{c(){e=m("span"),r=G(t),this.h()},l(n){e=d(n,"SPAN",{class:!0});var l=y(e);r=R(l,t),l.forEach(h),this.h()},h(){u(e,"class","badge badge-primary text-xs")},m(n,l){re(n,e,l),i(e,r)},p(n,l){l[0]&16384&&t!==(t=n[58]+"")&&ge(r,t)},d(n){n&&h(e)}}}function ir(s){let e,t,r="Notes",n,l,a;return{c(){e=m("div"),t=m("h4"),t.textContent=r,n=C(),l=m("p"),a=G(s[7]),this.h()},l(o){e=d(o,"DIV",{class:!0});var c=y(e);t=d(c,"H4",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-fs8rei"&&(t.textContent=r),n=w(c),l=d(c,"P",{class:!0});var p=y(l);a=R(p,s[7]),p.forEach(h),c.forEach(h),this.h()},h(){u(t,"class","font-semibold text-primary-forest mb-3"),u(l,"class","text-neutral-soft-black whitespace-pre-wrap"),u(e,"class","card card-body")},m(o,c){re(o,e,c),i(e,t),i(e,n),i(e,l),i(l,a)},p(o,c){c[0]&128&&ge(a,o[7])},d(o){o&&h(e)}}}function or(s){let e,t,r,n,l,a,o,c;n=new mt({props:{class:"w-4 h-4"}});let p=rt(Object.values(s[15])),_=[];for(let f=0;f<p.length;f+=1)_[f]=cr(Sl(s,p,f));return{c(){e=m("div"),t=m("div"),r=m("h4"),ve(n.$$.fragment),l=G(`\r
				  Please fix the following issues:`),a=C(),o=m("ul");for(let f=0;f<_.length;f+=1)_[f].c();this.h()},l(f){e=d(f,"DIV",{class:!0});var g=y(e);t=d(g,"DIV",{class:!0});var v=y(t);r=d(v,"H4",{class:!0});var b=y(r);_e(n.$$.fragment,b),l=R(b,`\r
				  Please fix the following issues:`),b.forEach(h),a=w(v),o=d(v,"UL",{class:!0});var k=y(o);for(let x=0;x<_.length;x+=1)_[x].l(k);k.forEach(h),v.forEach(h),g.forEach(h),this.h()},h(){u(r,"class","font-medium text-error mb-3 flex items-center gap-2"),u(o,"class","text-error text-sm space-y-1"),u(t,"class","card-body"),u(e,"class","card bg-error/5 border-error/20 mt-6")},m(f,g){re(f,e,g),i(e,t),i(t,r),pe(n,r,null),i(r,l),i(t,a),i(t,o);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(o,null);c=!0},p(f,g){if(g[0]&32768){p=rt(Object.values(f[15]));let v;for(v=0;v<p.length;v+=1){const b=Sl(f,p,v);_[v]?_[v].p(b,g):(_[v]=cr(b),_[v].c(),_[v].m(o,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=p.length}},i(f){c||($(n.$$.fragment,f),c=!0)},o(f){V(n.$$.fragment,f),c=!1},d(f){f&&h(e),he(n),yt(_,f)}}}function cr(s){let e,t,r=s[55]+"",n;return{c(){e=m("li"),t=G("â€¢ "),n=G(r)},l(l){e=d(l,"LI",{});var a=y(e);t=R(a,"â€¢ "),n=R(a,r),a.forEach(h)},m(l,a){re(l,e,a),i(e,t),i(e,n)},p(l,a){a[0]&32768&&r!==(r=l[55]+"")&&ge(n,r)},d(l){l&&h(e)}}}function ur(s){let e,t="â† Previous",r,n;return{c(){e=m("button"),e.textContent=t,this.h()},l(l){e=d(l,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-1636jgq"&&(e.textContent=t),this.h()},h(){u(e,"type","button"),u(e,"class","btn btn-ghost")},m(l,a){re(l,e,a),r||(n=$e(e,"click",s[20]),r=!0)},p:Oe,d(l){l&&h(e),r=!1,n()}}}function Yn(s){let e,t,r,n,l,a,o;const c=[Zn,Qn],p=[];function _(f,g){return f[6]?0:1}return t=_(s),r=p[t]=c[t](s),{c(){e=m("button"),r.c(),this.h()},l(f){e=d(f,"BUTTON",{type:!0,class:!0});var g=y(e);r.l(g),g.forEach(h),this.h()},h(){u(e,"type","button"),e.disabled=n=!s[16]||s[6],u(e,"class","btn btn-primary")},m(f,g){re(f,e,g),p[t].m(e,null),l=!0,a||(o=$e(e,"click",s[22]),a=!0)},p(f,g){let v=t;t=_(f),t!==v&&(Ie(),V(p[v],1,1,()=>{p[v]=null}),De(),r=p[t],r||(r=p[t]=c[t](f),r.c()),$(r,1),r.m(e,null)),(!l||g[0]&65600&&n!==(n=!f[16]||f[6]))&&(e.disabled=n)},i(f){l||($(r),l=!0)},o(f){V(r),l=!1},d(f){f&&h(e),p[t].d(),a=!1,o()}}}function Kn(s){let e,t,r,n,l;return{c(){e=m("button"),t=G("Next â†’"),this.h()},l(a){e=d(a,"BUTTON",{type:!0,class:!0});var o=y(e);t=R(o,"Next â†’"),o.forEach(h),this.h()},h(){u(e,"type","button"),e.disabled=r=!s[16],u(e,"class","btn btn-primary")},m(a,o){re(a,e,o),i(e,t),n||(l=$e(e,"click",s[19]),n=!0)},p(a,o){o[0]&65536&&r!==(r=!a[16])&&(e.disabled=r)},i:Oe,o:Oe,d(a){a&&h(e),n=!1,l()}}}function Qn(s){let e,t,r;return e=new Nt({props:{class:"w-4 h-4 mr-2"}}),{c(){ve(e.$$.fragment),t=G(`\r
			  Submit Observation`)},l(n){_e(e.$$.fragment,n),t=R(n,`\r
			  Submit Observation`)},m(n,l){pe(e,n,l),re(n,t,l),r=!0},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){n&&h(t),he(e,n)}}}function Zn(s){let e,t;return{c(){e=m("div"),t=G(`\r
			  Submitting...`),this.h()},l(r){e=d(r,"DIV",{class:!0}),y(e).forEach(h),t=R(r,`\r
			  Submitting...`),this.h()},h(){u(e,"class","spinner w-4 h-4 mr-2")},m(r,n){re(r,e,n),re(r,t,n)},i:Oe,o:Oe,d(r){r&&(h(e),h(t))}}}function es(s){let e,t,r,n,l="New Observation",a,o,c,p,_,f,g,v,b,k,x,D,E,I,T,F,P,z,J,W,Z,le,M,U,j,se="Cancel",ae,A,X,te,q,B,Y=rt(Array(gt)),K=[];for(let O=0;O<Y.length;O+=1)K[O]=Fl(Al(s,Y,O));const be=O=>V(K[O],1,1,()=>{K[O]=null});let H=s[0]===1&&Ml(s),ie=s[0]===2&&Ol(s),Q=s[0]===3&&Rl(s),N=s[0]===4&&Jl(s),S=s[0]===5&&Yl(s),L=s[0]>1&&ur(s);const ne=[Kn,Yn],me=[];function ue(O,ee){return O[0]<gt?0:1}return A=ue(s),X=me[A]=ne[A](s),{c(){e=m("div"),t=m("div"),r=m("div"),n=m("h2"),n.textContent=l,a=C(),o=m("div"),c=G("Step "),p=G(s[0]),_=G(" of "),f=G(gt),g=C(),v=m("div"),b=m("div"),k=C(),x=m("div"),D=m("div"),E=C();for(let O=0;O<K.length;O+=1)K[O].c();I=C(),T=m("div"),H&&H.c(),F=C(),ie&&ie.c(),P=C(),Q&&Q.c(),z=C(),N&&N.c(),J=C(),S&&S.c(),W=C(),Z=m("div"),le=m("div"),L&&L.c(),M=C(),U=m("div"),j=m("button"),j.textContent=se,ae=C(),X.c(),this.h()},l(O){e=d(O,"DIV",{class:!0});var ee=y(e);t=d(ee,"DIV",{class:!0});var ye=y(t);r=d(ye,"DIV",{class:!0});var fe=y(r);n=d(fe,"H2",{class:!0,"data-svelte-h":!0}),ce(n)!=="svelte-1yludez"&&(n.textContent=l),a=w(fe),o=d(fe,"DIV",{class:!0});var de=y(o);c=R(de,"Step "),p=R(de,s[0]),_=R(de," of "),f=R(de,gt),de.forEach(h),fe.forEach(h),g=w(ye),v=d(ye,"DIV",{class:!0});var ke=y(v);b=d(ke,"DIV",{class:!0,style:!0}),y(b).forEach(h),ke.forEach(h),k=w(ye),x=d(ye,"DIV",{class:!0});var Ae=y(x);D=d(Ae,"DIV",{class:!0}),y(D).forEach(h),E=w(Ae);for(let He=0;He<K.length;He+=1)K[He].l(Ae);Ae.forEach(h),ye.forEach(h),I=w(ee),T=d(ee,"DIV",{class:!0});var xe=y(T);H&&H.l(xe),F=w(xe),ie&&ie.l(xe),P=w(xe),Q&&Q.l(xe),z=w(xe),N&&N.l(xe),J=w(xe),S&&S.l(xe),xe.forEach(h),W=w(ee),Z=d(ee,"DIV",{class:!0});var oe=y(Z);le=d(oe,"DIV",{});var Ve=y(le);L&&L.l(Ve),Ve.forEach(h),M=w(oe),U=d(oe,"DIV",{class:!0});var Ee=y(U);j=d(Ee,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(j)!=="svelte-k3kd7k"&&(j.textContent=se),ae=w(Ee),X.l(Ee),Ee.forEach(h),oe.forEach(h),ee.forEach(h),this.h()},h(){u(n,"class","text-3xl font-bold text-primary-forest"),u(o,"class","text-sm text-neutral-stone-gray"),u(r,"class","flex justify-between items-center mb-4"),u(b,"class","bg-primary-forest h-2 rounded-full transition-all duration-300"),Jt(b,"width",s[17]+"%"),u(v,"class","w-full bg-neutral-200 rounded-full h-2 mb-6"),u(D,"class","absolute top-4 left-0 right-0 h-0.5 bg-neutral-200 -z-10"),u(x,"class","flex justify-between relative"),u(t,"class","mb-8"),u(T,"class","min-h-[500px]"),u(j,"type","button"),u(j,"class","btn btn-outline"),u(U,"class","flex gap-4"),u(Z,"class","flex justify-between items-center mt-8 pt-6 border-t border-neutral-200"),u(e,"class","max-w-4xl mx-auto p-6")},m(O,ee){re(O,e,ee),i(e,t),i(t,r),i(r,n),i(r,a),i(r,o),i(o,c),i(o,p),i(o,_),i(o,f),i(t,g),i(t,v),i(v,b),i(t,k),i(t,x),i(x,D),i(x,E);for(let ye=0;ye<K.length;ye+=1)K[ye]&&K[ye].m(x,null);i(e,I),i(e,T),H&&H.m(T,null),i(T,F),ie&&ie.m(T,null),i(T,P),Q&&Q.m(T,null),i(T,z),N&&N.m(T,null),i(T,J),S&&S.m(T,null),i(e,W),i(e,Z),i(Z,le),L&&L.m(le,null),i(Z,M),i(Z,U),i(U,j),i(U,ae),me[A].m(U,null),te=!0,q||(B=$e(j,"click",s[52]),q=!0)},p(O,ee){if((!te||ee[0]&1)&&ge(p,O[0]),(!te||ee[0]&131072)&&Jt(b,"width",O[17]+"%"),ee[0]&2097153){Y=rt(Array(gt));let fe;for(fe=0;fe<Y.length;fe+=1){const de=Al(O,Y,fe);K[fe]?(K[fe].p(de,ee),$(K[fe],1)):(K[fe]=Fl(de),K[fe].c(),$(K[fe],1),K[fe].m(x,null))}for(Ie(),fe=Y.length;fe<K.length;fe+=1)be(fe);De()}O[0]===1?H?(H.p(O,ee),ee[0]&1&&$(H,1)):(H=Ml(O),H.c(),$(H,1),H.m(T,F)):H&&(Ie(),V(H,1,1,()=>{H=null}),De()),O[0]===2?ie?(ie.p(O,ee),ee[0]&1&&$(ie,1)):(ie=Ol(O),ie.c(),$(ie,1),ie.m(T,P)):ie&&(Ie(),V(ie,1,1,()=>{ie=null}),De()),O[0]===3?Q?(Q.p(O,ee),ee[0]&1&&$(Q,1)):(Q=Rl(O),Q.c(),$(Q,1),Q.m(T,z)):Q&&(Ie(),V(Q,1,1,()=>{Q=null}),De()),O[0]===4?N?(N.p(O,ee),ee[0]&1&&$(N,1)):(N=Jl(O),N.c(),$(N,1),N.m(T,J)):N&&(N.d(1),N=null),O[0]===5?S?(S.p(O,ee),ee[0]&1&&$(S,1)):(S=Yl(O),S.c(),$(S,1),S.m(T,null)):S&&(Ie(),V(S,1,1,()=>{S=null}),De()),O[0]>1?L?L.p(O,ee):(L=ur(O),L.c(),L.m(le,null)):L&&(L.d(1),L=null);let ye=A;A=ue(O),A===ye?me[A].p(O,ee):(Ie(),V(me[ye],1,1,()=>{me[ye]=null}),De(),X=me[A],X?X.p(O,ee):(X=me[A]=ne[A](O),X.c()),$(X,1),X.m(U,null))},i(O){if(!te){for(let ee=0;ee<Y.length;ee+=1)$(K[ee]);$(H),$(ie),$(Q),$(N),$(S),$(X),te=!0}},o(O){K=K.filter(Boolean);for(let ee=0;ee<K.length;ee+=1)V(K[ee]);V(H),V(ie),V(Q),V(S),V(X),te=!1},d(O){O&&h(e),yt(K,O),H&&H.d(),ie&&ie.d(),Q&&Q.d(),N&&N.d(),S&&S.d(),L&&L.d(),me[A].d(),q=!1,B()}}}const gt=5;function ts(s,e,t){let r,{initialData:n={}}=e,l=1,a=!1,o=n.observation_type||"visual",c=n.location||void 0,p=n.images||[],_=n.audio_recording||null,f=null,g=n.notes||"",v=n.description||"",b=n.count||1,k=n.confidence||3,x=n.weather_conditions||"",D=n.habitat_description||"",E=n.behavior_notes||"",I=n.tags||[],T={},F=!1;const P=Vt();qt(()=>{z(),n.species_name&&t(5,f={id:"unknown",common_name:n.species_name,scientific_name:n.scientific_name||"",taxonomy:{kingdom:"Unknown",phylum:"Unknown",class:"Unknown",order:"Unknown",family:"Unknown",genus:"Unknown",species:"unknown"},habitat_types:[],conservation_status:void 0})});function z(){switch(t(15,T={}),t(16,F=!0),l){case 1:o||(t(15,T.observationType="Please select an observation type",T),t(16,F=!1));break;case 2:o==="visual"&&p.length===0&&(t(15,T.images="Visual observations require at least one image",T),t(16,F=!1)),o==="audio"&&!_&&(t(15,T.audio="Audio observations require an audio recording",T),t(16,F=!1)),o==="multi-modal"&&p.length===0&&!_&&(t(15,T.media="Multi-modal observations require images or audio",T),t(16,F=!1));break;case 3:c||(t(15,T.location="Location is required",T),t(16,F=!1)),f||(t(15,T.species="Species identification is required",T),t(16,F=!1));break;case 4:break;case 5:const oe={observation_type:o,species_name:(f==null?void 0:f.common_name)||"",scientific_name:f==null?void 0:f.scientific_name,location:c,images:p.length>0?p:void 0,notes:g.trim()||void 0,description:v.trim()||void 0,count:b,confidence:k,weather_conditions:x.trim()||void 0,habitat_description:D.trim()||void 0,behavior_notes:E.trim()||void 0,tags:I.length>0?I:void 0},Ve=wn(oe);Ve.isValid||(t(15,T=Ve.errors),t(16,F=!1));break}P("stepChanged",{step:l,isValid:F})}function J(){F&&l<gt&&(t(0,l++,l),z())}function W(){l>1&&(t(0,l--,l),z())}function Z(oe){oe>=1&&oe<=gt&&(t(0,l=oe),z())}async function le(){if(F){t(6,a=!0),lt.setLoading(!0);try{const oe={observation_type:o,species_name:(f==null?void 0:f.common_name)||"",scientific_name:f==null?void 0:f.scientific_name,location:c,images:p.length>0?p:void 0,audio_recording:_||void 0,notes:g.trim()||void 0,description:v.trim()||void 0,count:b,confidence:k,weather_conditions:x.trim()||void 0,habitat_description:D.trim()||void 0,behavior_notes:E.trim()||void 0,tags:I.length>0?I:void 0};P("submit",oe)}catch(oe){console.error("Form submission error:",oe),lt.showNotification("error","Failed to submit observation. Please try again.")}finally{t(6,a=!1),lt.setLoading(!1)}}}function M(oe){t(3,p=[...p,...oe.detail]),z()}function U(oe){lt.showNotification("error",oe.detail.message)}function j(oe){t(3,p=p.filter((Ve,Ee)=>Ee!==oe.detail.index)),z()}function se(oe){t(4,_=oe.detail),z()}function ae(){t(4,_=null),z()}function A(oe){t(2,c=oe.detail),z()}function X(){t(2,c=void 0),z()}function te(oe){t(5,f=oe.detail),z()}function q(){t(5,f=null),z()}function B(oe){const Ve=oe.trim().toLowerCase();Ve&&!I.includes(Ve)&&t(14,I=[...I,Ve])}function Y(oe){t(14,I=I.filter((Ve,Ee)=>Ee!==oe))}function K(oe){const Ve=oe.target;oe.key==="Enter"&&Ve.value.trim()&&(oe.preventDefault(),B(Ve.value),Ve.value="")}const be=[[]],H=oe=>Z(oe+1);function ie(){o=this.__value,t(1,o)}function Q(){o=this.__value,t(1,o)}function N(){o=this.__value,t(1,o)}function S(oe){p=oe,t(3,p)}function L(oe){_=oe,t(4,_)}function ne(oe){c=oe,t(2,c)}function me(oe){f=oe,t(5,f)}function ue(){b=Et(this.value),t(9,b)}function O(){k=vr(this),t(10,k)}function ee(){v=this.value,t(8,v)}function ye(){x=this.value,t(11,x)}function fe(){D=this.value,t(12,D)}function de(){E=this.value,t(13,E)}const ke=oe=>Y(oe);function Ae(){g=this.value,t(7,g)}const xe=()=>P("cancel");return s.$$set=oe=>{"initialData"in oe&&t(34,n=oe.initialData)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(17,r=l/gt*100),s.$$.dirty[0]&62&&z()},[l,o,c,p,_,f,a,g,v,b,k,x,D,E,I,T,F,r,P,J,W,Z,le,M,U,j,se,ae,A,X,te,q,Y,K,n,H,ie,be,Q,N,S,L,ne,me,ue,O,ee,ye,fe,de,ke,Ae,xe]}class ls extends Ke{constructor(e){super(),Qe(this,e,ts,es,Ze,{initialData:34},null,[-1,-1,-1])}}function rs(s){let e,t,r,n,l,a,o="Authentication Required",c,p,_="You need to sign in to create observations.",f,g,v="Sign In to Continue",b,k,x;return n=new dr({props:{class:"w-8 h-8 text-green-600"}}),{c(){e=m("div"),t=m("div"),r=m("div"),ve(n.$$.fragment),l=C(),a=m("h2"),a.textContent=o,c=C(),p=m("p"),p.textContent=_,f=C(),g=m("button"),g.textContent=v,this.h()},l(D){e=d(D,"DIV",{class:!0});var E=y(e);t=d(E,"DIV",{class:!0});var I=y(t);r=d(I,"DIV",{class:!0});var T=y(r);_e(n.$$.fragment,T),T.forEach(h),l=w(I),a=d(I,"H2",{class:!0,"data-svelte-h":!0}),ce(a)!=="svelte-1o7lfcb"&&(a.textContent=o),c=w(I),p=d(I,"P",{class:!0,"data-svelte-h":!0}),ce(p)!=="svelte-lpufnr"&&(p.textContent=_),f=w(I),g=d(I,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(g)!=="svelte-ac7mix"&&(g.textContent=v),I.forEach(h),E.forEach(h),this.h()},h(){u(r,"class","w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4 mx-auto"),u(a,"class","text-xl font-semibold text-gray-800 mb-2"),u(p,"class","text-gray-600 mb-4"),u(g,"class","bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors svelte-z4e94y"),u(t,"class","text-center"),u(e,"class","auth-required min-h-screen bg-gray-50 flex items-center justify-center")},m(D,E){re(D,e,E),i(e,t),i(t,r),pe(n,r,null),i(t,l),i(t,a),i(t,c),i(t,p),i(t,f),i(t,g),b=!0,k||(x=$e(g,"click",s[8]),k=!0)},p:Oe,i(D){b||($(n.$$.fragment,D),b=!0)},o(D){V(n.$$.fragment,D),b=!1},d(D){D&&h(e),he(n),k=!1,x()}}}function ns(s){let e,t,r,n,l,a,o,c,p,_,f,g,v,b,k='<h1 class="text-2xl font-bold text-gray-800">Record New Observation</h1> <p class="text-gray-600 mt-1">Document wildlife with photos, audio recordings, and detailed notes</p>',x,D,E,I,T,F,P,z,J,W="<li>â€¢ Include clear photos or high-quality audio recordings</li> <li>â€¢ Note the exact location and time of observation</li> <li>â€¢ Describe behavior, habitat, and weather conditions</li> <li>â€¢ Be as specific as possible with species identification</li>",Z,le,M,U,j,se,ae,A,X,te,q="Visual Observation",B,Y,K="Photos & sightings",be,H,ie,Q,N,S,L="Audio Observation",ne,me,ue="Sounds & calls",O,ee,ye,fe,de,ke,Ae="Location Data",xe,oe,Ve="GPS & habitat info",Ee,He,Je;return o=new dr({props:{class:"w-5 h-5"}}),f=new Gt({props:{class:"w-4 h-4"}}),F=new Gt({props:{class:"w-5 h-5"}}),M=new ls({props:{initialData:s[2]}}),M.$on("submit",s[3]),M.$on("cancel",s[4]),M.$on("stepChanged",as),A=new xt({props:{class:"w-8 h-8 text-blue-600"}}),Q=new Dt({props:{class:"w-8 h-8 text-green-600"}}),fe=new Rt({props:{class:"w-8 h-8 text-purple-600"}}),{c(){e=m("div"),t=m("header"),r=m("div"),n=m("div"),l=m("div"),a=m("button"),ve(o.$$.fragment),c=G(`\r
              Back to Observations`),p=C(),_=m("div"),ve(f.$$.fragment),g=G(`\r
            All fields marked with * are required`),v=C(),b=m("div"),b.innerHTML=k,x=C(),D=m("main"),E=m("div"),I=m("div"),T=m("h2"),ve(F.$$.fragment),P=G(`\r
            Tips for Better Observations`),z=C(),J=m("ul"),J.innerHTML=W,Z=C(),le=m("div"),ve(M.$$.fragment),U=C(),j=m("div"),se=m("div"),ae=m("div"),ve(A.$$.fragment),X=C(),te=m("p"),te.textContent=q,B=C(),Y=m("p"),Y.textContent=K,be=C(),H=m("div"),ie=m("div"),ve(Q.$$.fragment),N=C(),S=m("p"),S.textContent=L,ne=C(),me=m("p"),me.textContent=ue,O=C(),ee=m("div"),ye=m("div"),ve(fe.$$.fragment),de=C(),ke=m("p"),ke.textContent=Ae,xe=C(),oe=m("p"),oe.textContent=Ve,this.h()},l(we){e=d(we,"DIV",{class:!0});var Me=y(e);t=d(Me,"HEADER",{class:!0});var Fe=y(t);r=d(Fe,"DIV",{class:!0});var Se=y(r);n=d(Se,"DIV",{class:!0});var ze=y(n);l=d(ze,"DIV",{class:!0});var Re=y(l);a=d(Re,"BUTTON",{class:!0,"aria-label":!0});var je=y(a);_e(o.$$.fragment,je),c=R(je,`\r
              Back to Observations`),je.forEach(h),Re.forEach(h),p=w(ze),_=d(ze,"DIV",{class:!0});var nt=y(_);_e(f.$$.fragment,nt),g=R(nt,`\r
            All fields marked with * are required`),nt.forEach(h),ze.forEach(h),v=w(Se),b=d(Se,"DIV",{class:!0,"data-svelte-h":!0}),ce(b)!=="svelte-hc750k"&&(b.innerHTML=k),Se.forEach(h),Fe.forEach(h),x=w(Me),D=d(Me,"MAIN",{class:!0});var Ge=y(D);E=d(Ge,"DIV",{class:!0});var Te=y(E);I=d(Te,"DIV",{class:!0});var Be=y(I);T=d(Be,"H2",{class:!0});var Pe=y(T);_e(F.$$.fragment,Pe),P=R(Pe,`\r
            Tips for Better Observations`),Pe.forEach(h),z=w(Be),J=d(Be,"UL",{class:!0,"data-svelte-h":!0}),ce(J)!=="svelte-1damysc"&&(J.innerHTML=W),Be.forEach(h),Z=w(Te),le=d(Te,"DIV",{class:!0});var Ce=y(le);_e(M.$$.fragment,Ce),Ce.forEach(h),U=w(Te),j=d(Te,"DIV",{class:!0});var Le=y(j);se=d(Le,"DIV",{class:!0});var We=y(se);ae=d(We,"DIV",{class:!0});var et=y(ae);_e(A.$$.fragment,et),et.forEach(h),X=w(We),te=d(We,"P",{class:!0,"data-svelte-h":!0}),ce(te)!=="svelte-1r5s08r"&&(te.textContent=q),B=w(We),Y=d(We,"P",{class:!0,"data-svelte-h":!0}),ce(Y)!=="svelte-16gatcw"&&(Y.textContent=K),We.forEach(h),be=w(Le),H=d(Le,"DIV",{class:!0});var tt=y(H);ie=d(tt,"DIV",{class:!0});var Xe=y(ie);_e(Q.$$.fragment,Xe),Xe.forEach(h),N=w(tt),S=d(tt,"P",{class:!0,"data-svelte-h":!0}),ce(S)!=="svelte-1e83ty5"&&(S.textContent=L),ne=w(tt),me=d(tt,"P",{class:!0,"data-svelte-h":!0}),ce(me)!=="svelte-4lckz4"&&(me.textContent=ue),tt.forEach(h),O=w(Le),ee=d(Le,"DIV",{class:!0});var Ye=y(ee);ye=d(Ye,"DIV",{class:!0});var ht=y(ye);_e(fe.$$.fragment,ht),ht.forEach(h),de=w(Ye),ke=d(Ye,"P",{class:!0,"data-svelte-h":!0}),ce(ke)!=="svelte-2skzx8"&&(ke.textContent=Ae),xe=w(Ye),oe=d(Ye,"P",{class:!0,"data-svelte-h":!0}),ce(oe)!=="svelte-1m3bme4"&&(oe.textContent=Ve),Ye.forEach(h),Le.forEach(h),Te.forEach(h),Ge.forEach(h),Me.forEach(h),this.h()},h(){u(a,"class","flex items-center gap-2 text-gray-600 hover:text-green-600 transition-colors svelte-z4e94y"),u(a,"aria-label","Go back to observations"),u(l,"class","flex items-center gap-4"),u(_,"class","flex items-center gap-2 text-sm text-gray-500"),u(n,"class","flex items-center justify-between"),u(b,"class","mt-4"),u(r,"class","container mx-auto px-4 py-4 svelte-z4e94y"),u(t,"class","bg-white shadow-sm border-b border-gray-200"),u(T,"class","font-semibold text-blue-800 mb-2 flex items-center gap-2"),u(J,"class","text-sm text-blue-700 space-y-1 ml-7"),u(I,"class","mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg"),u(le,"class","observation-form-container bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden svelte-z4e94y"),u(ae,"class","w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-2 mx-auto"),u(te,"class","text-sm font-medium text-gray-700"),u(Y,"class","text-xs text-gray-500"),u(se,"class","text-center"),u(ie,"class","w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-2 mx-auto"),u(S,"class","text-sm font-medium text-gray-700"),u(me,"class","text-xs text-gray-500"),u(H,"class","text-center"),u(ye,"class","w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-2 mx-auto"),u(ke,"class","text-sm font-medium text-gray-700"),u(oe,"class","text-xs text-gray-500"),u(ee,"class","text-center"),u(j,"class","mt-8 flex flex-wrap gap-4 justify-center"),u(E,"class","max-w-4xl mx-auto"),u(D,"class","container mx-auto px-4 py-8 svelte-z4e94y"),u(e,"class","new-observation-page min-h-screen bg-gray-50")},m(we,Me){re(we,e,Me),i(e,t),i(t,r),i(r,n),i(n,l),i(l,a),pe(o,a,null),i(a,c),i(n,p),i(n,_),pe(f,_,null),i(_,g),i(r,v),i(r,b),i(e,x),i(e,D),i(D,E),i(E,I),i(I,T),pe(F,T,null),i(T,P),i(I,z),i(I,J),i(E,Z),i(E,le),pe(M,le,null),i(E,U),i(E,j),i(j,se),i(se,ae),pe(A,ae,null),i(se,X),i(se,te),i(se,B),i(se,Y),i(j,be),i(j,H),i(H,ie),pe(Q,ie,null),i(H,N),i(H,S),i(H,ne),i(H,me),i(j,O),i(j,ee),i(ee,ye),pe(fe,ye,null),i(ee,de),i(ee,ke),i(ee,xe),i(ee,oe),Ee=!0,He||(Je=$e(a,"click",s[7]),He=!0)},p(we,Me){const Fe={};Me&4&&(Fe.initialData=we[2]),M.$set(Fe)},i(we){Ee||($(o.$$.fragment,we),$(f.$$.fragment,we),$(F.$$.fragment,we),$(M.$$.fragment,we),$(A.$$.fragment,we),$(Q.$$.fragment,we),$(fe.$$.fragment,we),Ee=!0)},o(we){V(o.$$.fragment,we),V(f.$$.fragment,we),V(F.$$.fragment,we),V(M.$$.fragment,we),V(A.$$.fragment,we),V(Q.$$.fragment,we),V(fe.$$.fragment,we),Ee=!1},d(we){we&&h(e),he(o),he(f),he(F),he(M),he(A),he(Q),he(fe),He=!1,Je()}}}function fr(s){let e,t='<div class="bg-white p-6 rounded-lg shadow-lg text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"></div> <p class="text-gray-700 font-medium">Creating your observation...</p> <p class="text-sm text-gray-500 mt-1">This may take a moment</p></div>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-y6qo8h"&&(e.innerHTML=t),this.h()},h(){u(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(r,n){re(r,e,n)},d(r){r&&h(e)}}}function ss(s){let e,t,r,n,l,a,o;const c=[ns,rs],p=[];function _(g,v){return g[1]?0:1}r=_(s),n=p[r]=c[r](s);let f=s[0]&&fr();return{c(){e=m("meta"),t=C(),n.c(),l=C(),f&&f.c(),a=Ct(),this.h()},l(g){const v=gr("svelte-1kivu3u",document.head);e=d(v,"META",{name:!0,content:!0}),v.forEach(h),t=w(g),n.l(g),l=w(g),f&&f.l(g),a=Ct(),this.h()},h(){document.title="New Observation - Leopold",u(e,"name","description"),u(e,"content","Create a new wildlife observation")},m(g,v){i(document.head,e),re(g,t,v),p[r].m(g,v),re(g,l,v),f&&f.m(g,v),re(g,a,v),o=!0},p(g,[v]){let b=r;r=_(g),r===b?p[r].p(g,v):(Ie(),V(p[b],1,1,()=>{p[b]=null}),De(),n=p[r],n?n.p(g,v):(n=p[r]=c[r](g),n.c()),$(n,1),n.m(l.parentNode,l)),g[0]?f||(f=fr(),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},i(g){o||($(n),o=!0)},o(g){V(n),o=!1},d(g){g&&(h(t),h(l),h(a)),h(e),p[r].d(g),f&&f.d(g)}}}function as(s){console.log("Step changed:",s.detail)}function is(s,e,t){let r,n;Yt(s,br,v=>t(9,r=v)),Yt(s,kr,v=>t(6,n=v));let l=!1,a=null,o=!1;qt(()=>{if(!o){const v=encodeURIComponent("/observations/new");wt(`/auth/signin?redirect=${v}`)}});async function c(v){if(!a){lt.showNotification("error","You must be logged in to create observations"),wt("/auth/signin?redirect=/observations/new");return}t(0,l=!0),lt.setLoading("loading");try{const b=v.detail,k={id:crypto.randomUUID(),user_id:a.id||"unknown-user",user:a,species_name:b.species_name||"Unknown Species",scientific_name:b.scientific_name||void 0,description:b.description||void 0,notes:b.notes||void 0,observation_type:b.observation_type,location:b.location,count:b.count||1,confidence:b.confidence||3,weather_conditions:b.weather_conditions||void 0,habitat_type:b.habitat_type||void 0,habitat_description:b.habitat_description||void 0,behavior_notes:b.behavior_notes||void 0,tags:b.tags||[],created_at:new Date().toISOString(),updated_at:new Date().toISOString(),observed_at:new Date().toISOString(),is_verified:!1,verification_status:"pending"};b.images&&b.images.length>0&&(k.image_urls=b.images.map((x,D)=>`placeholder-image-${D+1}.jpg`),k.images=b.images.map(x=>x.name)),b.audio_recording&&(k.audio_url="placeholder-audio.mp3",k.audio_features={frequency_peak:Math.random()*8e3+1e3,amplitude:Math.random()*.8+.2,duration:b.audio_recording.duration||0,pattern_type:["single","repetitive","complex"][Math.floor(Math.random()*3)],noise_ratio:Math.random()*.5,dominant_frequency:Math.random()*6e3+2e3,spectral_centroid:Math.random()*4e3+1e3,zero_crossing_rate:Math.random()*.1}),k.species_name!=="Unknown Species"&&(k.ai_predictions={species:[{name:k.species_name,scientific_name:k.scientific_name||"",confidence:Math.random()*.3+.7}],confidence:Math.random()*3+7,identification_method:b.observation_type==="multi-modal"?"multi-modal":b.observation_type,processing_time:Math.random()*2+.5,model_version:"1.0.0"}),await new Promise(x=>setTimeout(x,1e3)),yr.update(x=>[...x,k]),lt.showNotification("success","Observation created successfully!"),wt("/observations")}catch(b){console.error("Error creating observation:",b),lt.showNotification("error","Failed to create observation. Please try again.")}finally{t(0,l=!1),lt.setLoading("idle")}}function p(){wt("/observations")}let _={};qt(()=>{const v=new URLSearchParams(r.url.search);if(v.has("lat")&&v.has("lng")&&t(2,_.location={latitude:parseFloat(v.get("lat")),longitude:parseFloat(v.get("lng"))},_),v.has("species")&&t(2,_.species_name=v.get("species"),_),v.has("type")){const b=v.get("type");["visual","audio","multi-modal"].includes(b)&&t(2,_.observation_type=b,_)}});const f=()=>wt("/observations"),g=()=>wt("/auth/signin?redirect=/observations/new");return s.$$.update=()=>{s.$$.dirty&64&&t(5,a=(n==null?void 0:n.user)||null),s.$$.dirty&32&&t(1,o=!!a)},[l,o,_,c,p,a,n,f,g]}class vs extends Ke{constructor(e){super(),Qe(this,e,is,ss,Ze,{})}}export{vs as component};
